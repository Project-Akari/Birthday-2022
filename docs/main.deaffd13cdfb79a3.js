"use strict";(self.webpackChunkproject_akari=self.webpackChunkproject_akari||[]).push([[179],{290:()=>{function ce(t){return"function"==typeof t}function Zo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const iu=Zo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ls(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){e=s instanceof iu?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{A_(s)}catch(o){e=e??[],o instanceof iu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new iu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)A_(e);else{if(e instanceof tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ls(n,e)}remove(e){const{_finalizers:n}=this;n&&ls(n,e),e instanceof tn&&e._removeParent(this)}}tn.EMPTY=(()=>{const t=new tn;return t.closed=!0,t})();const x_=tn.EMPTY;function T_(t){return t instanceof tn||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function A_(t){ce(t)?t():t.unsubscribe()}const Ci={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},su={setTimeout(t,e,...n){const{delegate:r}=su;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=su;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function P_(t){su.setTimeout(()=>{const{onUnhandledError:e}=Ci;if(!e)throw t;e(t)})}function ou(){}const kT=Kd("C",void 0,void 0);function Kd(t,e,n){return{kind:t,value:e,error:n}}let wi=null;function au(t){if(Ci.useDeprecatedSynchronousErrorHandling){const e=!wi;if(e&&(wi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=wi;if(wi=null,n)throw r}}else t()}class Qd extends tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,T_(e)&&e.add(this)):this.destination=$T}static create(e,n,r){return new lu(e,n,r)}next(e){this.isStopped?Jd(function VT(t){return Kd("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Jd(function LT(t){return Kd("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jd(kT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jT=Function.prototype.bind;function Zd(t,e){return jT.call(t,e)}class UT{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){uu(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){uu(r)}else uu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){uu(n)}}}class lu extends Qd{constructor(e,n,r){let i;if(super(),ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ci.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zd(e.next,s),error:e.error&&Zd(e.error,s),complete:e.complete&&Zd(e.complete,s)}):i=e}this.destination=new UT(i)}}function uu(t){Ci.useDeprecatedSynchronousErrorHandling?function BT(t){Ci.useDeprecatedSynchronousErrorHandling&&wi&&(wi.errorThrown=!0,wi.error=t)}(t):P_(t)}function Jd(t,e){const{onStoppedNotification:n}=Ci;n&&su.setTimeout(()=>n(t,e))}const $T={closed:!0,next:ou,error:function HT(t){throw t},complete:ou},eh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Di(t){return t}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function zT(t){return t&&t instanceof Qd||function GT(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}(t)&&T_(t)}(n)?n:new lu(n,r,i);return au(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=R_(r))((i,s)=>{const o=new lu({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[eh](){return this}pipe(...n){return function N_(t){return 0===t.length?Di:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=R_(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function R_(t){var e;return null!==(e=t??Ci.Promise)&&void 0!==e?e:Promise}const WT=Zo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nn=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new O_(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new WT}next(n){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?x_:(this.currentObservers=null,s.push(n),new tn(()=>{this.currentObservers=null,ls(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new O_(e,n),t})();class O_ extends nn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:x_}}function F_(t){return ce(t?.lift)}function ct(t){return e=>{if(F_(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,n,r,i){return new qT(t,e,n,r,i)}class qT extends Qd{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return ct((n,r)=>{let i=0;n.subscribe(dt(r,s=>{r.next(t.call(e,s,i++))}))})}function Ei(t){return this instanceof Ei?(this.v=t,this):new Ei(t)}function KT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,p){s.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ei?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function QT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function V_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const nh=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function B_(t){return ce(t?.then)}function j_(t){return ce(t[eh])}function U_(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function H_(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $_=function JT(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function G_(t){return ce(t?.[$_])}function z_(t){return KT(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ei(n.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{n.releaseLock()}})}function W_(t){return ce(t?.getReader)}function Nn(t){if(t instanceof $e)return t;if(null!=t){if(j_(t))return function eA(t){return new $e(e=>{const n=t[eh]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(nh(t))return function tA(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(B_(t))return function nA(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,P_)})}(t);if(U_(t))return q_(t);if(G_(t))return function rA(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(W_(t))return function iA(t){return q_(z_(t))}(t)}throw H_(t)}function q_(t){return new $e(e=>{(function sA(t,e){var n,r,i,s;return function YT(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=QT(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ht(t,e,n=1/0){return ce(e)?ht((r,i)=>pe((s,o)=>e(r,s,i,o))(Nn(t(r,i))),n):("number"==typeof e&&(n=e),ct((r,i)=>function oA(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=p=>u<r?g(p):l.push(p),g=p=>{s&&e.next(p),u++;let m=!1;Nn(n(p,c++)).subscribe(dt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const _=l.shift();o?Mr(e,o,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function us(t=1/0){return ht(Di,t)}const Ir=new $e(t=>t.complete());function Y_(t){return t&&ce(t.schedule)}function rh(t){return t[t.length-1]}function X_(t){return ce(rh(t))?t.pop():void 0}function Jo(t){return Y_(rh(t))?t.pop():void 0}function K_(t,e=0){return ct((n,r)=>{n.subscribe(dt(r,i=>Mr(r,t,()=>r.next(i),e),()=>Mr(r,t,()=>r.complete(),e),i=>Mr(r,t,()=>r.error(i),e)))})}function Q_(t,e=0){return ct((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Z_(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{Mr(n,e,()=>{const r=t[Symbol.asyncIterator]();Mr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function it(t,e){return e?function gA(t,e){if(null!=t){if(j_(t))return function uA(t,e){return Nn(t).pipe(Q_(e),K_(e))}(t,e);if(nh(t))return function dA(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(B_(t))return function cA(t,e){return Nn(t).pipe(Q_(e),K_(e))}(t,e);if(U_(t))return Z_(t,e);if(G_(t))return function hA(t,e){return new $e(n=>{let r;return Mr(n,e,()=>{r=t[$_](),Mr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}(t,e);if(W_(t))return function fA(t,e){return Z_(z_(t),e)}(t,e)}throw H_(t)}(t,e):Nn(t)}function ih(...t){const e=Jo(t),n=function lA(t,e){return"number"==typeof rh(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Nn(r[0]):us(n)(it(r,e)):Ir}function rn(t){return t<=0?()=>Ir:ct((e,n)=>{let r=0;e.subscribe(dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sh(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(rn(1)).subscribe(()=>t())}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function oh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ah(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const mA=Ae({__forward_ref__:Ae});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return Pe(this())},t}function j(t){return lh(t)?t():t}function lh(t){return"function"==typeof t&&t.hasOwnProperty(mA)&&t.__forward_ref__===Oe}class Z extends Error{constructor(e,n){super(function cu(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function du(t,e){throw new Z(-201,!1)}function on(t,e){null==t&&function we(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function uh(t){return J_(t,hu)||J_(t,ty)}function J_(t,e){return t.hasOwnProperty(e)?t[e]:null}function ey(t){return t&&(t.hasOwnProperty(ch)||t.hasOwnProperty(bA))?t[ch]:null}const hu=Ae({\u0275prov:Ae}),ch=Ae({\u0275inj:Ae}),ty=Ae({ngInjectableDef:Ae}),bA=Ae({ngInjectorDef:Ae});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let dh;function lr(t){const e=dh;return dh=t,e}function ny(t,e,n){const r=uh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void du(Pe(t))}function Xr(t){return{toString:t}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),ur=(()=>{return(t=ur||(ur={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ur;var t})();const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cs={},ye=[],fu=Ae({\u0275cmp:Ae}),hh=Ae({\u0275dir:Ae}),fh=Ae({\u0275pipe:Ae}),ry=Ae({\u0275mod:Ae}),Tr=Ae({\u0275fac:Ae}),ea=Ae({__NG_ELEMENT_ID__:Ae});let MA=0;function On(t){return Xr(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,id:"c",styles:t.styles||ye,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.id+=MA++,i.inputs=oy(t.inputs,r),i.outputs=oy(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(iy).filter(sy):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Nt).filter(sy):null,i})}function iy(t){return Ne(t)||Pt(t)}function sy(t){return null!==t}const xA={};function Fn(t){return Xr(()=>{const e={type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(xA[t.id]=t.type),e})}function oy(t,e){if(null==t)return cs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=On;function Ne(t){return t[fu]||null}function Pt(t){return t[hh]||null}function Nt(t){return t[fh]||null}function an(t,e){const n=t[ry]||null;if(!n&&!0===e)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return n}function qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ln(t){return Array.isArray(t)&&!0===t[1]}function mh(t){return 0!=(8&t.flags)}function _u(t){return 2==(2&t.flags)}function yu(t){return 1==(1&t.flags)}function Vn(t){return null!==t.template}function RA(t){return 0!=(256&t[2])}function xi(t,e){return t.hasOwnProperty(Tr)?t[Tr]:null}class kA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yt(){return uy}function uy(t){return t.type.prototype.ngOnChanges&&(t.setInput=VA),LA}function LA(){const t=dy(this),e=t?.current;if(e){const n=t.previous;if(n===cs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VA(t,e,n,r){const i=dy(t)||function BA(t,e){return t[cy]=e}(t,{previous:cs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new kA(l&&l.currentValue,e,o===cs),t[r]=e}Yt.ngInherit=!0;const cy="__ngSimpleChanges__";function dy(t){return t[cy]||null}let wh;function Ye(t){return!!t.listen}const hy={createRenderer:(t,e)=>function Dh(){return void 0!==wh?wh:typeof document<"u"?document:void 0}()};function st(t){for(;Array.isArray(t);)t=t[0];return t}function vu(t,e){return st(e[t])}function Dn(t,e){return st(e[t.index])}function Eh(t,e){return t.data[e]}function un(t,e){const n=e[t];return qt(n)?n:n[0]}function bh(t){return 64==(64&t[2])}function Kr(t,e){return null==e?null:t[e]}function gy(t){t[18]=0}function Sh(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const W={lFrame:Ey(null),bindingsEnabled:!0};function my(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function he(){return W.lFrame.tView}function Bn(t){return W.lFrame.contextLView=t,t[8]}function jn(t){return W.lFrame.contextLView=null,t}function ft(){let t=_y();for(;null!==t&&64===t.type;)t=t.parent;return t}function _y(){return W.lFrame.currentTNode}function cr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function Mh(){return W.lFrame.isParent}function Ih(){W.lFrame.isParent=!1}function Ot(){const t=W.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ms(){return W.lFrame.bindingIndex++}function Pr(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nP(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,xh(e)}function xh(t){W.lFrame.currentDirectiveIndex=t}function Ah(t){W.lFrame.currentQueryIndex=t}function iP(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function wy(t,e,n){if(n&k.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&k.Host||(i=iP(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=Dy();return r.currentTNode=e,r.lView=t,!0}function wu(t){const e=Dy(),n=t[1];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Dy(){const t=W.lFrame,e=null===t?null:t.child;return null===e?Ey(t):e}function Ey(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function by(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Sy=by;function Du(){const t=by();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ft(){return W.lFrame.selectedIndex}function Qr(t){W.lFrame.selectedIndex=t}function Xe(){const t=W.lFrame;return Eh(t.tView,t.selectedIndex)}function Eu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function bu(t,e,n){My(t,e,3,n)}function Su(t,e,n,r){(3&t[2])===n&&My(t,e,n,r)}function Ph(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function My(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(fP(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function fP(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class sa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Mu(t,e,n){const r=Ye(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Rh(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Iy(t){return 3===t||4===t||6===t}function Rh(t){return 64===t.charCodeAt(0)}function Iu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xy(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xy(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ty(t){return-1!==t}function _s(t){return 32767&t}function ys(t,e){let n=function yP(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Oh=!0;function xu(t){const e=Oh;return Oh=t,e}let vP=0;const dr={};function aa(t,e){const n=kh(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fh(r.data,t),Fh(e,null),Fh(r.blueprint,null));const i=Tu(t,e),s=t.injectorIndex;if(Ty(i)){const o=_s(i),a=ys(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Fh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kh(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Vy(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Au(t,e,n){!function CP(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ea)&&(r=n[ea]),null==r&&(r=n[ea]=vP++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ny(t,e,n){if(n&k.Optional)return t;du()}function Ry(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=lr(void 0);try{return i?i.get(e,r,n&k.Optional):ny(e,r,n&k.Optional)}finally{lr(s)}}return Ny(r,0,n)}function Oy(t,e,n,r=k.Default,i){if(null!==t){if(1024&e[2]){const o=function SP(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=Fy(s,o,n,r|k.Self,dr);if(a!==dr)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,dr,r);if(c!==dr)return c}l=Vy(o),o=o[15]}s=l}return i}(t,e,n,r,dr);if(o!==dr)return o}const s=Fy(t,e,n,r,dr);if(s!==dr)return s}return Ry(e,n,r,i)}function Fy(t,e,n,r,i){const s=function EP(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ea)?t[ea]:void 0;return"number"==typeof e?e>=0?255&e:bP:e}(n);if("function"==typeof s){if(!wy(e,t,r))return r&k.Host?Ny(i,0,r):Ry(e,n,r,i);try{const o=s(r);if(null!=o||r&k.Optional)return o;du()}finally{Sy()}}else if("number"==typeof s){let o=null,a=kh(t,e),l=-1,u=r&k.Host?e[16][6]:null;for((-1===a||r&k.SkipSelf)&&(l=-1===a?Tu(t,e):e[a+8],-1!==l&&Ly(r,!1)?(o=e[1],a=_s(l),e=ys(l,e)):a=-1);-1!==a;){const c=e[1];if(ky(s,a,c.data)){const d=DP(a,e,n,o,r,u);if(d!==dr)return d}l=e[a+8],-1!==l&&Ly(r,e[1].data[a+8]===u)&&ky(s,a,e)?(o=c,a=_s(l),e=ys(l,e)):a=-1}}return i}function DP(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function Pu(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&Vn(f)&&f.type===n)return l}return null}(a,o,n,null==r?_u(a)&&Oh:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==c?la(e,o,c,a):dr}function la(t,e,n,r){let i=t[n];const s=e.data;if(function gP(t){return t instanceof sa}(i)){const o=i;o.resolving&&function _A(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=xu(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?lr(o.injectImpl):null;wy(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function hP(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=uy(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&lr(l),xu(a),o.resolving=!1,Sy()}}return i}function ky(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ly(t,e){return!(t&k.Self||t&k.Host&&e)}class vs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Oy(this._tNode,this._lView,e,r,n)}}function bP(){return new vs(ft(),D())}function St(t){return Xr(()=>{const e=t.prototype.constructor,n=e[Tr]||Lh(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Tr]||Lh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Lh(t){return lh(t)?()=>{const e=Lh(j(t));return e&&e()}:xi(t)}function Vy(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}function ua(t){return function wP(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Iy(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ft(),t)}const ws="__parameters__";function Es(t,e,n){return Xr(()=>{const r=function Vh(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(ws)?l[ws]:Object.defineProperty(l,ws,{value:[]})[ws];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const IP=new q("AnalyzeForEntryComponents");function Nr(t,e){t.forEach(n=>Array.isArray(n)?Nr(n,e):e(n))}function jy(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ha(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function dn(t,e,n){let r=bs(t,e);return r>=0?t[1|r]=n:(r=~r,function AP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function jh(t,e){const n=bs(t,e);if(n>=0)return t[1|n]}function bs(t,e){return function $y(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const fa={},Hh="__NG_DI_FLAG__",Ou="ngTempTokenPath",VP=/\n/gm,Gy="__source";let ga;function Fu(t){const e=ga;return ga=t,e}function jP(t,e=k.Default){if(void 0===ga)throw new Z(-203,"");return null===ga?ny(t,void 0,e):ga.get(t,e&k.Optional?null:void 0,e)}function A(t,e=k.Default){return(function SA(){return dh}()||jP)(j(t),e)}function $h(t){const e=[];for(let n=0;n<t.length;n++){const r=j(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Z(900,"");let i,s=k.Default;for(let o=0;o<r.length;o++){const a=r[o],l=HP(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(A(i,s))}else e.push(A(r))}return e}function pa(t,e){return t[Hh]=e,t.prototype[Hh]=e,t}function HP(t){return t[Hh]}const ku=pa(Es("Inject",t=>({token:t})),-1),Rr=pa(Es("Optional"),8),ma=pa(Es("SkipSelf"),4);class nv{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Jr(t){return t instanceof nv?t.changingThisBreaksApplicationSecurity:t}const d1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,h1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ot=(()=>((ot=ot||{})[ot.NONE=0]="NONE",ot[ot.HTML=1]="HTML",ot[ot.STYLE=2]="STYLE",ot[ot.SCRIPT=3]="SCRIPT",ot[ot.URL=4]="URL",ot[ot.RESOURCE_URL=5]="RESOURCE_URL",ot))();function Is(t){const e=function wa(){const t=D();return t&&t[12]}();return e?e.sanitize(ot.URL,t)||"":function va(t,e){const n=function a1(t){return t instanceof nv&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Jr(t):function Uu(t){return(t=String(t)).match(d1)||t.match(h1)?t:"unsafe:"+t}(Y(t))}const Kh=new Map;let M1=0;const Zh="__ngContext__";function Mt(t,e){qt(e)?(t[Zh]=e[20],function x1(t){Kh.set(t[20],t)}(e)):t[Zh]=e}function Da(t){const e=t[Zh];return"number"==typeof e?function dv(t){return Kh.get(t)||null}(e):e||null}function $u(t){const e=Da(t);return e?qt(e)?e:e.lView:null}function ef(t){return t.ngOriginalError}function j1(t,...e){t.error(...e)}class xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function B1(t){return t&&t.ngErrorLogger||j1}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ef(e);for(;n&&ef(n);)n=ef(n);return n||null}}const K1=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(xe))();function _v(t){return t.ownerDocument.defaultView}function Or(t){return t instanceof Function?t():t}var hn=(()=>((hn=hn||{})[hn.Important=1]="Important",hn[hn.DashCase=2]="DashCase",hn))();function nf(t,e){return undefined(t,e)}function Ea(t){const e=t[3];return Ln(e)?e[3]:e}function rf(t){return Dv(t[13])}function sf(t){return Dv(t[4])}function Dv(t){for(;null!==t&&!Ln(t);)t=t[4];return t}function As(t,e,n,r,i){if(null!=r){let s,o=!1;Ln(r)?s=r:qt(r)&&(o=!0,r=r[0]);const a=st(r);0===t&&null!==n?null==i?xv(e,n,a):Ti(e,n,a,i||null,!0):1===t&&null!==n?Ti(e,n,a,i||null,!0):2===t?function kv(t,e,n){const r=Gu(t,e);r&&function cN(t,e,n,r){Ye(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function fN(t,e,n,r,i){const s=n[7];s!==st(n)&&As(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];ba(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function af(t,e,n){if(Ye(t))return t.createElement(e,n);{const r=null!==n?function $A(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function bv(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Sh(i,-1)),n.splice(r,1)}function lf(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&bv(i,r),e>0&&(t[n-1][4]=r[4]);const s=Nu(t,10+e);!function nN(t,e){ba(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Sv(t,e){if(!(128&e[2])){const n=e[11];Ye(n)&&n.destroyNode&&ba(t,e,n,3,null,null),function sN(t){let e=t[13];if(!e)return uf(t[1],t);for(;e;){let n=null;if(qt(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)qt(e)&&uf(e[1],e),e=e[3];null===e&&(e=t),qt(e)&&uf(e[1],e),n=e&&e[4]}e=n}}(e)}}function uf(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function uN(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof sa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function lN(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):st(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ye(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ln(e[3])){n!==e[3]&&bv(n,e);const r=e[19];null!==r&&r.detachView(t)}!function T1(t){Kh.delete(t[20])}(e)}}function Mv(t,e,n){return function Iv(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===ur.None||i===ur.Emulated)return null}return Dn(r,n)}(t,e.parent,n)}function Ti(t,e,n,r,i){Ye(t)?t.insertBefore(e,n,r,i):(Av(e)?e.content:e).insertBefore(n,r,i)}function xv(t,e,n){Ye(t)?t.appendChild(e,n):(Av(e)?e.content:e).appendChild(n)}function Tv(t,e,n,r,i){null!==r?Ti(t,e,n,r,i):xv(t,e,n)}function Av(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}function Gu(t,e){return Ye(t)?t.parentNode(e):e.parentNode}function Pv(t,e,n){return Rv(t,e,n)}let Rv=function Nv(t,e,n){return 40&t.type?Dn(t,n):null};function zu(t,e,n,r){const i=Mv(t,r,e),s=e[11],a=Pv(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Tv(s,i,n[l],a,!1);else Tv(s,i,n,a,!1)}function Wu(t,e){if(null!==e){const n=e.type;if(3&n)return Dn(e,t);if(4&n)return df(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Wu(t,r);{const i=t[e.index];return Ln(i)?df(-1,i):st(i)}}if(32&n)return nf(e,t)()||st(t[e.index]);{const r=Fv(t,e);return null!==r?Array.isArray(r)?r[0]:Wu(Ea(t[16]),r):Wu(t,e.next)}}return null}function Fv(t,e){return null!==e?t[16][6].projection[e.projection]:null}function df(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Wu(r,i)}return e[7]}function hf(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Mt(st(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)hf(t,e,n.child,r,i,s,!1),As(e,t,i,a,s);else if(32&l){const u=nf(n,r);let c;for(;c=u();)As(e,t,i,c,s);As(e,t,i,a,s)}else 16&l?Lv(t,e,r,n,i,s):As(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ba(t,e,n,r,i,s){hf(n,r,t.firstChild,e,i,s,!1)}function Lv(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)As(e,t,i,l[u],s);else hf(t,e,l,o[3],i,s,!0)}function Vv(t,e,n){Ye(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ff(t,e,n){Ye(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Bv(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const jv="ng-template";function pN(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Bv(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Uv(t){return 4===t.type&&t.value!==jv}function mN(t,e,n){return e===(4!==t.type||n?t.value:jv)}function _N(t,e,n){let r=4;const i=t.attrs||[],s=function CN(t){for(let e=0;e<t.length;e++)if(Iy(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!mN(t,l,n)||""===l&&1===e.length){if(Un(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!pN(t.attrs,u,n)){if(Un(r))return!1;o=!0}continue}const d=yN(8&r?"class":l,i,Uv(t),n);if(-1===d){if(Un(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Bv(f,u,0)||2&r&&u!==h){if(Un(r))return!1;o=!0}}}}else{if(!o&&!Un(r)&&!Un(l))return!1;if(o&&Un(l))continue;o=!1,r=l|1&r}}return Un(r)||o}function Un(t){return 0==(1&t)}function yN(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function wN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Hv(t,e,n=!1){for(let r=0;r<e.length;r++)if(_N(t,e[r],n))return!0;return!1}function DN(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function $v(t,e){return t?":not("+e.trim()+")":e}function EN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Un(o)&&(e+=$v(s,i),i=""),r=o,s=s||!Un(r);n++}return""!==i&&(e+=$v(s,i)),e}const X={};function ve(t){Gv(he(),D(),Ft()+t,!1)}function Gv(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&bu(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Su(e,s,0,n)}Qr(n)}const Yv=new q("ENVIRONMENT_INITIALIZER"),Xv=new q("INJECTOR_DEF_TYPES");function PN(...t){return{\u0275providers:Kv(0,t)}}function Kv(t,...e){const n=[],r=new Set;let i;return Nr(e,s=>{const o=s;gf(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Qv(i,n),n}function Qv(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Nr(i,s=>{e.push(s)})}}function gf(t,e,n,r){if(!(t=j(t)))return!1;let i=null,s=ey(t);const o=!s&&Ne(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=ey(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)gf(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Nr(s.imports,c=>{gf(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&Qv(u,e)}if(!a){const u=xi(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ye},{provide:Xv,useValue:i,multi:!0},{provide:Yv,useValue:()=>A(i),multi:!0})}const l=s.providers;null==l||a||Nr(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}const NN=Ae({provide:String,useValue:Ae});function pf(t){return null!==t&&"object"==typeof t&&NN in t}function Ai(t){return"function"==typeof t}const mf=new q("INJECTOR",-1);class eC{get(e,n=fa){if(n===fa){const r=new Error(`NullInjectorError: No provider for ${Pe(e)}!`);throw r.name="NullInjectorError",r}return n}}const _f=new q("Set Injector scope."),qu={},ON={};let yf;function vf(){return void 0===yf&&(yf=new eC),yf}class Pi{}class tC extends Pi{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wf(e,o=>this.processProvider(o)),this.records.set(mf,Ps(void 0,this)),i.has("environment")&&this.records.set(Pi,Ps(void 0,this));const s=this.records.get(_f);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Xv.multi,ye,k.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,n=fa,r=k.Default){this.assertNotDestroyed();const i=Fu(this),s=lr(void 0);try{if(!(r&k.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function BN(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&uh(e);a=l&&this.injectableDefInScope(l)?Ps(Cf(e),qu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&k.Self?vf():this.parent).get(e,n=r&k.Optional&&n===fa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ou]=o[Ou]||[]).unshift(Pe(e)),i)throw o;return function $P(t,e,n,r){const i=t[Ou];throw e[Gy]&&i.unshift(e[Gy]),t.message=function GP(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Pe(e);if(Array.isArray(e))i=e.map(Pe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VP,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ou]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{lr(s),Fu(i)}}resolveInjectorInitializers(){const e=Fu(this),n=lr(void 0);try{const r=this.get(Yv.multi,ye,k.Self);for(const i of r)i()}finally{Fu(e),lr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Pe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){let n=Ai(e=j(e))?e:j(e&&e.provide);const r=function kN(t){return pf(t)?Ps(void 0,t.useValue):Ps(nC(t),qu)}(e);if(Ai(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ps(void 0,qu,!0),i.factory=()=>$h(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===qu&&(n.value=ON,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VN(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=j(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Cf(t){const e=uh(t),n=null!==e?e.factory:xi(t);if(null!==n)return n;if(t instanceof q)throw new Z(204,!1);if(t instanceof Function)return function FN(t){const e=t.length;if(e>0)throw ha(e,"?"),new Z(204,!1);const n=function DA(t){const e=t&&(t[hu]||t[ty]);if(e){const n=function EA(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Z(204,!1)}function nC(t,e,n){let r;if(Ai(t)){const i=j(t);return xi(i)||Cf(i)}if(pf(t))r=()=>j(t.useValue);else if(function Jv(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...$h(t.deps||[]));else if(function Zv(t){return!(!t||!t.useExisting)}(t))r=()=>A(j(t.useExisting));else{const i=j(t&&(t.useClass||t.provide));if(!function LN(t){return!!t.deps}(t))return xi(i)||Cf(i);r=()=>new i(...$h(t.deps))}return r}function Ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jN(t){return!!t.\u0275providers}function wf(t,e){for(const n of t)Array.isArray(n)?wf(n,e):jN(n)?wf(n.\u0275providers,e):e(n)}function rC(t,e=null,n=null,r){const i=iC(t,e,n,r);return i.resolveInjectorInitializers(),i}function iC(t,e=null,n=null,r,i=new Set){const s=[n||ye,PN(t)];return r=r||("object"==typeof t?void 0:Pe(t)),new tC(s,e||vf(),r||null,i)}let Lt=(()=>{class t{static create(n,r){if(Array.isArray(n))return rC({name:""},r,n,"");{const i=n.name??"";return rC({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=fa,t.NULL=new eC,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>A(mf)}),t.__NG_ELEMENT_ID__=-1,t})();function E(t,e=k.Default){const n=D();return null===n?A(t,e):Oy(ft(),n,j(t),e)}function Mf(){throw new Error("invalid")}function Xu(t,e){return t<<17|e<<2}function Hn(t){return t>>17&32767}function If(t){return 2|t}function Fr(t){return(131068&t)>>2}function xf(t,e){return-131069&t|e<<2}function Tf(t){return 1|t}function wC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ah(i),o.contentQueries(2,e[s],s)}}}function Sa(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),gy(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function I1(){return M1++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function Rs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Bf(t,e,n,r,i){const s=_y(),o=Mh(),l=t.data[e]=function pR(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function tP(){return W.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ia(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return cr(s,!0),s}function Os(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ma(t,e,n){wu(e);try{const r=t.viewQuery;null!==r&&Yf(1,r,n);const i=t.template;null!==i&&SC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wC(t,e),t.staticViewQueries&&Yf(2,t.viewQuery,n);const s=t.components;null!==s&&function hR(t,e){for(let n=0;n<e.length;n++)OR(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Du()}}function Fs(t,e,n,r){const i=e[2];if(128!=(128&i)){wu(e);try{gy(e),function yy(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&SC(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&bu(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Su(e,u,0,null),Ph(e,0)}if(function NR(t){for(let e=rf(t);null!==e;e=sf(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Sh(s,1),i[2]|=512}}}(e),function PR(t){for(let e=rf(t);null!==e;e=sf(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];bh(r)&&Fs(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&wC(t,e),o){const u=t.contentCheckHooks;null!==u&&bu(e,u)}else{const u=t.contentHooks;null!==u&&Su(e,u,1),Ph(e,1)}!function cR(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Qr(~i);else{const s=i,o=n[++r],a=n[++r];nP(o,s),a(2,e[s])}}}finally{Qr(-1)}}(t,e);const a=t.components;null!==a&&function dR(t,e){for(let n=0;n<e.length;n++)RR(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Yf(2,l,r),o){const u=t.viewCheckHooks;null!==u&&bu(e,u)}else{const u=t.viewHooks;null!==u&&Su(e,u,2),Ph(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Sh(e[3],-1))}finally{Du()}}}function fR(t,e,n,r){const i=e[10],o=function fy(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&Ma(t,e,r),Fs(t,e,n,r)}finally{!o&&i.end&&i.end()}}function SC(t,e,n,r,i){const s=Ft(),o=2&r;try{Qr(-1),o&&e.length>22&&Gv(t,e,22,!1),n(r,i)}finally{Qr(s)}}function jf(t,e,n){!my()||(function ER(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||aa(n,e),Mt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=Vn(l);u&&xR(e,n,l);const c=la(e,t,a,n);Mt(c,e),null!==o&&TR(0,a-i,c,l,0,o),u&&(un(n.index,e)[8]=c)}}(t,e,n,Dn(n,e)),128==(128&n.flags)&&function bR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function rP(){return W.lFrame.currentDirectiveIndex}();try{Qr(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];xh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&OC(l,u)}}finally{Qr(-1),xh(o)}}(t,e,n))}function Uf(t,e,n=Dn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function IC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zu(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function gR(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function PC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function fn(t,e,n,r,i,s,o,a){const l=Dn(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(GC(t,n,c,r,i),_u(e)&&function yR(t,e){const n=un(e,t);16&n[2]||(n[2]|=32)}(n,e.index)):3&e.type&&(r=function _R(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ye(s)?s.setProperty(l,r,i):Rh(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Hf(t,e,n,r){let i=!1;if(my()){const s=function SR(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Hv(n,o.selectors,!1)&&(i||(i=[]),Au(aa(n,e),t,o.type),Vn(o)?(FC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,kC(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=Os(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Iu(n.mergedAttrs,d.hostAttrs),LC(t,n,e,u,d),IR(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}!function mR(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||Uv(e)?null:AR(d,s);o.push(h),a=PC(d,u,a),l=PC(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(t,n)}o&&function MR(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Z(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Iu(n.mergedAttrs,n.attrs),i}function RC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function DR(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function OC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function FC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function IR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vn(e)&&(n[""]=t)}}function kC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=xi(i.type)),o=new sa(s,Vn(i),E);t.blueprint[r]=o,n[r]=o,RC(t,e,0,r,Os(t,n,i.hostVars,X),i)}function xR(t,e,n){const r=Dn(e,t),i=IC(n),s=t[10],o=Ju(t,Sa(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function TR(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function AR(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function VC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function RR(t,e){const n=un(e,t);if(bh(n)){const r=n[1];48&n[2]?Fs(r,n,r.template,n[8]):n[5]>0&&Gf(n)}}function Gf(t){for(let r=rf(t);null!==r;r=sf(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];Fs(o,s,o.template,s[8])}else s[5]>0&&Gf(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=un(n[r],t);bh(i)&&i[5]>0&&Gf(i)}}function OR(t,e){const n=un(e,t),r=n[1];(function FR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Ma(r,n,n[8])}function Ju(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function zf(t){for(;t;){t[2]|=32;const e=Ea(t);if(RA(t)&&!e)return t;t=e}return null}function BC(t){!function Wf(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=$u(n);if(null!==r){const i=r[1];fR(i,r,i.template,n)}}}(t[8])}function Yf(t,e,n){Ah(0),e(t,n)}const LR=(()=>Promise.resolve(null))();function jC(t){return t[7]||(t[7]=[])}function UC(t){return t.cleanup||(t.cleanup=[])}function $C(t,e){const n=t[9],r=n?n.get(xs,null):null;r&&r.handleError(e)}function GC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function kr(t,e,n){const r=vu(e,t);!function Ev(t,e,n){Ye(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ec(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ah(i,a):2==s&&(r=ah(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function YR(t,e){Eu($u(t)[1],ft())}function be(t){let e=function n0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Vn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Kf(t.inputs),o.declaredInputs=Kf(t.declaredInputs),o.outputs=Kf(t.outputs);const a=i.hostBindings;a&&ZR(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&KR(t,l),u&&QR(t,u),oh(t.inputs,i.inputs),oh(t.declaredInputs,i.declaredInputs),oh(t.outputs,i.outputs),Vn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===be&&(n=!1)}}e=Object.getPrototypeOf(e)}!function XR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Iu(i.hostAttrs,n=Iu(n,i.hostAttrs))}}(r)}function Kf(t){return t===cs?{}:t===ye?[]:t}function KR(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function QR(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function ZR(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let tc=null;function Ni(){if(!tc){const t=xe.Symbol;if(t&&t.iterator)tc=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(tc=r)}}}return tc}function Ia(t){return!!Qf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ni()in t)}function Qf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function gr(t,e,n){return t[e]=n}function It(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ls(t,e,n,r){return It(t,ms(),n)?e+Y(n)+r:X}function vt(t,e,n,r,i,s,o,a){const l=D(),u=he(),c=t+22,d=u.firstCreatePass?function sO(t,e,n,r,i,s,o,a,l){const u=e.consts,c=Rs(e,t,4,o||null,Kr(u,a));Hf(e,n,c,Kr(u,l)),Eu(e,c);const d=c.tViews=Zu(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];cr(d,!1);const h=l[11].createComment("");zu(u,l,h,d),Mt(h,l),Ju(l,l[c]=VC(h,l,h,d)),yu(d)&&jf(u,l,d),null!=o&&Uf(l,d,a)}function fe(t,e,n){const r=D();return It(r,ms(),e)&&fn(he(),Xe(),r,t,e,r[11],n,!1),fe}function Zf(t,e,n,r,i){const o=i?"class":"style";GC(t,n,e.inputs[o],o,r)}function H(t,e,n,r){const i=D(),s=he(),o=22+t,a=i[11],l=i[o]=af(a,e,function dP(){return W.lFrame.currentNamespace}()),u=s.firstCreatePass?function lO(t,e,n,r,i,s,o){const a=e.consts,u=Rs(e,t,2,i,Kr(a,s));return Hf(e,n,u,Kr(a,o)),null!==u.attrs&&ec(u,u.attrs,!1),null!==u.mergedAttrs&&ec(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];cr(u,!0);const c=u.mergedAttrs;null!==c&&Mu(a,l,c);const d=u.classes;null!==d&&ff(a,l,d);const h=u.styles;return null!==h&&Vv(a,l,h),64!=(64&u.flags)&&zu(s,i,l,u),0===function XA(){return W.lFrame.elementDepthCount}()&&Mt(l,i),function KA(){W.lFrame.elementDepthCount++}(),yu(u)&&(jf(s,i,u),function MC(t,e,n){if(mh(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,u,i)),null!==r&&Uf(i,u),H}function te(){let t=ft();Mh()?Ih():(t=t.parent,cr(t,!1));const e=t;!function QA(){W.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Eu(n,t),mh(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function mP(t){return 0!=(16&t.flags)}(e)&&Zf(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _P(t){return 0!=(32&t.flags)}(e)&&Zf(n,e,D(),e.stylesWithoutHost,!1),te}function Te(t,e,n,r){return H(t,e,n,r),te(),Te}function mr(){return D()}function Ta(t){return!!t&&"function"==typeof t.then}const ng=function g0(t){return!!t&&"function"==typeof t.subscribe};function De(t,e,n,r){const i=D(),s=he(),o=ft();return function m0(t,e,n,r,i,s,o,a){const l=yu(r),c=t.firstCreatePass&&UC(t),d=e[8],h=jC(e);let f=!0;if(3&r.type||a){const m=Dn(r,e),_=a?a(m):m,v=h.length,y=a?C=>a(st(C[r.index])):r.index;if(Ye(n)){let C=null;if(!a&&l&&(C=function cO(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=rg(r,e,d,s,!1);const S=n.listen(_,i,s);h.push(s,S),c&&c.push(i,y,v,v+1)}}else s=rg(r,e,d,s,!0),_.addEventListener(i,s,o),h.push(s),c&&c.push(i,y,v,o)}else s=rg(r,e,d,s,!1);const g=r.outputs;let p;if(f&&null!==g&&(p=g[i])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const se=e[p[_]][p[_+1]].subscribe(s),_t=h.length;h.push(s,se),c&&c.push(i,r.index,_t,-(_t+1))}}}(s,i,i[11],o,t,e,!!n,r),De}function _0(t,e,n,r){try{return!1!==n(r)}catch(i){return $C(t,i),!1}}function rg(t,e,n,r,i){return function s(o){if(o===Function)return r;zf(2&t.flags?un(t.index,e):e);let l=_0(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=_0(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function xt(t=1){return function sP(t){return(W.lFrame.contextLView=function oP(t,e){for(;t>0;)e=e[15],t--;return e}(t,W.lFrame.contextLView))[8]}(t)}function dO(t,e){let n=null;const r=function vN(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Hv(t,s,!0):DN(r,s))return i}else n=i}return n}function rc(t,e,n,r,i){const s=D(),o=Ls(s,e,n,r);return o!==X&&fn(he(),Xe(),s,t,o,s[11],i,!1),rc}function T0(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Hn(s):Fr(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];gO(t[a],e)&&(l=!0,t[a+1]=r?Tf(c):If(c)),a=r?Hn(c):Fr(c)}l&&(t[n+1]=r?If(s):Tf(s))}function gO(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bs(t,e)>=0}const pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function A0(t){return t.substring(pt.key,pt.keyEnd)}function pO(t){return t.substring(pt.value,pt.valueEnd)}function N0(t,e){const n=pt.textEnd;let r=pt.key=zs(t,e,n);return n===r?-1:(r=pt.keyEnd=function vO(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=O0(t,r,n),r=pt.value=zs(t,r,n),r=pt.valueEnd=function CO(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=F0(t,l,o,n):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=F0(t,41,o,n):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(t,r,n),O0(t,r,n))}function zs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function O0(t,e,n,r){return(e=zs(t,e,n))<n&&e++,e}function F0(t,e,n,r){let i=-1,s=n;for(;s<r;){const o=t.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function ic(t,e){return function Gn(t,e,n,r){const i=D(),s=he(),o=Pr(2);s.firstUpdatePass&&V0(s,t,o,r),e!==X&&It(i,o,e)&&j0(s,s.data[Ft()],i,i[11],t,i[o+1]=function TO(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Pe(Jr(t)))),t}(e,n),r,o)}(t,e,null,!0),ic}function gn(t){!function zn(t,e,n,r){const i=he(),s=Pr(2);i.firstUpdatePass&&V0(i,null,s,r);const o=D();if(n!==X&&It(o,s,n)){const a=i.data[Ft()];if(H0(a,r)&&!L0(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=ah(l,n||"")),Zf(i,a,o,n,r)}else!function xO(t,e,n,r,i,s,o,a){i===X&&(i=ye);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,g=null;c===d?(l+=2,u+=2,h!==f&&(g=d,p=f)):null===d||null!==c&&c<d?(l+=2,g=c):(u+=2,g=d,p=f),null!==g&&j0(t,e,n,r,g,p,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function IO(t,e,n){if(null==n||""===n)return ye;const r=[],i=Jr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(B0,wO,t,!1)}function wO(t,e){for(let n=function _O(t){return function R0(t){pt.key=0,pt.keyEnd=0,pt.value=0,pt.valueEnd=0,pt.textEnd=t.length}(t),N0(t,zs(t,0,pt.textEnd))}(e);n>=0;n=N0(e,n))B0(t,A0(e),pO(e))}function L0(t,e){return e>=t.expandoStartIndex}function V0(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ft()],o=L0(t,n);H0(s,r)&&null===e&&!o&&(e=!1),e=function EO(t,e,n,r){const i=function Th(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Aa(n=ig(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ig(i,t,e,n,r),null===s){let l=function bO(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[Hn(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=ig(null,t,e,l[1],r),l=Aa(l,e.attrs,r),function SO(t,e,n,r){t[Hn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function MO(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Aa(r,t[s].hostAttrs,n);return Aa(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function hO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hn(o),l=Fr(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||bs(d,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const h=Hn(t[a+1]);t[r+1]=Xu(h,a),0!==h&&(t[h+1]=xf(t[h+1],r)),t[a+1]=function eR(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Xu(a,0),0!==a&&(t[a+1]=xf(t[a+1],r)),a=r;else t[r+1]=Xu(l,0),0===a?a=r:t[l+1]=xf(t[l+1],r),l=r;u&&(t[r+1]=If(t[r+1])),T0(t,c,r,!0),T0(t,c,r,!1),function fO(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bs(s,e)>=0&&(n[r+1]=Tf(n[r+1]))}(e,c,t,r,s),o=Xu(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ig(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Aa(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Aa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function B0(t,e,n){dn(t,e,Jr(n))}function j0(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];sc(function fC(t){return 1==(1&t)}(u)?U0(l,e,n,i,Fr(u),o):void 0)||(sc(s)||function hC(t){return 2==(2&t)}(u)&&(s=U0(l,null,n,i,a,o)),function gN(t,e,n,r,i){const s=Ye(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:hn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=hn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,vu(Ft(),n),i,s))}function U0(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===X&&(h=d?ye:void 0);let f=d?jh(h,r):c===r?h:void 0;if(u&&!sc(f)&&(f=jh(l,r)),sc(f)&&(a=f,o))return a;const g=t[i+1];i=o?Hn(g):Fr(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=jh(l,r))}return a}function sc(t){return void 0!==t}function H0(t,e){return 0!=(t.flags&(e?16:32))}function Xt(t,e=""){const n=D(),r=he(),i=t+22,s=r.firstCreatePass?Rs(r,i,1,e,null):r.data[i],o=n[i]=function of(t,e){return Ye(t)?t.createText(e):t.createTextNode(e)}(n[11],e);zu(r,n,o,s),cr(s,!1)}function sg(t){return Ws("",t,""),sg}function Ws(t,e,n){const r=D(),i=Ls(r,t,e,n);return i!==X&&kr(r,Ft(),i),Ws}const Ys="en-US";let dw=Ys;function lg(t,e,n,r,i){if(t=j(t),Array.isArray(t))for(let s=0;s<t.length;s++)lg(t[s],e,n,r,i);else{const s=he(),o=D();let a=Ai(t)?t:j(t.provide),l=nC(t);const u=ft(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Ai(t)||!t.multi){const f=new sa(l,i,E),g=cg(a,e,i?c:c+h,d);-1===g?(Au(aa(u,o),s,a),ug(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=cg(a,e,c+h,d),g=cg(a,e,c,c+h),p=f>=0&&n[f],m=g>=0&&n[g];if(i&&!m||!i&&!p){Au(aa(u,o),s,a);const _=function WF(t,e,n,r,i){const s=new sa(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,kw(s,i,r&&!n),s}(i?zF:GF,n.length,i,r,l);!i&&m&&(n[g].providerFactory=_),ug(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(_),o.push(_)}else ug(s,t,f>-1?f:g,kw(n[i?g:f],l,!i&&r));!i&&r&&m&&n[g].componentProviders++}}}function ug(t,e,n,r){const i=Ai(e),s=function RN(t){return!!t.useClass}(e);if(i||s){const l=(s?j(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function kw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function GF(t,e,n,r){return dg(this.multi,[])}function zF(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=la(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),dg(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],dg(i,s);return s}function dg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function $F(t,e,n){const r=he();if(r.firstCreatePass){const i=Vn(t);lg(n,r.data,r.blueprint,i,!0),lg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class YF{resolveComponentFactory(e){throw function qF(t){const e=Error(`No component factory found for ${Pe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Fa=(()=>{class t{}return t.NULL=new YF,t})();class ni{}class Vw{}class Bw{}function KF(){return Ks(ft(),D())}function Ks(t,e){return new pn(Dn(t,e))}let pn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=KF,t})();class jw{}let Lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function JF(){const t=D(),n=un(ft().index,t);return function ZF(t){return t[11]}(qt(n)?n:t)}(),t})(),ek=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tk=new ka("14.0.0"),hg={};function cc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(st(s)),Ln(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&cc(l[1],l,u,r)}const o=n.type;if(8&o)cc(t,e,n.child,r);else if(32&o){const a=nf(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Fv(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ea(e[16]);cc(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class La{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return cc(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ln(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(lf(e,r),Nu(n,r))}this._attachedToViewContainer=!1}Sv(this._lView[1],this._lView)}onDestroy(e){!function AC(t,e,n,r){const i=jC(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&UC(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function qf(t,e,n){const r=e[10];r.begin&&r.begin();try{Fs(t,e,t.template,n)}catch(i){throw $C(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iN(t,e){ba(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,"");this._appRef=e}}class nk extends La{constructor(e){super(e),this._view=e}detectChanges(){BC(this._view)}checkNoChanges(){}get context(){return null}}class fg extends Fa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ne(e);return new gg(n,this.ngModule)}}function Uw(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ik{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,hg,r);return i!==hg||n===hg?i:this.parentInjector.get(e,n,r)}}class gg extends Bw{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function bN(t){return t.map(EN).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Uw(this.componentDef.inputs)}get outputs(){return Uw(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Pi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new ik(e,s):e,a=o.get(jw,hy),l=o.get(ek,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function TC(t,e,n){if(Ye(t))return t.selectRootElement(e,n===ur.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):af(a.createRenderer(null,this.componentDef),c,function rk(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function t0(t,e){return{components:[],scheduler:t||K1,clean:LR,playerHandler:e||null,flags:0}}(),g=Zu(0,null,null,1,0,null,null,null,null,null),p=Sa(null,g,f,h,null,null,a,u,l,o,null);let m,_;wu(p);try{const v=function JC(t,e,n,r,i,s){const o=n[1];n[22]=t;const l=Rs(o,22,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(ec(l,u,!0),null!==t&&(Mu(i,t,u),null!==l.classes&&ff(i,t,l.classes),null!==l.styles&&Vv(i,t,l.styles)));const c=r.createRenderer(t,e),d=Sa(n,IC(e),null,e.onPush?32:16,n[22],l,r,c,s||null,null,null);return o.firstCreatePass&&(Au(aa(l,n),o,e.type),FC(o,l),kC(l,n.length,1)),Ju(n,d),n[22]=d}(d,this.componentDef,p,a,u);if(d)if(r)Mu(u,d,["ng-version",tk.full]);else{const{attrs:y,classes:C}=function SN(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Un(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Mu(u,d,y),C&&C.length>0&&ff(u,d,C.join(" "))}if(_=Eh(g,22),void 0!==n){const y=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const S=n[C];y.push(null!=S?Array.from(S):null)}}m=function e0(t,e,n,r,i){const s=n[1],o=function wR(t,e,n){const r=ft();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),LC(t,r,e,Os(t,e,1,null),n));const i=la(e,t,r.directiveStart,r);Mt(i,e);const s=Dn(r,e);return s&&Mt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=ft();e.contentQueries(1,o,l.directiveStart)}const a=ft();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qr(a.index),RC(n[1],a,0,a.directiveStart,a.directiveEnd,e),OC(e,o)),o}(v,this.componentDef,p,f,[YR]),Ma(g,p,null)}finally{Du()}return new ok(this.componentType,m,Ks(_,p),p,_)}}class ok extends class XF{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new nk(i),this.componentType=e}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Hw extends ni{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fg(this);const r=an(e);this._bootstrapComponents=Or(r.bootstrap),this._r3Injector=iC(e,n,[{provide:ni,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],Pe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,n=Lt.THROW_IF_NOT_FOUND,r=k.Default){return e===Lt||e===ni||e===mf?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pg extends Vw{constructor(e){super(),this.moduleType=e}create(e){return new Hw(this.moduleType,e)}}class lk extends ni{constructor(e,n,r){super(),this.componentFactoryResolver=new fg(this),this.instance=null;const i=new tC([...e,{provide:ni,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],n||vf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dc(t,e=null,n=null){return new lk(t,e,n).injector}function Va(t,e,n,r){return function Gw(t,e,n,r,i,s){const o=e+n;return It(t,o,i)?gr(t,o+1,s?r.call(s,i):r(i)):function Ba(t,e){const n=t[e];return n===X?void 0:n}(t,o+1)}(D(),Ot(),t,e,n,r)}function mg(t){return e=>{setTimeout(t,void 0,e)}}const je=class Ik extends nn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=mg(s),i&&(i=mg(i)),o&&(o=mg(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof tn&&e.add(a),a}};let Vr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pk,t})();const Tk=Vr,Ak=class extends Tk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Sa(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Ma(r,i,e),new La(i)}};function Pk(){return function hc(t,e){return 4&t.type?new Ak(e,t,Ks(t,e)):null}(ft(),D())}let Wn=(()=>{class t{}return t.__NG_ELEMENT_ID__=Nk,t})();function Nk(){return function Qw(t,e){let n;const r=e[t.index];if(Ln(r))n=r;else{let i;if(8&t.type)i=st(r);else{const s=e[11];i=s.createComment("");const o=Dn(t,e);Ti(s,Gu(s,o),i,function dN(t,e){return Ye(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=VC(r,e,i,t),Ju(e,n)}return new Xw(n,t,e)}(ft(),D())}const Rk=Wn,Xw=class extends Rk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ks(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tu(this._hostTNode,this._hostLView);if(Ty(e)){const n=ys(e,this._hostLView),r=_s(e);return new vs(n[1].data[r+8],n)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Kw(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function da(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new gg(Ne(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(Pi,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function YA(t){return Ln(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new Xw(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function oN(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],jy(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function aN(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=df(s,o),l=r[11],u=Gu(l,o[7]);return null!==u&&function rN(t,e,n,r,i,s){r[0]=i,r[6]=e,ba(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),jy(yg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Kw(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=lf(this._lContainer,n);r&&(Nu(yg(this._lContainer),n),Sv(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=lf(this._lContainer,n);return r&&null!=Nu(yg(this._lContainer),n)?new La(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Kw(t){return t[8]}function yg(t){return t[8]||(t[8]=[])}function gc(...t){}const pc=new q("Application Initializer");let mc=(()=>{class t{constructor(n){this.appInits=n,this.resolve=gc,this.reject=gc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ta(s))n.push(s);else if(ng(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(A(pc,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ha=new q("AppId",{providedIn:"root",factory:function wD(){return`${Pg()}${Pg()}${Pg()}`}});function Pg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DD=new q("Platform Initializer"),_c=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ED=new q("appBootstrapListener");let uL=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Br=new q("LocaleId",{providedIn:"root",factory:()=>function UP(t,e=k.Default){return A(t,e)}(Br,k.Optional|k.SkipSelf)||function cL(){return typeof $localize<"u"&&$localize.locale||Ys}()});class hL{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Ng=(()=>{class t{compileModuleSync(n){return new pg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Or(an(n).declarations).reduce((o,a)=>{const l=Ne(a);return l&&o.push(new gg(l)),o},[]);return new hL(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gL=(()=>Promise.resolve(0))();function Rg(t){typeof Zone>"u"?gL.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pL(){let t=xe.requestAnimationFrame,e=xe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function yL(t){const e=()=>{!function _L(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fg(t),t.isCheckStableRunning=!0,Og(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return bD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),SD(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return bD(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),SD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Fg(t),Og(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,mL,gc,gc);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const mL={};function Og(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SD(t){t._nesting--,Og(t)}class vL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const MD=new q(""),yc=new q("");let Vg,kg=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vg||(function CL(t){Vg=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),Rg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(A(Ze),A(Lg),A(yc))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Lg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Vg?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ri=null;const ID=new q("AllowMultipleToken"),xD=new q("PlatformOnDestroy");class TD{constructor(e,n){this.name=e,this.token=n}}function PD(t,e,n=[]){const r=`Platform: ${e}`,i=new q(r);return(s=[])=>{let o=Bg();if(!o||o.injector.get(ID,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function EL(t){if(ri&&!ri.get(ID,!1))throw new Z(400,"");ri=t;const e=t.get(RD);(function AD(t){const e=t.get(DD,null);e&&e.forEach(n=>n())})(t)}(function ND(t=[],e){return Lt.create({name:e,providers:[{provide:_f,useValue:"platform"},{provide:xD,useValue:()=>ri=null},...t]})}(a,r))}return function SL(t){const e=Bg();if(!e)throw new Z(401,"");return e}()}}function Bg(){return ri?.get(RD)??null}let RD=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ML(t,e){let n;return n="noop"===t?new vL:("zone.js"===t?void 0:t)||new Ze(e),n}(r?.ngZone,function OD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ze,useValue:i}];return i.run(()=>{const o=Lt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(xs,null);if(!l)throw new Z(402,"");return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{vc(this._modules,a),u.unsubscribe()})}),function FD(t,e,n){try{const r=n();return Ta(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(mc);return u.runInitializers(),u.donePromise.then(()=>(function hw(t){on(t,"Expected localeId to be defined"),"string"==typeof t&&(dw=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Br,Ys)||Ys),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=kD({},r);return function wL(t,e,n){const r=new pg(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get($a);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Z(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(xD,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(A(Lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function kD(t,e){return Array.isArray(e)?e.reduce(kD,t):{...t,...e}}let $a=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new $e(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new $e(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),Rg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=ih(o,a.pipe(function pA(t={}){const{connector:e=(()=>new nn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,l=null,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),o=l=null,c=d=!1},g=()=>{const p=o;f(),p?.unsubscribe()};return ct((p,m)=>{u++,!d&&!c&&h();const _=l=l??e();m.add(()=>{u--,0===u&&!d&&!c&&(a=sh(g,i))}),_.subscribe(m),o||(o=new lu({next:v=>_.next(v),error:v=>{d=!0,h(),a=sh(f,n,v),_.error(v)},complete:()=>{c=!0,h(),a=sh(f,r),_.complete()}}),it(p).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Bw;if(!this._initStatus.done)throw!i&&function Zs(t){const e=Ne(t)||Pt(t)||Nt(t);return null!==e&&e.standalone}(n),new Z(405,false);let s;s=i?n:this._injector.get(Fa).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const o=function DL(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ni),l=s.create(Lt.NULL,[],r||s.selector,o),u=l.location.nativeElement,c=l.injector.get(MD,null);return c?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),vc(this.components,l),c?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Z(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;vc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ED,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,false);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(A(Ze),A(Lt),A(xs),A(mc))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let VD=!0,Cc=(()=>{class t{}return t.__NG_ELEMENT_ID__=TL,t})();function TL(t){return function AL(t,e,n){if(_u(t)&&!n){const r=un(t.index,e);return new La(r,r)}return 47&t.type?new La(e[16],e):null}(ft(),D(),16==(16&t))}class $D{constructor(){}supports(e){return Ia(e)}create(e){return new kL(e)}}const FL=(t,e)=>e;class kL{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FL}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<zD(r,i,s)?n:r,a=zD(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;c<=g&&g<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ia(e))throw new Z(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function rO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ni()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new LL(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new GD),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class LL{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VL{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class GD{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new VL,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zD(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class WD{constructor(){}supports(e){return e instanceof Map||Qf(e)}create(){return new BL}}class BL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Qf(e)))throw new Z(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new jL(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class jL{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qD(){return new Ec([new $D])}let Ec=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qD()),deps:[[t,new ma,new Rr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Z(901,"")}}return t.\u0275prov=J({token:t,providedIn:"root",factory:qD}),t})();function YD(){return new Ga([new WD])}let Ga=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||YD()),deps:[[t,new ma,new Rr]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Z(901,"")}}return t.\u0275prov=J({token:t,providedIn:"root",factory:YD}),t})();const $L=PD(null,"core",[]);let GL=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(A($a))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({}),t})();function jr(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let bc=null;function vr(){return bc}const Kt=new q("DocumentToken");let za=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function YL(){return A(XD)}()},providedIn:"platform"}),t})();const XL=new q("Location Initialized");let XD=(()=>{class t extends za{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){const r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){KD()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){KD()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(A(Kt))},t.\u0275prov=J({token:t,factory:function(){return function KL(){return new XD(A(Kt))}()},providedIn:"platform"}),t})();function KD(){return!!window.history.pushState}function Gg(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QD(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ur(t){return t&&"?"!==t[0]?"?"+t:t}let eo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function QL(){const t=A(Kt).location;return new ZD(A(za),t&&t.origin||"")}()},providedIn:"root"}),t})();const zg=new q("appBaseHref");let ZD=(()=>{class t extends eo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ur(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ur(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ur(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(A(za),A(zg,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),ZL=(()=>{class t extends eo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Gg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ur(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ur(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(A(za),A(zg,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Wg=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=QD(JD(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ur(r))}normalize(n){return t.stripTrailingSlash(function eV(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,JD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ur,t.joinWithSlash=Gg,t.stripTrailingSlash=QD,t.\u0275fac=function(n){return new(n||t)(A(eo))},t.\u0275prov=J({token:t,factory:function(){return function JL(){return new Wg(A(eo))}()},providedIn:"root"}),t})();function JD(t){return t.replace(/\/index.html$/,"")}let lE=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Ia(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Pe(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(E(Ec),E(Ga),E(pn),E(Lr))},t.\u0275dir=B({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class BV{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cE=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new BV(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),dE(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{dE(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(Wn),E(Vr),E(Ec))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function dE(t,e){t.context.$implicit=e.item}let ki=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new jV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(E(Wn),E(Vr))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class jV{constructor(){this.$implicit=null,this.ngIf=null}}function hE(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Pe(e)}'.`)}let fB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({}),t})();const pE="browser";function mE(t){return t===pE}let _B=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new yB(A(Kt),window)}),t})();class yB{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function vB(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_E(this.window.history)||_E(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _E(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class op extends class wB extends class qL{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function WL(t){bc||(bc=t)}(new op)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function DB(){return Ya=Ya||document.querySelector("base"),Ya?Ya.getAttribute("href"):null}();return null==n?null:function EB(t){Oc=Oc||document.createElement("a"),Oc.setAttribute("href",t);const e=Oc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function LV(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Oc,Ya=null;const yE=new q("TRANSITION_ID"),SB=[{provide:pc,useFactory:function bB(t,e,n){return()=>{n.get(mc).donePromise.then(()=>{const r=vr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[yE,Kt,Lt],multi:!0}];let IB=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Fc=new q("EventManagerPlugins");let kc=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(A(Fc),A(Ze))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class vE{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=vr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let CE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Xa=(()=>{class t extends CE{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(wE),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(wE))}}return t.\u0275fac=function(n){return new(n||t)(A(Kt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function wE(t){vr().remove(t)}const ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lp=/%COMP%/g;function Lc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Lc(t,i,n):(i=i.replace(lp,t),n.push(i))}return n}function bE(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let up=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cp(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case ur.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new RB(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case ur.ShadowDom:return new OB(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Lc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(A(kc),A(Xa),A(Ha))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class cp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(ap[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(ME(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ME(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ap[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ap[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(hn.DashCase|hn.Important)?e.style.setProperty(n,r,i&hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,bE(r)):this.eventManager.addEventListener(e,n,bE(r))}}function ME(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class RB extends cp{constructor(e,n,r,i){super(e),this.component=r;const s=Lc(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function AB(t){return"_ngcontent-%COMP%".replace(lp,t)}(i+"-"+r.id),this.hostAttr=function PB(t){return"_nghost-%COMP%".replace(lp,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class OB extends cp{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Lc(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let FB=(()=>{class t extends vE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(A(Kt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const IE=["alt","control","meta","shift"],LB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},VB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BB=(()=>{class t extends vE{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(IE.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function jB(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&xE.hasOwnProperty(e)&&(e=xE[e]))}return LB[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IE.forEach(s=>{s!=i&&VB[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(A(Kt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const TE=[{provide:_c,useValue:pE},{provide:DD,useValue:function UB(){op.makeCurrent()},multi:!0},{provide:Kt,useFactory:function $B(){return function GA(t){wh=t}(document),document},deps:[]}],GB=PD($L,"browser",TE),AE=new q(""),PE=[{provide:yc,useClass:class MB{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?vr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:MD,useClass:kg,deps:[Ze,Lg,yc]},{provide:kg,useClass:kg,deps:[Ze,Lg,yc]}],NE=[{provide:_f,useValue:"root"},{provide:xs,useFactory:function HB(){return new xs},deps:[]},{provide:Fc,useClass:FB,multi:!0,deps:[Kt,Ze,_c]},{provide:Fc,useClass:BB,multi:!0,deps:[Kt]},{provide:up,useClass:up,deps:[kc,Xa,Ha]},{provide:jw,useExisting:up},{provide:CE,useExisting:Xa},{provide:Xa,useClass:Xa,deps:[Kt]},{provide:kc,useClass:kc,deps:[Fc,Ze]},{provide:class CB{},useClass:IB,deps:[]},[]];let zB=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ha,useValue:n.appId},{provide:yE,useExisting:Ha},SB]}}}return t.\u0275fac=function(n){return new(n||t)(A(AE,12))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:[...NE,...PE],imports:[fB,GL]}),t})(),RE=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(A(Kt))},t.\u0275prov=J({token:t,factory:function(n){let r=null;return r=n?new n:function qB(){return new RE(A(Kt))}(),r},providedIn:"root"}),t})();function $(...t){return it(t,Jo(t))}typeof window<"u"&&window;class Xn extends nn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:n2}=Array,{getPrototypeOf:r2,prototype:i2,keys:s2}=Object;function kE(t){if(1===t.length){const e=t[0];if(n2(e))return{args:e,keys:null};if(function o2(t){return t&&"object"==typeof t&&r2(t)===i2}(e)){const n=s2(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:a2}=Array;function fp(t){return pe(e=>function l2(t,e){return a2(e)?t(...e):t(e)}(t,e))}function LE(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function VE(...t){const e=Jo(t),n=X_(t),{args:r,keys:i}=kE(t);if(0===r.length)return it([],e);const s=new $e(function u2(t,e,n=Di){return r=>{BE(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)BE(e,()=>{const u=it(t[l],e);let c=!1;u.subscribe(dt(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>LE(i,o):Di));return n?s.pipe(fp(n)):s}function BE(t,e,n){t?Mr(n,t,e):e()}function to(t,e){const n=ce(t)?t:()=>t,r=i=>i.error(n());return new $e(e?i=>e.schedule(r,0,i):r)}const Ka=Zo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Qa(...t){return function c2(){return us(1)}()(it(t,Jo(t)))}function Vc(t){return new $e(e=>{Nn(t()).subscribe(e)})}function gp(){return ct((t,e)=>{let n=null;t._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class pp extends $e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,F_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tn;const n=this.getSubject();e.add(this.source.subscribe(dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tn.EMPTY)}return e}refCount(){return gp()(this)}}function Kn(t,e){return ct((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(dt(r,l=>{i?.unsubscribe();let u=0;const c=s++;Nn(t(l,c)).subscribe(i=dt(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function h2(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(dt(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function jE(t,e){return ct(h2(t,e,arguments.length>=2,!0))}function Mn(t,e){return ct((n,r)=>{let i=0;n.subscribe(dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function si(t){return ct((e,n)=>{let s,r=null,i=!1;r=e.subscribe(dt(n,void 0,void 0,o=>{s=Nn(t(o,si(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Za(t,e){return ce(e)?ht(t,e,1):ht(t,1)}function mp(t){return t<=0?()=>Ir:ct((e,n)=>{let r=[];e.subscribe(dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function UE(t=f2){return ct((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function f2(){return new Ka}function _p(t){return ct((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Li(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mn((i,s)=>t(i,s,r)):Di,rn(1),n?_p(e):UE(()=>new Ka))}function wt(t,e,n){const r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?ct((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Di}function HE(t){return pe(()=>t)}function yp(t){return ct((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class $r{constructor(e,n){this.id=e,this.url=n}}class vp extends $r{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ja extends $r{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $E extends $r{constructor(e,n,r){super(e,n),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class p2 extends $r{constructor(e,n,r){super(e,n),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class m2 extends $r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _2 extends $r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y2 extends $r{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v2 extends $r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C2 extends $r{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class D2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class E2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GE{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class I2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function no(t){return new I2(t)}const zE="ngNavigationCancelingError";function Cp(t){const e=Error("NavigationCancelingError: "+t);return e[zE]=!0,e}function T2(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Cr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!WE(t[i],e[i]))return!1;return!0}function WE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function qE(t){return Array.prototype.concat.apply([],t)}function YE(t){return t.length>0?t[t.length-1]:null}function Dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qn(t){return ng(t)?t:Ta(t)?it(Promise.resolve(t)):$(t)}const N2={exact:function QE(t,e,n){if(!Bi(t.segments,e.segments)||!Bc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!QE(t.children[r],e.children[r],n))return!1;return!0},subset:ZE},XE={exact:function R2(t,e){return Cr(t,e)},subset:function O2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>WE(t[n],e[n]))},ignored:()=>!0};function KE(t,e,n){return N2[n.paths](t.root,e.root,n.matrixParams)&&XE[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function ZE(t,e,n){return JE(t,e,e.segments,n)}function JE(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Bi(i,n)||e.hasChildren()||!Bc(i,n,r))}if(t.segments.length===n.length){if(!Bi(t.segments,n)||!Bc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!ZE(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Bi(t.segments,i)&&Bc(t.segments,i,r)&&t.children[oe])&&JE(t.children[oe],e,s,r)}}function Bc(t,e,n){return e.every((r,i)=>XE[n](t[i].parameters,r.parameters))}class Vi{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return L2.serialize(this)}}class le{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Dt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}}class el{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=no(this.parameters)),this._parameterMap}toString(){return ib(this)}}function Bi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class eb{}class tb{parse(e){const n=new W2(e);return new Vi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${tl(e.root,!0)}`,r=function j2(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Uc(n)}=${Uc(i)}`).join("&"):`${Uc(n)}=${Uc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function V2(t){return encodeURI(t)}(e.fragment)}`:""}`}}const L2=new tb;function jc(t){return t.segments.map(e=>ib(e)).join("/")}function tl(t,e){if(!t.hasChildren())return jc(t);if(e){const n=t.children[oe]?tl(t.children[oe],!1):"",r=[];return Dt(t.children,(i,s)=>{s!==oe&&r.push(`${s}:${tl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function k2(t,e){let n=[];return Dt(t.children,(r,i)=>{i===oe&&(n=n.concat(e(r,i)))}),Dt(t.children,(r,i)=>{i!==oe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===oe?[tl(t.children[oe],!1)]:[`${i}:${tl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[oe]?`${jc(t)}/${n[0]}`:`${jc(t)}/(${n.join("//")})`}}function nb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uc(t){return nb(t).replace(/%3B/gi,";")}function wp(t){return nb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hc(t){return decodeURIComponent(t)}function rb(t){return Hc(t.replace(/\+/g,"%20"))}function ib(t){return`${wp(t.path)}${function B2(t){return Object.keys(t).map(e=>`;${wp(e)}=${wp(t[e])}`).join("")}(t.parameters)}`}const U2=/^[^\/()?;=#]+/;function $c(t){const e=t.match(U2);return e?e[0]:""}const H2=/^[^=?&#]+/,G2=/^[^&#]+/;class W2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new le(e,n)),r}parseSegment(){const e=$c(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new el(Hc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=$c(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$c(this.remaining);i&&(r=i,this.capture(r))}e[Hc(n)]=Hc(r)}parseQueryParam(e){const n=function $2(t){const e=t.match(H2);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function z2(t){const e=t.match(G2);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rb(n),s=rb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$c(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[oe]:new le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class sb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Dp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Dp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ep(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ep(e,this._root).map(n=>n.value)}}function Dp(t,e){if(t===e.value)return e;for(const n of e.children){const r=Dp(t,n);if(r)return r}return null}function Ep(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ep(t,n);if(r.length)return r.unshift(e),r}return[]}class Gr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ro(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class ob extends sb{constructor(e,n){super(e),this.snapshot=n,bp(this,e)}toString(){return this.snapshot.toString()}}function ab(t,e){const n=function q2(t,e){const o=new Gc([],{},{},"",{},oe,e,null,t.root,-1,{});return new ub("",new Gr(o,[]))}(t,e),r=new Xn([new el("",{})]),i=new Xn({}),s=new Xn({}),o=new Xn({}),a=new Xn(""),l=new ji(r,i,o,a,s,oe,e,n.root);return l.snapshot=n.root,new ob(new Gr(l,[]),n)}class ji{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>no(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>no(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lb(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Y2(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gc{constructor(e,n,r,i,s,o,a,l,u,c,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=no(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ub extends sb{constructor(e,n){super(n),this.url=e,bp(this,n)}toString(){return cb(this._root)}}function bp(t,e){e.value._routerState=t,e.children.forEach(n=>bp(t,n))}function cb(t){const e=t.children.length>0?` { ${t.children.map(cb).join(", ")} } `:"";return`${t.value}${e}`}function Sp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cr(e.params,n.params)||t.params.next(n.params),function A2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mp(t,e){const n=Cr(t.params,e.params)&&function F2(t,e){return Bi(t,e)&&t.every((n,r)=>Cr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Mp(t.parent,e.parent))}function nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function K2(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nl(t,r,i);return nl(t,r)})}(t,e,n);return new Gr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nl(t,a)),o}}const r=function Q2(t){return new ji(new Xn(t.url),new Xn(t.params),new Xn(t.queryParams),new Xn(t.fragment),new Xn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>nl(t,s));return new Gr(r,i)}}function zc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rl(t){return"object"==typeof t&&null!=t&&t.outlets}function Ip(t,e,n,r,i){let s={};if(r&&Dt(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),t===e)return new Vi(n,s,i);const o=db(t,e,n);return new Vi(o,s,i)}function db(t,e,n){const r={};return Dt(t.children,(i,s)=>{r[s]=i===e?n:db(i,e,n)}),new le(t.segments,r)}class hb{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(rl);if(i&&i!==YE(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function fb(t,e,n){if(t||(t=new le([],{})),0===t.segments.length&&t.hasChildren())return Wc(t,e,n);const r=function rj(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(rl(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!pb(l,u,o))return s;r+=2}else{if(!pb(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new le(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new le(t.segments.slice(r.pathIndex),t.children),Wc(s,0,i)}return r.match&&0===i.length?new le(t.segments,{}):r.match&&!t.hasChildren()?Tp(t,e,n):r.match?Wc(t,0,i):Tp(t,e,n)}function Wc(t,e,n){if(0===n.length)return new le(t.segments,{});{const r=function nj(t){return rl(t[0])?t[0].outlets:{[oe]:t}}(n),i={};return Dt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=fb(t.children[o],e,s))}),Dt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(t.segments,i)}}function Tp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(rl(s)){const l=ij(s.outlets);return new le(r,l)}if(0===i&&zc(n[0])){r.push(new el(t.segments[e].path,gb(n[0]))),i++;continue}const o=rl(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zc(a)?(r.push(new el(o,gb(a))),i+=2):(r.push(new el(o,{})),i++)}return new le(r,{})}function ij(t){const e={};return Dt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Tp(new le([],{}),0,n))}),e}function gb(t){const e={};return Dt(t,(n,r)=>e[r]=`${n}`),e}function pb(t,e,n){return t==n.path&&Cr(e,n.parameters)}class sj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new il,this.attachRef=null}}class il{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new sj,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Ap=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.name=i||oe,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new oj(n,a,i.injector);if(r&&function aj(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(E(il),E(Wn),ua("name"),E(Cc),E(Pi))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class oj{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ji?this.route:e===il?this.childContexts:this.parent.get(e,n)}}let mb=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Te(0,"router-outlet")},dependencies:[Ap],encapsulation:2}),t})();function _b(t,e){return t.providers&&!t._injector&&(t._injector=dc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Np(t){const e=t.children&&t.children.map(Np),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=mb),n}function In(t){return t.outlet||oe}function yb(t,e){const n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}function vb(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hj{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ro(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Dt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ro(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ro(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ro(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new M2(s.value.snapshot))}),e.children.length&&this.forwardEvent(new b2(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Sp(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=vb(i.snapshot),l=a?.get(Fa)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function oi(t){return"function"==typeof t}function Ui(t){return t instanceof Vi}const sl=Symbol("INITIAL_VALUE");function ol(){return Kn(t=>VE(t.map(e=>e.pipe(rn(1),function d2(...t){const e=Jo(t);return ct((n,r)=>{(e?Qa(t,n,e):Qa(t,n)).subscribe(r)})}(sl)))).pipe(jE((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==sl?i:(s===sl&&(r=!0),r||!1!==s&&o!==n.length-1&&!Ui(s)?i:s),e)},sl),Mn(e=>e!==sl),pe(e=>Ui(e)?e:!0===e),rn(1)))}const Cb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qc(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Cb}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||T2)(n,t,e);if(!i)return{...Cb};const s={};Dt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Yc(t,e,n,r,i="corrected"){if(n.length>0&&function Cj(t,e,n){return n.some(r=>Xc(t,e,r)&&In(r)!==oe)}(t,n,r)){const o=new le(e,function vj(t,e,n,r){const i={};i[oe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&In(s)!==oe){const o=new le([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[In(s)]=o}return i}(t,e,r,new le(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function wj(t,e,n){return n.some(r=>Xc(t,e,r))}(t,n,r)){const o=new le(t.segments,function yj(t,e,n,r,i,s){const o={};for(const a of r)if(Xc(t,n,a)&&!i[In(a)]){const l=new le([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[In(a)]=l}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new le(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Xc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function wb(t,e,n,r){return!!(In(t)===r||r!==oe&&Xc(e,n,t))&&("**"===t.path||qc(e,t,n).matched)}function Db(t,e,n){return 0===e.length&&!t.children[n]}class Kc{constructor(e){this.segmentGroup=e||null}}class Eb{constructor(e){this.urlTree=e}}function al(t){return to(new Kc(t))}function bb(t){return to(new Eb(t))}class Sj{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Yc(this.urlTree.root,[],[],this.config).segmentGroup,n=new le(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,oe).pipe(pe(s=>this.createUrlTree(Rp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(si(s=>{if(s instanceof Eb)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Kc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,oe).pipe(pe(i=>this.createUrlTree(Rp(i),e.queryParams,e.fragment))).pipe(si(i=>{throw i instanceof Kc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new le([],{[oe]:e}):e;return new Vi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(pe(s=>new le([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return it(i).pipe(Za(s=>{const o=r.children[s],a=yb(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(l=>({segment:l,outlet:s})))}),jE((s,o)=>(s[o.outlet]=o.segment,s),{}),function g2(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mn((i,s)=>t(i,s,r)):Di,mp(1),n?_p(e):UE(()=>new Ka))}())}expandSegment(e,n,r,i,s,o){return it(r).pipe(Za(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(si(u=>{if(u instanceof Kc)return $(null);throw u}))),Li(a=>!!a),si((a,l)=>{if(a instanceof Ka||"EmptyError"===a.name)return Db(n,i,s)?$(new le([],{})):al(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return wb(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):al(n):al(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bb(s):this.lineralizeSegments(r,s).pipe(ht(o=>{const a=new le(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=qc(n,i,s);if(!a)return al(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?bb(d):this.lineralizeSegments(i,d).pipe(ht(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return e=_b(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(pe(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new le(i,{})))):$(new le(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=qc(n,r,i);return o?(e=_b(r,e),this.getChildConfig(e,r,i).pipe(ht(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:g}=Yc(n,a,l,h),p=new le(f.segments,f.children);if(0===g.length&&p.hasChildren())return this.expandChildren(d,h,p).pipe(pe(y=>new le(a,y)));if(0===h.length&&0===g.length)return $(new le(a,{}));const m=In(r)===s;return this.expandSegment(d,p,h,g,m?oe:s,!0).pipe(pe(v=>new le(a.concat(v.segments),v.children)))}))):al(n)}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):this.runCanLoadGuards(e,n,r).pipe(ht(i=>i?this.configLoader.loadChildren(e,n).pipe(wt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ej(t){return to(Cp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):$({routes:[],injector:e})}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?$(i.map(o=>{const a=e.get(o);let l;if(function gj(t){return t&&oi(t.canLoad)}(a))l=a.canLoad(n,r);else{if(!oi(a))throw new Error("Invalid CanLoad guard");l=a(n,r)}return Qn(l)})).pipe(ol(),wt(o=>{if(!Ui(o))return;const a=Cp(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),pe(o=>!0===o)):$(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[oe])return to(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[oe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Vi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Dt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Dt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Rp(t){const e={};for(const r of Object.keys(t.children)){const s=Rp(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Mj(t){if(1===t.numberOfChildren&&t.children[oe]){const e=t.children[oe];return new le(t.segments.concat(e.segments),e.children)}return t}(new le(t.segments,e))}class Sb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qc{constructor(e,n){this.component=e,this.route=n}}function xj(t,e,n){const r=t._root;return ll(r,e?e._root:null,n,[r.value])}function Zc(t,e,n){return(vb(e)??n).get(t)}function ll(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ro(e);return t.children.forEach(o=>{(function Aj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Pj(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bi(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mp(t,e)||!Cr(t.queryParams,e.queryParams);default:return!Mp(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Sb(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ll(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qc(a.outlet.component,o))}else o&&ul(e,a,i),i.canActivateChecks.push(new Sb(r)),ll(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Dt(s,(o,a)=>ul(o,n.getContext(a),i)),i}function ul(t,e,n){const r=ro(t),i=t.value;Dt(r,(s,o)=>{ul(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Qc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class jj{}function Ib(t){return new $e(e=>e.error(t))}class Hj{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Yc(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,oe);if(null===n)return null;const r=new Gc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gr(r,n),s=new ub(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=lb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=yb(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=xb(r);return function $j(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return Db(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!wb(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?YE(r).parameters:{},g=Ab(n)+r.length;s=new Gc(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nb(e),In(e),e.component??e._loadedComponent??null,e,Tb(n),g,Rb(e),g)}else{const f=qc(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments;const g=Ab(n)+o.length;s=new Gc(o,f.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nb(e),In(e),e.component??e._loadedComponent??null,e,Tb(n),g,Rb(e),g)}const l=function Gj(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:u,slicedSegments:c}=Yc(n,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new Gr(s,f)]}if(0===l.length&&0===c.length)return[new Gr(s,[])];const d=In(e)===i,h=this.processSegment(l,u,c,d?oe:i);return null===h?null:[new Gr(s,h)]}}function zj(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xb(t){const e=[],n=new Set;for(const r of t){if(!zj(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=xb(r.children);e.push(new Gr(r.value,i))}return e.filter(r=>!n.has(r))}function Tb(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ab(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function Nb(t){return t.data||{}}function Rb(t){return t.resolve||{}}const Op=Symbol("RouteTitle");function Ob(t){return"string"==typeof t.title||null===t.title}function Jc(t){return Kn(e=>{const n=t(e);return n?it(n).pipe(pe(()=>e)):$(e)})}class eU extends class Jj{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Fp=new q("ROUTES");let kp=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Qn(n.loadComponent()).pipe(wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),yp(()=>{this.componentLoaders.delete(n)})),i=new pp(r,()=>new nn).pipe(gp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=qE(l.get(Fp,[],k.Self|k.Optional)));return{routes:u.map(Np),injector:l}}),yp(()=>{this.childrenLoaders.delete(r)})),o=new pp(s,()=>new nn).pipe(gp());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Qn(n()).pipe(ht(r=>r instanceof Vw||Array.isArray(r)?$(r):it(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(A(Lt),A(Ng))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class nU{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function iU(t){throw t}function sU(t,e,n){return e.parse("/")}function kb(t,e){return $(null)}const oU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jt=(()=>{class t{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn,this.errorHandler=iU,this.malformedUriErrorHandler=sU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kb,afterPreactivation:kb},this.urlHandlingStrategy=new nU,this.routeReuseStrategy=new eU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(kp),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new D2(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new w2(h)),this.ngModule=o.get(ni),this.console=o.get(uL);const d=o.get(Ze);this.isNgZoneEnabled=d instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function P2(){return new Vi(new le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ab(this.currentUrlTree,this.rootComponentType),this.transitions=new Xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Mn(i=>0!==i.id),pe(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Kn(i=>{let s=!1,o=!1;return $(i).pipe(wt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kn(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Lb(a.source)&&(this.browserUrlTree=a.extractedUrl),$(a).pipe(Kn(d=>{const h=this.transitions.getValue();return r.next(new vp(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ir:Promise.resolve(d)}),function Ij(t,e,n,r){return Kn(i=>function bj(t,e,n,r,i){return new Sj(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(pe(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects}}),function Wj(t,e,n,r,i){return ht(s=>function Uj(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Hj(t,e,n,r,i,s).recognize();return null===o?Ib(new jj):$(o)}catch(o){return Ib(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(pe(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),wt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new m2(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:g,restoredState:p,extras:m}=a,_=new vp(h,this.serializeUrl(f),g,p);r.next(_);const v=ab(f,this.rootComponentType).snapshot;return $({...a,targetSnapshot:v,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ir}),Jc(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),wt(a=>{const l=new _2(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),pe(a=>({...a,guards:xj(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Nj(t,e){return ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function Rj(t,e,n,r){return it(t).pipe(ht(i=>function Bj(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const l=Zc(a,e,i);let u;if(function _j(t){return t&&oi(t.canDeactivate)}(l))u=Qn(l.canDeactivate(t,e,n,r));else{if(!oi(l))throw new Error("Invalid CanDeactivate guard");u=Qn(l(t,e,n,r))}return u.pipe(Li())})).pipe(ol()):$(!0)}(i.component,i.route,n,e,r)),Li(i=>!0!==i,!0))}(o,r,i,t).pipe(ht(a=>a&&function fj(t){return"boolean"==typeof t}(a)?function Oj(t,e,n,r){return it(e).pipe(Za(i=>Qa(function kj(t,e){return null!==t&&e&&e(new E2(t)),$(!0)}(i.route.parent,r),function Fj(t,e){return null!==t&&e&&e(new S2(t)),$(!0)}(i.route,r),function Vj(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Tj(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Vc(()=>$(o.guards.map(l=>{const u=Zc(l,o.node,n);let c;if(function mj(t){return t&&oi(t.canActivateChild)}(u))c=Qn(u.canActivateChild(r,t));else{if(!oi(u))throw new Error("Invalid CanActivateChild guard");c=Qn(u(r,t))}return c.pipe(Li())})).pipe(ol())));return $(s).pipe(ol())}(t,i.path,n),function Lj(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>Vc(()=>{const o=Zc(s,e,n);let a;if(function pj(t){return t&&oi(t.canActivate)}(o))a=Qn(o.canActivate(e,t));else{if(!oi(o))throw new Error("Invalid CanActivate guard");a=Qn(o(e,t))}return a.pipe(Li())}));return $(i).pipe(ol())}(t,i.route,n))),Li(i=>!0!==i,!0))}(r,s,t,e):$(a)),pe(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),wt(a=>{if(Ui(a.guardsResult)){const u=Cp(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new y2(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Mn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Jc(a=>{if(a.guards.canActivateChecks.length)return $(a).pipe(wt(l=>{const u=new v2(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Kn(l=>{let u=!1;return $(l).pipe(function qj(t,e){return ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return it(i).pipe(Za(o=>function Yj(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!Ob(i)&&(s[Op]=i.title),function Xj(t,e,n,r){const i=function Kj(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return it(i).pipe(ht(o=>function Qj(t,e,n,r){const i=Zc(t,e,r);return Qn(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Li(),wt(a=>{s[o]=a}))),mp(1),HE(s),si(o=>o instanceof Ka?Ir:to(o)))}(s,t,e,r).pipe(pe(o=>(t._resolvedData=o,t.data=lb(t,n).resolve,i&&Ob(i)&&(t.data[Op]=i.title),null)))}(o.route,r,t,e)),wt(()=>s++),mp(1),ht(o=>s===i.length?$(n):Ir))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),wt(l=>{const u=new C2(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Jc(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Jc(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(wt(d=>{u.component=d}),pe(()=>{})));for(const d of u.children)c.push(...l(d));return c};return VE(l(a.targetSnapshot.root)).pipe(_p(),rn(1))}),pe(a=>{const l=function X2(t,e,n){const r=nl(t,e._root,n?n._root:void 0);return new ob(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:l}}),wt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>pe(r=>(new hj(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),wt({next(){s=!0},complete(){s=!0}}),yp(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),si(a=>{if(o=!0,function x2(t){return t&&t[zE]}(a)){const l=Ui(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new $E(i.id,this.serializeUrl(i.extractedUrl),a.message);if(r.next(u),l){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lb(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new p2(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Ir}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(Np),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function Z2(t,e,n,r,i){if(0===n.length)return Ip(e.root,e.root,e.root,r,i);const s=function J2(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hb(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Dt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new hb(n,e,r)}(n);return s.toRoot()?Ip(e.root,e.root,new le([],{}),r,i):function o(l){const u=function ej(t,e,n,r){return t.isAbsolute?new xp(e.root,!0,0):-1===r?new xp(n,n===e.root,0):function tj(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new xp(r,!1,i-s)}(n,r+(zc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?Wc(u.segmentGroup,u.index,s.commands):fb(u.segmentGroup,u.index,s.commands);return Ip(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}(u,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ui(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function lU(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...oU}:!1===r?{...aU}:r,Ui(n))return KE(this.currentUrlTree,n,i);const s=this.parseUrl(n);return KE(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Ja(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,f)=>{a=h,l=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new $E(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Mf()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function Lb(t){return"imperative"!==t}let ed=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new nn,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:jr(this.skipLocationChange),replaceUrl:jr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:jr(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(E(jt),E(ji),ua("tabindex"),E(Lr),E(pn))},t.\u0275dir=B({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&De("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Yt]}),t})();class Vb{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(i=>i.outlet===oe);return n}getResolvedTitleForRoute(e){return e.data[Op]}}let dU=(()=>{class t extends Vb{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(A(RE))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Bb{}class jb{preload(e,n){return $(null)}}let Ub=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(n=>n instanceof Ja),Za(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=dc(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return it(i).pipe(us())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const s=i.pipe(ht(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?it([s,this.loader.loadComponent(r)]).pipe(us()):s})}}return t.\u0275fac=function(n){return new(n||t)(A(jt),A(Ng),A(Pi),A(Bb),A(kp))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Vp=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof vp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ja&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof GE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new GE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Mf()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Hi=new q("ROUTER_CONFIGURATION"),Hb=new q("ROUTER_FORROOT_GUARD"),fU=[Wg,{provide:eb,useClass:tb},{provide:jt,useFactory:function yU(t,e,n,r,i,s,o={},a,l,u,c){const d=new jt(null,t,e,n,r,i,qE(s));return u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),d.titleStrategy=l??a,function vU(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d},deps:[eb,il,Wg,Lt,Ng,Fp,Hi,dU,[Vb,new Rr],[class tU{},new Rr],[class Zj{},new Rr]]},il,{provide:ji,useFactory:function CU(t){return t.routerState.root},deps:[jt]},Ub,jb,class hU{preload(e,n){return n().pipe(si(()=>$(null)))}},{provide:Hi,useValue:{enableTracing:!1}},kp];function gU(){return new TD("Router",jt)}let $b=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[fU,Gb(n),{provide:Hb,useFactory:_U,deps:[[jt,new Rr,new ma]]},{provide:Hi,useValue:r||{}},{provide:eo,useFactory:mU,deps:[za,[new ku(zg),new Rr],Hi]},{provide:Vp,useFactory:pU,deps:[jt,_B,Hi]},{provide:Bb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:jb},{provide:TD,multi:!0,useFactory:gU},[Bp,{provide:pc,multi:!0,useFactory:wU,deps:[Bp]},{provide:zb,useFactory:DU,deps:[Bp]},{provide:ED,multi:!0,useExisting:zb}]]}}static forChild(n){return{ngModule:t,providers:[Gb(n)]}}}return t.\u0275fac=function(n){return new(n||t)(A(Hb,8),A(jt,8))},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({}),t})();function pU(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Vp(t,e,n)}function mU(t,e,n={}){return n.useHash?new ZL(t,e):new ZD(t,e)}function _U(t){return"guarded"}function Gb(t){return[{provide:IP,multi:!0,useValue:t},{provide:Fp,multi:!0,useValue:t}]}let Bp=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new nn}appInitializer(){return this.injector.get(XL,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(jt),o=this.injector.get(Hi);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?$(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Hi),i=this.injector.get(Ub),s=this.injector.get(Vp),o=this.injector.get(jt),a=this.injector.get($a);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(A(Lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function wU(t){return t.appInitializer.bind(t)}function DU(t){return t.bootstrapListener.bind(t)}const zb=new q("Router Initializer");var cl=(()=>{return(t=cl||(cl={}))[t.skipIntro=0]="skipIntro",cl;var t})();class td{static toggleIntro(){const e=cl.skipIntro.toString();let n={intro:!1},r=localStorage.getItem(e);if(r){const i=JSON.parse(r);n.intro=!i.intro}else n.intro=!0;return localStorage.setItem(e,JSON.stringify(n)),n.intro}static isIntroSkipped(){const e=cl.skipIntro.toString();let n={intro:!1},r=localStorage.getItem(e);if(console.log(r),r){const i=JSON.parse(r);n.intro=i.intro}else n.intro=!1;return n.intro}}let Wb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(E(Lr),E(pn))},t.\u0275dir=B({type:t}),t})(),$i=(()=>{class t extends Wb{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=St(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[be]}),t})();const wr=new q("NgValueAccessor"),SU={provide:wr,useExisting:Oe(()=>jp),multi:!0};let jp=(()=>{class t extends $i{writeValue(n){this.setProperty("checked",n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=St(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&De("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[ze([SU]),be]}),t})();const MU={provide:wr,useExisting:Oe(()=>Up),multi:!0},xU=new q("CompositionEventMode");let Up=(()=>{class t extends Wb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IU(){const t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(E(Lr),E(pn),E(xU,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&De("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ze([MU]),be]}),t})();const Tt=new q("NgValidators"),li=new q("NgAsyncValidators");function nS(t){return null!=t}function rS(t){const e=Ta(t)?it(t):t;return ng(e),e}function iS(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function sS(t,e){return e.map(n=>n(t))}function oS(t){return t.map(e=>function AU(t){return!t.validate}(e)?e:n=>e.validate(n))}function Hp(t){return null!=t?function aS(t){if(!t)return null;const e=t.filter(nS);return 0==e.length?null:function(n){return iS(sS(n,e))}}(oS(t)):null}function $p(t){return null!=t?function lS(t){if(!t)return null;const e=t.filter(nS);return 0==e.length?null:function(n){return function bU(...t){const e=X_(t),{args:n,keys:r}=kE(t),i=new $e(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;Nn(n[c]).subscribe(dt(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?LE(r,a):a),s.complete())}))}});return e?i.pipe(fp(e)):i}(sS(n,e).map(rS)).pipe(pe(iS))}}(oS(t)):null}function uS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gp(t){return t?Array.isArray(t)?t:[t]:[]}function rd(t,e){return Array.isArray(t)?t.includes(e):t===e}function hS(t,e){const n=Gp(e);return Gp(t).forEach(i=>{rd(n,i)||n.push(i)}),n}function fS(t,e){return Gp(e).filter(n=>!rd(t,n))}class gS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ut extends gS{get formDirective(){return null}get path(){return null}}class ui extends gS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let mS=(()=>{class t extends class pS{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(E(ui,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ic("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[be]}),t})();const dl="VALID",sd="INVALID",io="PENDING",hl="DISABLED";function yS(t){return Array.isArray(t)?Hp(t):t||null}function vS(t){return Array.isArray(t)?$p(t):t||null}function od(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function fl(t,e){(function Qp(t,e){const n=function cS(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(uS(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function dS(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(uS(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ud(e._rawValidators,i),ud(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&e.valueAccessor.setDisabledState?.(!0),function jU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ES(t,e)})}(t,e),function HU(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function UU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ES(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function BU(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ud(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ES(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function xS(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const KU={provide:ui,useExisting:Oe(()=>tm)},NS=(()=>Promise.resolve(null))();let tm=(()=>{class t extends ui{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new class extends class DS{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=yS(this._rawValidators),this._composedAsyncValidatorFn=vS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dl}get invalid(){return this.status===sd}get pending(){return this.status==io}get disabled(){return this.status===hl}get enabled(){return this.status!==hl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=vS(e)}addValidators(e){this.setValidators(hS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fS(e,this._rawAsyncValidators))}hasValidator(e){return rd(this._rawValidators,e)}hasAsyncValidator(e){return rd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=io,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=hl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=dl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dl||this.status===io)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hl:dl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=io,this._hasOwnPendingAsyncValidator=!0;const n=rS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?hl:this.errors?sd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(io)?io:this._anyControlsHaveStatus(sd)?sd:dl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){od(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,n,r){super(function Yp(t){return(od(t)?t.validators:t)||null}(n),function Xp(t,e){return(od(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),od(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=xS(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Jp(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Up?n=s:function zU(t){return Object.getPrototypeOf(t.constructor)===$i}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Zp(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){NS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&jr(r);NS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function ad(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(E(Ut,9),E(Tt,10),E(li,10),E(wr,10),E(Cc,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([KU]),be,Yt]}),t})(),OS=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({}),t})(),wH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({imports:[OS]}),t})(),DH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({imports:[wH]}),t})();function SH(t,e){1&t&&function v0(t,e=0,n){const r=D(),i=he(),s=Rs(i,22+t,16,null,n||null);null===s.projection&&(s.projection=e),Ih(),64!=(64&s.flags)&&function hN(t,e,n){Lv(e[11],0,e,n,Mv(t,n,e),Pv(n.parent||e[6],n,e))}(i,r,s)}(0,0,["*ngIf","!hasModalContents"])}function MH(t,e){1&t&&Te(0,"div",11)}const IH=["*"];let ZS=(()=>{class t{constructor(){this.hasModalContents=!1,this.hidePrevBtn=!0,this.hideNextBtn=!0,this.title="",this._elements=[],this._currentIndex=0,this.modalContents=[],this.onClose=new je}ngOnInit(){if(this.hasModalContents=this.modalContents.length>0,this.hasModalContents)this._renderContents();else{this.title=this.menuTitle;const n=document.getElementById("modalContainerId"),r=document.getElementById("closeBtn");n.style.height="23%",n.style.width="30%",r.style.left="37%"}}ngOnChanges(n){n.modalContents&&n.modalContents.currentValue.length!=this.modalContents.length&&(this.modalContents=n.modalContents.currentValue,this.hasModalContents=!0,this._renderContents())}_renderContents(){this._currentIndex=0,this._elements=[],this.hideNextBtn=1==this.modalContents.length,this._changeContainerOrient(this.modalContents[this._currentIndex].isPortrait),setTimeout(()=>{const n=document.getElementById("modalContentElem");this.title=this.modalContents[0].title,this.modalContents.forEach((r,i)=>{r.isImage?this._elements.push(r.buildImage(n,0!=i)):r.isEmbed&&this._elements.push(r.buildEmbed(n,0!=i))})},200)}_changeContainerOrient(n){const i=document.getElementById("modalContainerId").classList;i.contains("portrait")&&!n?i.remove("portrait"):n&&i.add("portrait")}modalOnPrev(){this._elements[this._currentIndex--].style.display="none",this._changeContainerOrient(this.modalContents[this._currentIndex].isPortrait),this._elements[this._currentIndex].style.display="block",this.hidePrevBtn=0==this._currentIndex,this.hideNextBtn=!1,this.onPrev&&this.onPrev()}modalOnNext(){this._elements[this._currentIndex++].style.display="none",this._changeContainerOrient(this.modalContents[this._currentIndex].isPortrait),this._elements[this._currentIndex].style.display="block",this.hidePrevBtn=0==this._currentIndex,this.hideNextBtn=this.modalContents.length==this._currentIndex+1,this.onNext&&this.onNext()}modalOnClose(){this.onClose.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-modal"]],inputs:{menuTitle:"menuTitle",modalContents:"modalContents",onPrev:"onPrev",onNext:"onNext"},outputs:{onClose:"onClose"},features:[Yt],ngContentSelectors:IH,decls:13,vars:5,consts:[[1,"menu-modal"],["id","modalContainerId",1,"menu-modal-container","portrait"],[1,"menu-modal-header"],[1,"menu-modal-header-box"],[1,"menu-modal-header-box","right"],[1,"menu-modal-body"],[1,"menu-model-arrow","left",3,"hidden","click"],[4,"ngIf"],["id","modalContentElem","class","app-modal-contents",4,"ngIf"],[1,"menu-model-arrow","right",3,"hidden","click"],["id","closeBtn",1,"menu-model-btn",3,"click"],["id","modalContentElem",1,"app-modal-contents"]],template:function(n,r){1&n&&(function y0(t){const e=D()[16][6];if(!e.projection){const r=e.projection=ha(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?dO(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),H(0,"div",0)(1,"div",1)(2,"div",2),Te(3,"div",3),Xt(4),Te(5,"div",4),te(),H(6,"div",5)(7,"div",6),De("click",function(){return r.modalOnPrev()}),te(),vt(8,SH,1,0,"ng-content",7),vt(9,MH,1,0,"div",8),H(10,"div",9),De("click",function(){return r.modalOnNext()}),te()(),H(11,"div",10),De("click",function(){return r.modalOnClose()}),Xt(12,"Close"),te()()()),2&n&&(ve(4),Ws(" ",r.title," "),ve(3),fe("hidden",r.hidePrevBtn),ve(1),fe("ngIf",!r.hasModalContents),ve(1),fe("ngIf",r.hasModalContents),ve(1),fe("hidden",r.hideNextBtn))},dependencies:[ki],styles:['div[_ngcontent-%COMP%]{box-sizing:unset!important}.menu-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:5;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:500;color:#fff;background-color:#0000007a}.menu-modal-container[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:50%;height:60%;border-radius:20px}.menu-modal-container.portrait[_ngcontent-%COMP%]{width:40%;height:80%;margin-top:-5%}.menu-modal-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:55px;background-color:#0cb;border-top-left-radius:20px;border-top-right-radius:20px;display:flex;justify-content:center;align-items:center}.menu-modal-header-box[_ngcontent-%COMP%]{position:absolute;top:35%;left:3%;height:20px;width:20px;background-color:#0fd;transform:rotate(44deg)}.menu-modal-header-box.right[_ngcontent-%COMP%]{right:3%;left:unset}.menu-modal-header-box[_ngcontent-%COMP%]:after{position:absolute;top:-15px;left:-4px;font-size:30px;font-weight:700;color:#0cb;margin-left:10px;content:"."}.menu-modal-body[_ngcontent-%COMP%]{position:relative;padding-top:55px;width:100%;height:100%}.menu-model-arrow[_ngcontent-%COMP%]{cursor:pointer;animation:moveLeft 1s infinite;position:absolute;z-index:5;background-image:url(Arrow.0b427bc737ab89bb.png);background-size:70px 70px;height:70px;width:70px}.menu-model-arrow.left[_ngcontent-%COMP%]{animation:arrowMoveLeft 1s infinite;top:43%;left:5px}.menu-model-arrow.right[_ngcontent-%COMP%]{animation:arrowMoveRight 1s infinite;top:43%;right:5px}.menu-model-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.menu-model-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:41%;cursor:pointer;padding:8px 30px;border-radius:10px;color:#000;border:1px solid #676688;border-bottom:2px solid #676688;background-color:#fff}']}),t})();class so{constructor({groupMessage:e,logoUrl:n,groupImg:r,color:i,textColor:s}){this._groupMessage=e,this._logoUrl=n,this._groupImg=r,this._color=i,this._textColor=s}get groupMessage(){return this._groupMessage}get logoUrl(){return this._logoUrl}get groupImage(){return this._groupImg}get color(){return this._color}get textColor(){return this._textColor}}class JS{static getGroupImages(){const e=[];return this.groups.forEach(n=>{e.push(n.groupImage)}),e}}JS.groups=[new so({logoUrl:"assets/img/group-logo/VirtualSinger.png",groupImg:"assets/img/background/VirtualSingerGroup.png",groupMessage:"Singers entrusted with the songs and feelings of creators from all over the world.",color:"#ffffff",textColor:"#565469"}),new so({logoUrl:"assets/img/group-logo/LeoNeed.png",groupImg:"assets/img/background/LeoNeedGroup.png",groupMessage:"Four childhood friends overcome their defferences to form a band",color:"#2f32c9",textColor:"#F6FBFF"}),new so({logoUrl:"assets/img/group-logo/MoreMoreJump.png",groupImg:"assets/img/background/MoreMoreJumpGroup.png",groupMessage:"A unique idol group formed by a girl with a dream and three other girls who had given up on theirs.",color:"#90DE32",textColor:"#F6FBFF"}),new so({logoUrl:"assets/img/group-logo/VividSquad.png",groupImg:"assets/img/background/VividSquadGroup.png",groupMessage:"A talented group of street artists who teamed up to surpass a legend.",color:"#EA2574",textColor:"#F6FBFF"}),new so({logoUrl:"assets/img/group-logo/WxS.png",groupImg:"assets/img/background/WxSGroup.png",groupMessage:"Wonderhoy! An electic group of energetic performers. Every day's a good day to fly high.",color:"#FDA116",textColor:"#F6FBFF"}),new so({logoUrl:"assets/img/group-logo/N25.png",groupImg:"assets/img/background/N25Group.png",groupMessage:"A mysterious musical group that operates from 25:00 (1 a.m).",color:"#9253A1",textColor:"#F6FBFF"})];var pl=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",xH=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(pl&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}(),NH=pl&&window.Promise?function TH(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function AH(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},xH))}};function eM(t){return t&&"[object Function]"==={}.toString.call(t)}function zi(t,e){if(1!==t.nodeType)return[];var r=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?r[e]:r}function lm(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function ml(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=zi(t);return/(auto|scroll|overlay)/.test(e.overflow+e.overflowY+e.overflowX)?t:ml(lm(t))}function tM(t){return t&&t.referenceNode?t.referenceNode:t}var nM=pl&&!(!window.MSInputMethodContext||!document.documentMode),rM=pl&&/MSIE 10/.test(navigator.userAgent);function oo(t){return 11===t?nM:10===t?rM:nM||rM}function ao(t){if(!t)return document.documentElement;for(var e=oo(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===zi(n,"position")?ao(n):n:t?t.ownerDocument.documentElement:document.documentElement}function um(t){return null!==t.parentNode?um(t.parentNode):t}function dd(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var o=s.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return function RH(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||ao(t.firstElementChild)===t)}(o)?o:ao(o);var a=um(t);return a.host?dd(a.host,e):dd(t,um(e).host)}function lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,s=t.ownerDocument.scrollingElement||i;return s[n]}return t[n]}function OH(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=lo(e,"top"),i=lo(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}function iM(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function sM(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],oo(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function oM(t){var e=t.body,n=t.documentElement,r=oo(10)&&getComputedStyle(n);return{height:sM("Height",e,n,r),width:sM("Width",e,n,r)}}var FH=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},kH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),uo=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ci(t){return xn({},t,{right:t.left+t.width,bottom:t.top+t.height})}function cm(t){var e={};try{if(oo(10)){e=t.getBoundingClientRect();var n=lo(t,"top"),r=lo(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?oM(t.ownerDocument):{},l=t.offsetWidth-(s.width||t.clientWidth||i.width),u=t.offsetHeight-(s.height||t.clientHeight||i.height);if(l||u){var c=zi(t);l-=iM(c,"x"),u-=iM(c,"y"),i.width-=l,i.height-=u}return ci(i)}function dm(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=oo(10),i="HTML"===e.nodeName,s=cm(t),o=cm(e),a=ml(t),l=zi(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=ci({top:s.top-o.top-u,left:s.left-o.left-c,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-f,d.right-=c-f,d.marginTop=h,d.marginLeft=f}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(d=OH(d,e)),d}function LH(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=dm(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:lo(n),a=e?0:lo(n,"left"),l={top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:s};return ci(l)}function aM(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===zi(t,"position"))return!0;var n=lm(t);return!!n&&aM(n)}function lM(t){if(!t||!t.parentElement||oo())return document.documentElement;for(var e=t.parentElement;e&&"none"===zi(e,"transform");)e=e.parentElement;return e||document.documentElement}function hm(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=i?lM(t):dd(t,tM(e));if("viewport"===r)s=LH(o,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=ml(lm(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===r?t.ownerDocument.documentElement:r;var l=dm(a,o,i);if("HTML"!==a.nodeName||aM(o))s=l;else{var u=oM(t.ownerDocument),c=u.height,d=u.width;s.top+=l.top-l.marginTop,s.bottom=c+l.top,s.left+=l.left-l.marginLeft,s.right=d+l.left}}var h="number"==typeof(n=n||0);return s.left+=h?n:n.left||0,s.top+=h?n:n.top||0,s.right-=h?n:n.right||0,s.bottom-=h?n:n.bottom||0,s}function VH(t){return t.width*t.height}function uM(t,e,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=hm(n,r,s,i),a={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(a).map(function(h){return xn({key:h},a[h],{area:VH(a[h])})}).sort(function(h,f){return f.area-h.area}),u=l.filter(function(h){return h.width>=n.clientWidth&&h.height>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function cM(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?lM(e):dd(e,tM(n));return dm(n,i,r)}function dM(t){var n=t.ownerDocument.defaultView.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+r}}function hd(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function hM(t,e,n){n=n.split("-")[0];var r=dM(t),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",a=s?"left":"top",l=s?"height":"width",u=s?"width":"height";return i[o]=e[o]+e[l]/2-r[l]/2,i[a]=n===a?e[a]-r[u]:e[hd(a)],i}function _l(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function fM(t,e,n){var r=void 0===n?t:t.slice(0,function BH(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=_l(t,function(i){return i[e]===n});return t.indexOf(r)}(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&eM(s)&&(e.offsets.popper=ci(e.offsets.popper),e.offsets.reference=ci(e.offsets.reference),e=s(e,i))}),e}function jH(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=cM(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=uM(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=hM(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=fM(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function gM(t,e){return t.some(function(n){return n.enabled&&n.name===e})}function fm(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],s=i?""+i+n:t;if(typeof document.body.style[s]<"u")return s}return null}function UH(){return this.state.isDestroyed=!0,gM(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[fm("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function pM(t){var e=t.ownerDocument;return e?e.defaultView:window}function mM(t,e,n,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),i||mM(ml(s.parentNode),e,n,r),r.push(s)}function HH(t,e,n,r){n.updateBound=r,pM(t).addEventListener("resize",n.updateBound,{passive:!0});var i=ml(t);return mM(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function $H(){this.state.eventsEnabled||(this.state=HH(this.reference,0,this.state,this.scheduleUpdate))}function zH(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function GH(t,e){return pM(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function gm(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function pm(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&gm(e[n])&&(r="px"),t.style[n]=e[n]+r})}var KH=pl&&/Firefox/i.test(navigator.userAgent);function _M(t,e,n){var r=_l(t,function(a){return a.name===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var s="`"+e+"`";console.warn("`"+n+"` modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var yM=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],mm=yM.slice(3);function vM(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=mm.indexOf(t),r=mm.slice(n+1).concat(mm.slice(0,n));return e?r.reverse():r}var u$={shift:{order:100,enabled:!0,fn:function o$(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,s=i.reference,o=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:uo({},l,s[l]),end:uo({},l,s[l]+s[u]-o[u])};t.offsets.popper=xn({},o,c[r])}return t}},offset:{order:200,enabled:!0,fn:function i$(t,e){var l,n=e.offset,i=t.offsets,s=i.popper,o=i.reference,a=t.placement.split("-")[0];return l=gm(+n)?[+n,0]:function r$(t,e,n,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),o=t.split(/(\+|\-)/).map(function(c){return c.trim()}),a=o.indexOf(_l(o,function(c){return-1!==c.search(/,|\s/)}));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return u=u.map(function(c,d){var h=(1===d?!s:s)?"height":"width",f=!1;return c.reduce(function(g,p){return""===g[g.length-1]&&-1!==["+","-"].indexOf(p)?(g[g.length-1]=p,f=!0,g):f?(g[g.length-1]+=p,f=!1,g):g.concat(p)},[]).map(function(g){return function n$(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];return s?0===o.indexOf("%")?ci("%p"===o?n:r)[e]/100*s:"vh"===o||"vw"===o?("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t}(g,h,e,n)})}),u.forEach(function(c,d){c.forEach(function(h,f){gm(h)&&(i[d]+=h*("-"===c[f-1]?-1:1))})}),i}(n,s,o,a),"left"===a?(s.top+=l[0],s.left-=l[1]):"right"===a?(s.top+=l[0],s.left+=l[1]):"top"===a?(s.left+=l[0],s.top-=l[1]):"bottom"===a&&(s.left+=l[0],s.top+=l[1]),t.popper=s,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function s$(t,e){var n=e.boundariesElement||ao(t.instance.popper);t.instance.reference===n&&(n=ao(n));var r=fm("transform"),i=t.instance.popper.style,s=i.top,o=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=hm(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=s,i.left=o,i[r]=a,e.boundaries=l;var c=t.offsets.popper,d={primary:function(f){var g=c[f];return c[f]<l[f]&&!e.escapeWithReference&&(g=Math.max(c[f],l[f])),uo({},f,g)},secondary:function(f){var g="right"===f?"left":"top",p=c[g];return c[f]>l[f]&&!e.escapeWithReference&&(p=Math.min(c[g],l[f]-("right"===f?c.width:c.height))),uo({},g,p)}};return e.priority.forEach(function(h){var f=-1!==["left","top"].indexOf(h)?"primary":"secondary";c=xn({},c,d[f](h))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function t$(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(i),a=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[a]<s(r[l])&&(t.offsets.popper[l]=s(r[l])-n[u]),n[l]>s(r[a])&&(t.offsets.popper[l]=s(r[a])),t}},arrow:{order:500,enabled:!0,fn:function ZH(t,e){var n;if(!_M(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,o=s.popper,a=s.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",g=dM(r)[u];a[f]-g<o[d]&&(t.offsets.popper[d]-=o[d]-(a[f]-g)),a[d]+g>o[f]&&(t.offsets.popper[d]+=a[d]+g-o[f]),t.offsets.popper=ci(t.offsets.popper);var p=a[d]+a[u]/2-g/2,m=zi(t.instance.popper),_=parseFloat(m["margin"+c]),v=parseFloat(m["border"+c+"Width"]),y=p-t.offsets.popper[d]-_-v;return y=Math.max(Math.min(o[u]-g,y),0),t.arrowElement=r,t.offsets.arrow=(uo(n={},d,Math.round(y)),uo(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function e$(t,e){if(gM(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=hm(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=hd(r),s=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case"flip":o=[r,i];break;case"clockwise":o=vM(r);break;case"counterclockwise":o=vM(r,!0);break;default:o=e.behavior}return o.forEach(function(a,l){if(r!==a||o.length===l+1)return t;r=t.placement.split("-")[0],i=hd(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),f=d(u.left)<d(n.left),g=d(u.right)>d(n.right),p=d(u.top)<d(n.top),m=d(u.bottom)>d(n.bottom),_="left"===r&&f||"right"===r&&g||"top"===r&&p||"bottom"===r&&m,v=-1!==["top","bottom"].indexOf(r),S=!!e.flipVariations&&(v&&"start"===s&&f||v&&"end"===s&&g||!v&&"start"===s&&p||!v&&"end"===s&&m)||!!e.flipVariationsByContent&&(v&&"start"===s&&g||v&&"end"===s&&f||!v&&"start"===s&&m||!v&&"end"===s&&p);(h||_||S)&&(t.flipped=!0,(h||_)&&(r=o[l+1]),S&&(s=function JH(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=xn({},t.offsets.popper,hM(t.instance.popper,t.offsets.reference,t.placement)),t=fM(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function l$(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=s[n]-(a?i[o?"width":"height"]:0),t.placement=hd(e),t.offsets.popper=ci(i),t}},hide:{order:800,enabled:!0,fn:function a$(t){if(!_M(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=_l(t.instance.modifiers,function(r){return"preventOverflow"===r.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function QH(t,e){var n=e.x,r=e.y,i=t.offsets.popper,s=_l(t.instance.modifiers,function(y){return"applyStyle"===y.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var g,p,o=void 0!==s?s:e.gpuAcceleration,a=ao(t.instance.popper),l=cm(a),u={position:i.position},c=function XH(t,e){var n=t.offsets,r=n.popper,s=Math.round,o=Math.floor,a=function(_){return _},l=s(n.reference.width),u=s(r.width),c=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),g=e?c||d||l%2==u%2?s:o:a,p=e?s:a;return{left:g(l%2==1&&u%2==1&&!d&&e?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:g(r.right)}}(t,window.devicePixelRatio<2||!KH),d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",f=fm("transform");if(p="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,g="right"===h?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,o&&f)u[f]="translate3d("+g+"px, "+p+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var _="right"===h?-1:1;u[d]=p*("bottom"===d?-1:1),u[h]=g*_,u.willChange=d+", "+h}return t.attributes=xn({},{"x-placement":t.placement},t.attributes),t.styles=xn({},u,t.styles),t.arrowStyles=xn({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function qH(t){return pm(t.instance.popper,t.styles),function WH(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&pm(t.arrowElement,t.arrowStyles),t},onLoad:function YH(t,e,n,r,i){var s=cM(i,e,t,n.positionFixed),o=uM(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),pm(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},c$={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:u$},fd=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};FH(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=NH(this.update.bind(this)),this.options=xn({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(xn({},t.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=xn({},t.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return xn({name:o},r.options.modifiers[o])}).sort(function(o,a){return o.order-a.order}),this.modifiers.forEach(function(o){o.enabled&&eM(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return kH(t,[{key:"update",value:function(){return jH.call(this)}},{key:"destroy",value:function(){return UH.call(this)}},{key:"enableEventListeners",value:function(){return $H.call(this)}},{key:"disableEventListeners",value:function(){return zH.call(this)}}]),t}();fd.Utils=(typeof window<"u"?window:global).PopperUtils,fd.placements=yM,fd.Defaults=c$;const gd=fd;function CM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e,n){return e&&CM(t.prototype,e),n&&CM(t,n),t}function d$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){d$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t,e,Et="transitionend",ym=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e},DM=function(e){var n=e.getAttribute("data-target");if(!n||"#"===n){var r=e.getAttribute("href");n=r&&"#"!==r?r.trim():null}return n},vm=function(e){var n=DM(e);return n&&document.querySelector(n)?n:null},Wi=function(e){var n=DM(e);return n?document.querySelector(n):null},Zt=function(e){if(!e)return 0;var n=window.getComputedStyle(e),r=n.transitionDuration,i=n.transitionDelay,s=parseFloat(r),o=parseFloat(i);return s||o?(r=r.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(r)+parseFloat(i))):0},EM=function(e){e.dispatchEvent(new Event(Et))},co=function(e){return(e[0]||e).nodeType},Jt=function(e,n){var r=!1,s=n+5;e.addEventListener(Et,function o(){r=!0,e.removeEventListener(Et,o)}),setTimeout(function(){r||EM(e)},s)},qi=function(e,n,r){Object.keys(r).forEach(function(i){var s=r[i],o=n[i],a=o&&co(o)?"element":function(e){return null==e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}(o);if(!new RegExp(s).test(a))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+s+'".')})},Cm=function(e){if(!e)return!1;if(e.style&&e.parentNode&&e.parentNode.style){var n=getComputedStyle(e),r=getComputedStyle(e.parentNode);return"none"!==n.display&&"none"!==r.display&&"hidden"!==n.visibility}return!1},m$=function t(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null},pd=function(){return function(){}},ho=function(e){return e.offsetHeight},Tn=function(){var n=window.jQuery;return n&&!document.body.hasAttribute("data-no-jquery")?n:null},wm=(t={},e=1,{set:function(r,i,s){typeof r.key>"u"&&(r.key={key:i,id:e},e++),t[r.key.id]=s},get:function(r,i){if(!r||typeof r.key>"u")return null;var s=r.key;return s.key===i?t[s.id]:null},delete:function(r,i){if(!(typeof r.key>"u")){var s=r.key;s.key===i&&(delete t[s.id],delete r.key)}}}),T_setData=function(e,n,r){wm.set(e,n,r)},T_getData=function(e,n){return wm.get(e,n)},T_removeData=function(e,n){wm.delete(e,n)},Dm=Element.prototype.querySelectorAll,bM=Element.prototype.querySelector,_$=function(){var t=new CustomEvent("Bootstrap",{cancelable:!0}),e=document.createElement("div");return e.addEventListener("Bootstrap",function(){return null}),t.preventDefault(),e.dispatchEvent(t),t.defaultPrevented}(),Em=/:scope\b/,y$=function(){var t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch{return!1}return!0}();y$||(Dm=function(e){if(!Em.test(e))return this.querySelectorAll(e);var n=Boolean(this.id);n||(this.id=ym("scope"));var r=null;try{e=e.replace(Em,"#"+this.id),r=this.querySelectorAll(e)}finally{n||this.removeAttribute("id")}return r},bM=function(e){if(!Em.test(e))return this.querySelector(e);var n=Dm.call(this,e);return typeof n[0]<"u"?n[0]:null});var bm=Tn(),v$=/[^.]*(?=\..*)\.|.*/,SM=/\..*/,C$=/::\d+$/,Sm={},MM=1,w$={mouseenter:"mouseover",mouseleave:"mouseout"},IM=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function xM(t,e){return e&&e+"::"+MM++||t.uidEvent||MM++}function TM(t){var e=xM(t);return t.uidEvent=e,Sm[e]=Sm[e]||{},Sm[e]}function AM(t,e,n){void 0===n&&(n=null);for(var r=Object.keys(t),i=0,s=r.length;i<s;i++){var o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function PM(t,e,n){var r="string"==typeof e,i=r?n:e,s=t.replace(SM,""),o=w$[s];return o&&(s=o),IM.indexOf(s)>-1||(s=t),[r,i,s]}function NM(t,e,n,r,i){if("string"==typeof e&&t){n||(n=r,r=null);var s=PM(e,n,r),o=s[0],a=s[1],l=s[2],u=TM(t),c=u[l]||(u[l]={}),d=AM(c,a,o?n:null);if(d)return void(d.oneOff=d.oneOff&&i);var h=xM(a,e.replace(v$,"")),f=o?function E$(t,e,n){return function r(i){for(var s=t.querySelectorAll(e),o=i.target;o&&o!==this;o=o.parentNode)for(var a=s.length;a--;)if(s[a]===o)return r.oneOff&&w.off(t,i.type,n),n.apply(o,[i]);return null}}(t,n,r):function D$(t,e){return function n(r){return n.oneOff&&w.off(t,r.type,e),e.apply(t,[r])}}(t,n);f.delegationSelector=o?n:null,f.originalHandler=a,f.oneOff=i,f.uidEvent=h,c[h]=f,t.addEventListener(l,f,o)}}function Mm(t,e,n,r,i){var s=AM(e[n],r,i);!s||(t.removeEventListener(n,s,Boolean(i)),delete e[n][s.uidEvent])}var w={on:function(e,n,r,i){NM(e,n,r,i,!1)},one:function(e,n,r,i){NM(e,n,r,i,!0)},off:function(e,n,r,i){if("string"==typeof n&&e){var s=PM(n,r,i),o=s[0],a=s[1],l=s[2],u=l!==n,c=TM(e),d="."===n.charAt(0);if(typeof a<"u"){if(!c||!c[l])return;return void Mm(e,c,l,a,o?r:null)}d&&Object.keys(c).forEach(function(f){!function b$(t,e,n,r){var i=e[n]||{};Object.keys(i).forEach(function(s){if(s.indexOf(r)>-1){var o=i[s];Mm(t,e,n,o.originalHandler,o.delegationSelector)}})}(e,c,f,n.slice(1))});var h=c[l]||{};Object.keys(h).forEach(function(f){var g=f.replace(C$,"");if(!u||n.indexOf(g)>-1){var p=h[f];Mm(e,c,l,p.originalHandler,p.delegationSelector)}})}},trigger:function(e,n,r){if("string"!=typeof n||!e)return null;var a,i=n.replace(SM,""),s=n!==i,o=IM.indexOf(i)>-1,l=!0,u=!0,c=!1,d=null;return s&&bm&&(a=bm.Event(n,r),bm(e).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(d=document.createEvent("HTMLEvents")).initEvent(i,l,!0):d=new CustomEvent(n,{bubbles:l,cancelable:!0}),typeof r<"u"&&Object.keys(r).forEach(function(h){Object.defineProperty(d,h,{get:function(){return r[h]}})}),c&&(d.preventDefault(),_$||Object.defineProperty(d,"defaultPrevented",{get:function(){return!0}})),u&&e.dispatchEvent(d),d.defaultPrevented&&typeof a<"u"&&a.preventDefault(),d}},yl="alert",vl="bs.alert",Cl=function(){function t(n){this._element=n,this._element&&T_setData(n,vl,this)}var e=t.prototype;return e.close=function(r){var i=this._element;r&&(i=this._getRootElement(r));var s=this._triggerCloseEvent(i);null===s||s.defaultPrevented||this._removeElement(i)},e.dispose=function(){T_removeData(this._element,vl),this._element=null},e._getRootElement=function(r){return Wi(r)||r.closest(".alert")},e._triggerCloseEvent=function(r){return w.trigger(r,"close.bs.alert")},e._removeElement=function(r){var i=this;if(r.classList.remove("show"),r.classList.contains("fade")){var s=Zt(r);w.one(r,Et,function(){return i._destroyElement(r)}),Jt(r,s)}else this._destroyElement(r)},e._destroyElement=function(r){r.parentNode&&r.parentNode.removeChild(r),w.trigger(r,"closed.bs.alert")},t.jQueryInterface=function(r){return this.each(function(){var i=T_getData(this,vl);i||(i=new t(this)),"close"===r&&i[r](this)})},t.handleDismiss=function(r){return function(i){i&&i.preventDefault(),r.close(this)}},t.getInstance=function(r){return T_getData(r,vl)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}}]),t}();w.on(document,"click.bs.alert.data-api",'[data-dismiss="alert"]',Cl.handleDismiss(new Cl));var fo=Tn();if(fo){var O$=fo.fn[yl];fo.fn[yl]=Cl.jQueryInterface,fo.fn[yl].Constructor=Cl,fo.fn[yl].noConflict=function(){return fo.fn[yl]=O$,Cl.jQueryInterface}}var wl="button",go="bs.button",RM='[data-toggle="button"]',md=function(){function t(n){this._element=n,T_setData(n,go,this)}var e=t.prototype;return e.toggle=function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))},e.dispose=function(){T_removeData(this._element,go),this._element=null},t.jQueryInterface=function(r){return this.each(function(){var i=T_getData(this,go);i||(i=new t(this)),"toggle"===r&&i[r]()})},t.getInstance=function(r){return T_getData(r,go)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}}]),t}();w.on(document,"click.bs.button.data-api",RM,function(t){t.preventDefault();var e=t.target.closest(RM),n=T_getData(e,go);n||(n=new md(e)),n.toggle()});var po=Tn();if(po){var j$=po.fn[wl];po.fn[wl]=md.jQueryInterface,po.fn[wl].Constructor=md,po.fn[wl].noConflict=function(){return po.fn[wl]=j$,md.jQueryInterface}}function OM(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function xm(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}var Le={setDataAttribute:function(e,n,r){e.setAttribute("data-"+xm(n),r)},removeDataAttribute:function(e,n){e.removeAttribute("data-"+xm(n))},getDataAttributes:function(e){if(!e)return{};var n=G({},e.dataset);return Object.keys(n).forEach(function(r){n[r]=OM(n[r])}),n},getDataAttribute:function(e,n){return OM(e.getAttribute("data-"+xm(n)))},offset:function(e){var n=e.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}},toggleClass:function(e,n){!e||(e.classList.contains(n)?e.classList.remove(n):e.classList.add(n))}},z={matches:function(e,n){return e.matches(n)},find:function(e,n){var r;return void 0===n&&(n=document.documentElement),(r=[]).concat.apply(r,Dm.call(n,e))},findOne:function(e,n){return void 0===n&&(n=document.documentElement),bM.call(n,e)},children:function(e,n){var r;return(r=[]).concat.apply(r,e.children).filter(function(s){return s.matches(n)})},parents:function(e,n){for(var r=[],i=e.parentNode;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)this.matches(i,n)&&r.push(i),i=i.parentNode;return r},prev:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return[r];r=r.previousElementSibling}return[]},next:function(e,n){for(var r=e.nextElementSibling;r;){if(this.matches(r,n))return[r];r=r.nextElementSibling}return[]}},mo="carousel",Yi="bs.carousel",en="."+Yi,Tm={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},q$={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},_d="next",yd="prev",Am="slid"+en,Xi="active",Pm=".active.carousel-item",kM={TOUCH:"touch",PEN:"pen"},_o=function(){function t(n,r){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(r),this._element=n,this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners(),T_setData(n,Yi,this)}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(_d)},e.nextWhenVisible=function(){!document.hidden&&Cm(this._element)&&this.next()},e.prev=function(){this._isSliding||this._slide(yd)},e.pause=function(r){r||(this._isPaused=!0),z.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(EM(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(r){r||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(r){var i=this;this._activeElement=z.findOne(Pm,this._element);var s=this._getItemIndex(this._activeElement);if(!(r>this._items.length-1||r<0)){if(this._isSliding)return void w.one(this._element,Am,function(){return i.to(r)});if(s===r)return this.pause(),void this.cycle();this._slide(r>s?_d:yd,this._items[r])}},e.dispose=function(){w.off(this._element,en),T_removeData(this._element,Yi),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(r){return r=G(G({},Tm),r),qi(mo,r,q$),r},e._handleSwipe=function(){var r=Math.abs(this.touchDeltaX);if(!(r<=40)){var i=r/this.touchDeltaX;this.touchDeltaX=0,i>0&&this.prev(),i<0&&this.next()}},e._addEventListeners=function(){var r=this;this._config.keyboard&&w.on(this._element,"keydown.bs.carousel",function(i){return r._keydown(i)}),"hover"===this._config.pause&&(w.on(this._element,"mouseenter.bs.carousel",function(i){return r.pause(i)}),w.on(this._element,"mouseleave.bs.carousel",function(i){return r.cycle(i)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var r=this,i=function(l){r._pointerEvent&&kM[l.pointerType.toUpperCase()]?r.touchStartX=l.clientX:r._pointerEvent||(r.touchStartX=l.touches[0].clientX)},o=function(l){r._pointerEvent&&kM[l.pointerType.toUpperCase()]&&(r.touchDeltaX=l.clientX-r.touchStartX),r._handleSwipe(),"hover"===r._config.pause&&(r.pause(),r.touchTimeout&&clearTimeout(r.touchTimeout),r.touchTimeout=setTimeout(function(u){return r.cycle(u)},500+r._config.interval))};z.find(".carousel-item img",this._element).forEach(function(a){w.on(a,"dragstart.bs.carousel",function(l){return l.preventDefault()})}),this._pointerEvent?(w.on(this._element,"pointerdown.bs.carousel",function(a){return i(a)}),w.on(this._element,"pointerup.bs.carousel",function(a){return o(a)}),this._element.classList.add("pointer-event")):(w.on(this._element,"touchstart.bs.carousel",function(a){return i(a)}),w.on(this._element,"touchmove.bs.carousel",function(a){var l;r.touchDeltaX=(l=a).touches&&l.touches.length>1?0:l.touches[0].clientX-r.touchStartX}),w.on(this._element,"touchend.bs.carousel",function(a){return o(a)}))},e._keydown=function(r){if(!/input|textarea/i.test(r.target.tagName))switch(r.key){case"ArrowLeft":r.preventDefault(),this.prev();break;case"ArrowRight":r.preventDefault(),this.next()}},e._getItemIndex=function(r){return this._items=r&&r.parentNode?z.find(".carousel-item",r.parentNode):[],this._items.indexOf(r)},e._getItemByDirection=function(r,i){var s=r===_d,o=r===yd,a=this._getItemIndex(i);if((o&&0===a||s&&a===this._items.length-1)&&!this._config.wrap)return i;var d=(a+(r===yd?-1:1))%this._items.length;return-1===d?this._items[this._items.length-1]:this._items[d]},e._triggerSlideEvent=function(r,i){var s=this._getItemIndex(r),o=this._getItemIndex(z.findOne(Pm,this._element));return w.trigger(this._element,"slide.bs.carousel",{relatedTarget:r,direction:i,from:o,to:s})},e._setActiveIndicatorElement=function(r){if(this._indicatorsElement){for(var i=z.find(".active",this._indicatorsElement),s=0;s<i.length;s++)i[s].classList.remove(Xi);var o=this._indicatorsElement.children[this._getItemIndex(r)];o&&o.classList.add(Xi)}},e._slide=function(r,i){var d,h,f,s=this,o=z.findOne(Pm,this._element),a=this._getItemIndex(o),l=i||o&&this._getItemByDirection(r,o),u=this._getItemIndex(l),c=Boolean(this._interval);if(r===_d?(d="carousel-item-left",h="carousel-item-next",f="left"):(d="carousel-item-right",h="carousel-item-prev",f="right"),l&&l.classList.contains(Xi))this._isSliding=!1;else if(!this._triggerSlideEvent(l,f).defaultPrevented&&o&&l){if(this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(l),this._element.classList.contains("slide")){l.classList.add(h),ho(l),o.classList.add(d),l.classList.add(d);var p=parseInt(l.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var m=Zt(o);w.one(o,Et,function(){l.classList.remove(d,h),l.classList.add(Xi),o.classList.remove(Xi,h,d),s._isSliding=!1,setTimeout(function(){w.trigger(s._element,Am,{relatedTarget:l,direction:f,from:a,to:u})},0)}),Jt(o,m)}else o.classList.remove(Xi),l.classList.add(Xi),this._isSliding=!1,w.trigger(this._element,Am,{relatedTarget:l,direction:f,from:a,to:u});c&&this.cycle()}},t.carouselInterface=function(r,i){var s=T_getData(r,Yi),o=G(G({},Tm),Le.getDataAttributes(r));"object"==typeof i&&(o=G(G({},o),i));var a="string"==typeof i?i:o.slide;if(s||(s=new t(r,o)),"number"==typeof i)s.to(i);else if("string"==typeof a){if(typeof s[a]>"u")throw new TypeError('No method named "'+a+'"');s[a]()}else o.interval&&o.ride&&(s.pause(),s.cycle())},t.jQueryInterface=function(r){return this.each(function(){t.carouselInterface(this,r)})},t.dataApiClickHandler=function(r){var i=Wi(this);if(i&&i.classList.contains("carousel")){var s=G(G({},Le.getDataAttributes(i)),Le.getDataAttributes(this)),o=this.getAttribute("data-slide-to");o&&(s.interval=!1),t.carouselInterface(i,s),o&&T_getData(i,Yi).to(o),r.preventDefault()}},t.getInstance=function(r){return T_getData(r,Yi)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return Tm}}]),t}();w.on(document,"click.bs.carousel.data-api","[data-slide], [data-slide-to]",_o.dataApiClickHandler),w.on(window,"load.bs.carousel.data-api",function(){for(var t=z.find('[data-ride="carousel"]'),e=0,n=t.length;e<n;e++)_o.carouselInterface(t[e],T_getData(t[e],Yi))});var yo=Tn();if(yo){var D3=yo.fn[mo];yo.fn[mo]=_o.jQueryInterface,yo.fn[mo].Constructor=_o,yo.fn[mo].noConflict=function(){return yo.fn[mo]=D3,_o.jQueryInterface}}var vo="collapse",di="bs.collapse",Nm={toggle:!0,parent:""},S3={toggle:"boolean",parent:"(string|element)"},Ki="show",El="collapse",vd="collapsing",Cd="collapsed",bl='[data-toggle="collapse"]',wd=function(){function t(n,r){this._isTransitioning=!1,this._element=n,this._config=this._getConfig(r),this._triggerArray=z.find(bl+'[href="#'+n.id+'"],'+bl+'[data-target="#'+n.id+'"]');for(var i=z.find(bl),s=0,o=i.length;s<o;s++){var a=i[s],l=vm(a),u=z.find(l).filter(function(c){return c===n});null!==l&&u.length&&(this._selector=l,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),T_setData(n,di,this)}var e=t.prototype;return e.toggle=function(){this._element.classList.contains(Ki)?this.hide():this.show()},e.show=function(){var r=this;if(!this._isTransitioning&&!this._element.classList.contains(Ki)){var i,s;this._parent&&0===(i=z.find(".show, .collapsing",this._parent).filter(function(g){return"string"==typeof r._config.parent?g.getAttribute("data-parent")===r._config.parent:g.classList.contains(El)})).length&&(i=null);var o=z.findOne(this._selector);if(i){var a=i.filter(function(g){return o!==g});if((s=a[0]?T_getData(a[0],di):null)&&s._isTransitioning)return}if(!w.trigger(this._element,"show.bs.collapse").defaultPrevented){i&&i.forEach(function(g){o!==g&&t.collapseInterface(g,"hide"),s||T_setData(g,di,null)});var u=this._getDimension();this._element.classList.remove(El),this._element.classList.add(vd),this._element.style[u]=0,this._triggerArray.length&&this._triggerArray.forEach(function(g){g.classList.remove(Cd),g.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0);var h="scroll"+(u[0].toUpperCase()+u.slice(1)),f=Zt(this._element);w.one(this._element,Et,function(){r._element.classList.remove(vd),r._element.classList.add(El,Ki),r._element.style[u]="",r.setTransitioning(!1),w.trigger(r._element,"shown.bs.collapse")}),Jt(this._element,f),this._element.style[u]=this._element[h]+"px"}}},e.hide=function(){var r=this;if(!this._isTransitioning&&this._element.classList.contains(Ki)&&!w.trigger(this._element,"hide.bs.collapse").defaultPrevented){var s=this._getDimension();this._element.style[s]=this._element.getBoundingClientRect()[s]+"px",ho(this._element),this._element.classList.add(vd),this._element.classList.remove(El,Ki);var o=this._triggerArray.length;if(o>0)for(var a=0;a<o;a++){var l=this._triggerArray[a],u=Wi(l);u&&!u.classList.contains(Ki)&&(l.classList.add(Cd),l.setAttribute("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[s]="";var d=Zt(this._element);w.one(this._element,Et,function(){r.setTransitioning(!1),r._element.classList.remove(vd),r._element.classList.add(El),w.trigger(r._element,"hidden.bs.collapse")}),Jt(this._element,d)}},e.setTransitioning=function(r){this._isTransitioning=r},e.dispose=function(){T_removeData(this._element,di),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(r){return(r=G(G({},Nm),r)).toggle=Boolean(r.toggle),qi(vo,r,S3),r},e._getDimension=function(){return this._element.classList.contains("width")?"width":"height"},e._getParent=function(){var r=this,i=this._config.parent;return co(i)?(typeof i.jquery<"u"||typeof i[0]<"u")&&(i=i[0]):i=z.findOne(i),z.find(bl+'[data-parent="'+i+'"]',i).forEach(function(o){var a=Wi(o);r._addAriaAndCollapsedClass(a,[o])}),i},e._addAriaAndCollapsedClass=function(r,i){if(r){var s=r.classList.contains(Ki);i.length&&i.forEach(function(o){s?o.classList.remove(Cd):o.classList.add(Cd),o.setAttribute("aria-expanded",s)})}},t.collapseInterface=function(r,i){var s=T_getData(r,di),o=G(G(G({},Nm),Le.getDataAttributes(r)),"object"==typeof i&&i?i:{});if(!s&&o.toggle&&"string"==typeof i&&/show|hide/.test(i)&&(o.toggle=!1),s||(s=new t(r,o)),"string"==typeof i){if(typeof s[i]>"u")throw new TypeError('No method named "'+i+'"');s[i]()}},t.jQueryInterface=function(r){return this.each(function(){t.collapseInterface(this,r)})},t.getInstance=function(r){return T_getData(r,di)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return Nm}}]),t}();w.on(document,"click.bs.collapse.data-api",bl,function(t){"A"===t.target.tagName&&t.preventDefault();var e=Le.getDataAttributes(this),n=vm(this);z.find(n).forEach(function(i){var o,s=T_getData(i,di);s?(null===s._parent&&"string"==typeof e.parent&&(s._config.parent=e.parent,s._parent=s._getParent()),o="toggle"):o=e,wd.collapseInterface(i,o)})});var Co=Tn();if(Co){var R3=Co.fn[vo];Co.fn[vo]=wd.jQueryInterface,Co.fn[vo].Constructor=wd,Co.fn[vo].noConflict=function(){return Co.fn[vo]=R3,wd.jQueryInterface}}var wo="dropdown",Do="bs.dropdown",zr="."+Do,Rm=".data-api",Om="Escape",Fm="ArrowUp",km="ArrowDown",k3=new RegExp(Fm+"|"+km+"|"+Om),jM="hide"+zr,UM="hidden"+zr,Lm="click"+zr+Rm,HM="keydown"+zr+Rm,Dd="disabled",Jn="show",$M="dropdown-menu-right",Sl='[data-toggle="dropdown"]',Vm=".dropdown-menu",tG={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},nG={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},hi=function(){function t(n,r){this._element=n,this._popper=null,this._config=this._getConfig(r),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners(),T_setData(n,Do,this)}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!this._element.classList.contains(Dd)){var r=this._element.classList.contains(Jn);t.clearMenus(),!r&&this.show()}},e.show=function(){if(!(this._element.disabled||this._element.classList.contains(Dd)||this._menu.classList.contains(Jn))){var r=t.getParentFromElement(this._element),i={relatedTarget:this._element};if(!w.trigger(this._element,"show.bs.dropdown",i).defaultPrevented){if(!this._inNavbar){if(typeof gd>"u")throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org)");var o=this._element;"parent"===this._config.reference?o=r:co(this._config.reference)&&(o=this._config.reference,typeof this._config.reference.jquery<"u"&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&r.classList.add("position-static"),this._popper=new gd(o,this._menu,this._getPopperConfig())}var a;"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav")&&(a=[]).concat.apply(a,document.body.children).forEach(function(l){return w.on(l,"mouseover",null,function(){})}),this._element.focus(),this._element.setAttribute("aria-expanded",!0),Le.toggleClass(this._menu,Jn),Le.toggleClass(this._element,Jn),w.trigger(r,"shown.bs.dropdown",i)}}},e.hide=function(){if(!this._element.disabled&&!this._element.classList.contains(Dd)&&this._menu.classList.contains(Jn)){var r=t.getParentFromElement(this._element),i={relatedTarget:this._element};w.trigger(r,jM,i).defaultPrevented||(this._popper&&this._popper.destroy(),Le.toggleClass(this._menu,Jn),Le.toggleClass(this._element,Jn),w.trigger(r,UM,i))}},e.dispose=function(){T_removeData(this._element,Do),w.off(this._element,zr),this._element=null,this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var r=this;w.on(this._element,"click.bs.dropdown",function(i){i.preventDefault(),i.stopPropagation(),r.toggle()})},e._getConfig=function(r){return r=G(G(G({},this.constructor.Default),Le.getDataAttributes(this._element)),r),qi(wo,r,this.constructor.DefaultType),r},e._getMenuElement=function(){return z.next(this._element,Vm)[0]},e._getPlacement=function(){var r=this._element.parentNode,i="bottom-start";return r.classList.contains("dropup")?(i="top-start",this._menu.classList.contains($M)&&(i="top-end")):r.classList.contains("dropright")?i="right-start":r.classList.contains("dropleft")?i="left-start":this._menu.classList.contains($M)&&(i="bottom-end"),i},e._detectNavbar=function(){return Boolean(this._element.closest(".navbar"))},e._getOffset=function(){var r=this,i={};return"function"==typeof this._config.offset?i.fn=function(s){return s.offsets=G(G({},s.offsets),r._config.offset(s.offsets,r._element)||{}),s}:i.offset=this._config.offset,i},e._getPopperConfig=function(){var r={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(r.modifiers.applyStyle={enabled:!1}),G(G({},r),this._config.popperConfig)},t.dropdownInterface=function(r,i){var s=T_getData(r,Do);if(s||(s=new t(r,"object"==typeof i?i:null)),"string"==typeof i){if(typeof s[i]>"u")throw new TypeError('No method named "'+i+'"');s[i]()}},t.jQueryInterface=function(r){return this.each(function(){t.dropdownInterface(this,r)})},t.clearMenus=function(r){if(!r||2!==r.button&&("keyup"!==r.type||"Tab"===r.key))for(var i=z.find(Sl),s=0,o=i.length;s<o;s++){var a=t.getParentFromElement(i[s]),l=T_getData(i[s],Do),u={relatedTarget:i[s]};if(r&&"click"===r.type&&(u.clickEvent=r),l){var h,c=l._menu;if(i[s].classList.contains(Jn)&&!(r&&("click"===r.type&&/input|textarea/i.test(r.target.tagName)||"keyup"===r.type&&"Tab"===r.key)&&c.contains(r.target))&&!w.trigger(a,jM,u).defaultPrevented)"ontouchstart"in document.documentElement&&(h=[]).concat.apply(h,document.body.children).forEach(function(f){return w.off(f,"mouseover",null,function(){})}),i[s].setAttribute("aria-expanded","false"),l._popper&&l._popper.destroy(),c.classList.remove(Jn),i[s].classList.remove(Jn),w.trigger(a,UM,u)}}},t.getParentFromElement=function(r){return Wi(r)||r.parentNode},t.dataApiKeydownHandler=function(r){if(!(/input|textarea/i.test(r.target.tagName)?"Space"===r.key||r.key!==Om&&(r.key!==km&&r.key!==Fm||r.target.closest(Vm)):!k3.test(r.key))&&(r.preventDefault(),r.stopPropagation(),!this.disabled&&!this.classList.contains(Dd))){var i=t.getParentFromElement(this),s=this.classList.contains(Jn);if(r.key===Om)return(this.matches(Sl)?this:z.prev(this,Sl)[0]).focus(),void t.clearMenus();if(!s||"Space"===r.key)return void t.clearMenus();var a=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",i).filter(Cm);if(a.length){var l=a.indexOf(r.target);r.key===Fm&&l>0&&l--,r.key===km&&l<a.length-1&&l++,a[l=-1===l?0:l].focus()}}},t.getInstance=function(r){return T_getData(r,Do)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return tG}},{key:"DefaultType",get:function(){return nG}}]),t}();w.on(document,HM,Sl,hi.dataApiKeydownHandler),w.on(document,HM,Vm,hi.dataApiKeydownHandler),w.on(document,Lm,hi.clearMenus),w.on(document,"keyup.bs.dropdown.data-api",hi.clearMenus),w.on(document,Lm,Sl,function(t){t.preventDefault(),t.stopPropagation(),hi.dropdownInterface(this,"toggle")}),w.on(document,Lm,".dropdown form",function(t){return t.stopPropagation()});var Eo=Tn();if(Eo){var rG=Eo.fn[wo];Eo.fn[wo]=hi.jQueryInterface,Eo.fn[wo].Constructor=hi,Eo.fn[wo].noConflict=function(){return Eo.fn[wo]=rG,hi.jQueryInterface}}var bo="modal",So="bs.modal",mn="."+So,Bm={backdrop:!0,keyboard:!0,focus:!0,show:!0},oG={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},zM="hidden"+mn,WM="show"+mn,Ed="focusin"+mn,qM="resize"+mn,jm="click.dismiss"+mn,YM="keydown.dismiss"+mn,XM="mousedown.dismiss"+mn,KM="modal-open",Mo="fade",bd="show",QM="modal-static",ZM=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",JM=".sticky-top",Sd=function(){function t(n,r){this._config=this._getConfig(r),this._element=n,this._dialog=z.findOne(".modal-dialog",n),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0,T_setData(n,So,this)}var e=t.prototype;return e.toggle=function(r){return this._isShown?this.hide():this.show(r)},e.show=function(r){var i=this;if(!this._isShown&&!this._isTransitioning){this._element.classList.contains(Mo)&&(this._isTransitioning=!0);var s=w.trigger(this._element,WM,{relatedTarget:r});this._isShown||s.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),w.on(this._element,jm,'[data-dismiss="modal"]',function(o){return i.hide(o)}),w.on(this._dialog,XM,function(){w.one(i._element,"mouseup.dismiss.bs.modal",function(o){o.target===i._element&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(r)}))}},e.hide=function(r){var i=this;if(r&&r.preventDefault(),this._isShown&&!this._isTransitioning&&!w.trigger(this._element,"hide.bs.modal").defaultPrevented){this._isShown=!1;var o=this._element.classList.contains(Mo);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),w.off(document,Ed),this._element.classList.remove(bd),w.off(this._element,jm),w.off(this._dialog,XM),o){var a=Zt(this._element);w.one(this._element,Et,function(l){return i._hideModal(l)}),Jt(this._element,a)}else this._hideModal()}},e.dispose=function(){[window,this._element,this._dialog].forEach(function(r){return w.off(r,mn)}),w.off(document,Ed),T_removeData(this._element,So),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(r){return r=G(G({},Bm),r),qi(bo,r,oG),r},e._showElement=function(r){var i=this,s=this._element.classList.contains(Mo),o=z.findOne(".modal-body",this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,o&&(o.scrollTop=0),s&&ho(this._element),this._element.classList.add(bd),this._config.focus&&this._enforceFocus();var a=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,w.trigger(i._element,"shown.bs.modal",{relatedTarget:r})};if(s){var l=Zt(this._dialog);w.one(this._dialog,Et,a),Jt(this._dialog,l)}else a()},e._enforceFocus=function(){var r=this;w.off(document,Ed),w.on(document,Ed,function(i){document!==i.target&&r._element!==i.target&&!r._element.contains(i.target)&&r._element.focus()})},e._setEscapeEvent=function(){var r=this;this._isShown?w.on(this._element,YM,function(i){r._config.keyboard&&"Escape"===i.key?(i.preventDefault(),r.hide()):!r._config.keyboard&&"Escape"===i.key&&r._triggerBackdropTransition()}):w.off(this._element,YM)},e._setResizeEvent=function(){var r=this;this._isShown?w.on(window,qM,function(){return r._adjustDialog()}):w.off(window,qM)},e._hideModal=function(){var r=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){document.body.classList.remove(KM),r._resetAdjustments(),r._resetScrollbar(),w.trigger(r._element,zM)})},e._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},e._showBackdrop=function(r){var i=this,s=this._element.classList.contains(Mo)?Mo:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",s&&this._backdrop.classList.add(s),document.body.appendChild(this._backdrop),w.on(this._element,jm,function(u){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:u.target===u.currentTarget&&i._triggerBackdropTransition()}),s&&ho(this._backdrop),this._backdrop.classList.add(bd),!s)return void r();var o=Zt(this._backdrop);w.one(this._backdrop,Et,r),Jt(this._backdrop,o)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(bd);var a=function(){i._removeBackdrop(),r()};if(this._element.classList.contains(Mo)){var l=Zt(this._backdrop);w.one(this._backdrop,Et,a),Jt(this._backdrop,l)}else a()}else r()},e._triggerBackdropTransition=function(){var r=this;if("static"===this._config.backdrop){if(w.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;this._element.classList.add(QM);var s=Zt(this._element);w.one(this._element,Et,function(){r._element.classList.remove(QM)}),Jt(this._element,s),this._element.focus()}else this.hide()},e._adjustDialog=function(){var r=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&r&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!r&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var r=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(r.left+r.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var r=this;if(this._isBodyOverflowing){z.find(ZM).forEach(function(o){var a=o.style.paddingRight,l=window.getComputedStyle(o)["padding-right"];Le.setDataAttribute(o,"padding-right",a),o.style.paddingRight=parseFloat(l)+r._scrollbarWidth+"px"}),z.find(JM).forEach(function(o){var a=o.style.marginRight,l=window.getComputedStyle(o)["margin-right"];Le.setDataAttribute(o,"margin-right",a),o.style.marginRight=parseFloat(l)-r._scrollbarWidth+"px"});var i=document.body.style.paddingRight,s=window.getComputedStyle(document.body)["padding-right"];Le.setDataAttribute(document.body,"padding-right",i),document.body.style.paddingRight=parseFloat(s)+this._scrollbarWidth+"px"}document.body.classList.add(KM)},e._resetScrollbar=function(){z.find(ZM).forEach(function(i){var s=Le.getDataAttribute(i,"padding-right");typeof s<"u"&&(Le.removeDataAttribute(i,"padding-right"),i.style.paddingRight=s)}),z.find(""+JM).forEach(function(i){var s=Le.getDataAttribute(i,"margin-right");typeof s<"u"&&(Le.removeDataAttribute(i,"margin-right"),i.style.marginRight=s)});var r=Le.getDataAttribute(document.body,"padding-right");typeof r>"u"?document.body.style.paddingRight="":(Le.removeDataAttribute(document.body,"padding-right"),document.body.style.paddingRight=r)},e._getScrollbarWidth=function(){var r=document.createElement("div");r.className="modal-scrollbar-measure",document.body.appendChild(r);var i=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),i},t.jQueryInterface=function(r,i){return this.each(function(){var s=T_getData(this,So),o=G(G(G({},Bm),Le.getDataAttributes(this)),"object"==typeof r&&r?r:{});if(s||(s=new t(this,o)),"string"==typeof r){if(typeof s[r]>"u")throw new TypeError('No method named "'+r+'"');s[r](i)}else o.show&&s.show(i)})},t.getInstance=function(r){return T_getData(r,So)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return Bm}}]),t}();w.on(document,"click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=this,n=Wi(this);("A"===this.tagName||"AREA"===this.tagName)&&t.preventDefault(),w.one(n,WM,function(s){s.defaultPrevented||w.one(n,zM,function(){Cm(e)&&e.focus()})});var r=T_getData(n,So);if(!r){var i=G(G({},Le.getDataAttributes(n)),Le.getDataAttributes(this));r=new Sd(n,i)}r.show(this)});var Io=Tn();if(Io){var yG=Io.fn[bo];Io.fn[bo]=Sd.jQueryInterface,Io.fn[bo].Constructor=Sd,Io.fn[bo].noConflict=function(){return Io.fn[bo]=yG,Sd.jQueryInterface}}var vG=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],wG=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,DG=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function eI(t,e,n){var r;if(!t.length)return t;if(n&&"function"==typeof n)return n(t);for(var s=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),a=(r=[]).concat.apply(r,s.body.querySelectorAll("*")),l=function(f,g){var p,m=a[f],_=m.nodeName.toLowerCase();if(-1===o.indexOf(_))return m.parentNode.removeChild(m),"continue";var v=(p=[]).concat.apply(p,m.attributes),y=[].concat(e["*"]||[],e[_]||[]);v.forEach(function(C){(function(e,n){var r=e.nodeName.toLowerCase();if(-1!==n.indexOf(r))return-1===vG.indexOf(r)||Boolean(e.nodeValue.match(wG)||e.nodeValue.match(DG));for(var i=n.filter(function(a){return a instanceof RegExp}),s=0,o=i.length;s<o;s++)if(r.match(i[s]))return!0;return!1})(C,y)||m.removeAttribute(C.nodeName)})},u=0,c=a.length;u<c;u++)l(u);return s.body.innerHTML}var Qi="tooltip",Md="bs.tooltip",er="."+Md,tI="bs-tooltip",MG=new RegExp("(^|\\s)"+tI+"\\S+","g"),IG=["sanitize","whiteList","sanitizeFn"],xG={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},TG={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},AG={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},PG={HIDE:"hide"+er,HIDDEN:"hidden"+er,SHOW:"show"+er,SHOWN:"shown"+er,INSERTED:"inserted"+er,CLICK:"click"+er,FOCUSIN:"focusin"+er,FOCUSOUT:"focusout"+er,MOUSEENTER:"mouseenter"+er,MOUSELEAVE:"mouseleave"+er},Ml="fade",Il="show",xl="show",Tl="hover",Hm="focus",xo=function(){function t(n,r){if(typeof gd>"u")throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=n,this.config=this._getConfig(r),this.tip=null,this._setListeners(),T_setData(n,this.constructor.DATA_KEY,this)}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(r){if(this._isEnabled)if(r){var i=this.constructor.DATA_KEY,s=T_getData(r.target,i);s||(s=new this.constructor(r.target,this._getDelegateConfig()),T_setData(r.target,i,s)),s._activeTrigger.click=!s._activeTrigger.click,s._isWithActiveTrigger()?s._enter(null,s):s._leave(null,s)}else{if(this.getTipElement().classList.contains(Il))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),T_removeData(this.element,this.constructor.DATA_KEY),w.off(this.element,this.constructor.EVENT_KEY),w.off(this.element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var r=this;if("none"===this.element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var i=w.trigger(this.element,this.constructor.Event.SHOW),s=m$(this.element),o=null===s?this.element.ownerDocument.documentElement.contains(this.element):s.contains(this.element);if(i.defaultPrevented||!o)return;var a=this.getTipElement(),l=ym(this.constructor.NAME);a.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&a.classList.add(Ml);var u="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(u);this._addAttachmentClass(c);var h,d=this._getContainer();T_setData(a,this.constructor.DATA_KEY,this),this.element.ownerDocument.documentElement.contains(this.tip)||d.appendChild(a),w.trigger(this.element,this.constructor.Event.INSERTED),this._popper=new gd(this.element,a,this._getPopperConfig(c)),a.classList.add(Il),"ontouchstart"in document.documentElement&&(h=[]).concat.apply(h,document.body.children).forEach(function(p){w.on(p,"mouseover",function(){})});var f=function(){r.config.animation&&r._fixTransition();var m=r._hoverState;r._hoverState=null,w.trigger(r.element,r.constructor.Event.SHOWN),"out"===m&&r._leave(null,r)};if(this.tip.classList.contains(Ml)){var g=Zt(this.tip);w.one(this.tip,Et,f),Jt(this.tip,g)}else f()}},e.hide=function(){var r=this,i=this.getTipElement(),s=function(){r._hoverState!==xl&&i.parentNode&&i.parentNode.removeChild(i),r._cleanTipClass(),r.element.removeAttribute("aria-describedby"),w.trigger(r.element,r.constructor.Event.HIDDEN),r._popper.destroy()};if(!w.trigger(this.element,this.constructor.Event.HIDE).defaultPrevented){var a;if(i.classList.remove(Il),"ontouchstart"in document.documentElement&&(a=[]).concat.apply(a,document.body.children).forEach(function(u){return w.off(u,"mouseover",pd)}),this._activeTrigger.click=!1,this._activeTrigger[Hm]=!1,this._activeTrigger[Tl]=!1,this.tip.classList.contains(Ml)){var l=Zt(i);w.one(i,Et,s),Jt(i,l)}else s();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.getTipElement=function(){if(this.tip)return this.tip;var r=document.createElement("div");return r.innerHTML=this.config.template,this.tip=r.children[0],this.tip},e.setContent=function(){var r=this.getTipElement();this.setElementContent(z.findOne(".tooltip-inner",r),this.getTitle()),r.classList.remove(Ml,Il)},e.setElementContent=function(r,i){if(null!==r){if("object"==typeof i&&co(i))return i.jquery&&(i=i[0]),void(this.config.html?i.parentNode!==r&&(r.innerHTML="",r.appendChild(i)):r.textContent=i.textContent);this.config.html?(this.config.sanitize&&(i=eI(i,this.config.whiteList,this.config.sanitizeFn)),r.innerHTML=i):r.textContent=i}},e.getTitle=function(){var r=this.element.getAttribute("data-original-title");return r||(r="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),r},e._getPopperConfig=function(r){var i=this;return G(G({},{placement:r,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:"."+this.constructor.NAME+"-arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(a){a.originalPlacement!==a.placement&&i._handlePopperPlacementChange(a)},onUpdate:function(a){return i._handlePopperPlacementChange(a)}}),this.config.popperConfig)},e._addAttachmentClass=function(r){this.getTipElement().classList.add(tI+"-"+r)},e._getOffset=function(){var r=this,i={};return"function"==typeof this.config.offset?i.fn=function(s){return s.offsets=G(G({},s.offsets),r.config.offset(s.offsets,r.element)||{}),s}:i.offset=this.config.offset,i},e._getContainer=function(){return!1===this.config.container?document.body:co(this.config.container)?this.config.container:z.findOne(this.config.container)},e._getAttachment=function(r){return TG[r.toUpperCase()]},e._setListeners=function(){var r=this;this.config.trigger.split(" ").forEach(function(s){if("click"===s)w.on(r.element,r.constructor.Event.CLICK,r.config.selector,function(l){return r.toggle(l)});else if("manual"!==s){var a=s===Tl?r.constructor.Event.MOUSELEAVE:r.constructor.Event.FOCUSOUT;w.on(r.element,s===Tl?r.constructor.Event.MOUSEENTER:r.constructor.Event.FOCUSIN,r.config.selector,function(l){return r._enter(l)}),w.on(r.element,a,r.config.selector,function(l){return r._leave(l)})}}),this._hideModalHandler=function(){r.element&&r.hide()},w.on(this.element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=G(G({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var r=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==r)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(r,i){var s=this.constructor.DATA_KEY;(i=i||T_getData(r.target,s))||(i=new this.constructor(r.target,this._getDelegateConfig()),T_setData(r.target,s,i)),r&&(i._activeTrigger["focusin"===r.type?Hm:Tl]=!0),i.getTipElement().classList.contains(Il)||i._hoverState===xl?i._hoverState=xl:(clearTimeout(i._timeout),i._hoverState=xl,i.config.delay&&i.config.delay.show?i._timeout=setTimeout(function(){i._hoverState===xl&&i.show()},i.config.delay.show):i.show())},e._leave=function(r,i){var s=this.constructor.DATA_KEY;if((i=i||T_getData(r.target,s))||(i=new this.constructor(r.target,this._getDelegateConfig()),T_setData(r.target,s,i)),r&&(i._activeTrigger["focusout"===r.type?Hm:Tl]=!1),!i._isWithActiveTrigger()){if(clearTimeout(i._timeout),i._hoverState="out",!i.config.delay||!i.config.delay.hide)return void i.hide();i._timeout=setTimeout(function(){"out"===i._hoverState&&i.hide()},i.config.delay.hide)}},e._isWithActiveTrigger=function(){for(var r in this._activeTrigger)if(this._activeTrigger[r])return!0;return!1},e._getConfig=function(r){var i=Le.getDataAttributes(this.element);return Object.keys(i).forEach(function(s){-1!==IG.indexOf(s)&&delete i[s]}),r&&"object"==typeof r.container&&r.container.jquery&&(r.container=r.container[0]),"number"==typeof(r=G(G(G({},this.constructor.Default),i),"object"==typeof r&&r?r:{})).delay&&(r.delay={show:r.delay,hide:r.delay}),"number"==typeof r.title&&(r.title=r.title.toString()),"number"==typeof r.content&&(r.content=r.content.toString()),qi(Qi,r,this.constructor.DefaultType),r.sanitize&&(r.template=eI(r.template,r.whiteList,r.sanitizeFn)),r},e._getDelegateConfig=function(){var r={};if(this.config)for(var i in this.config)this.constructor.Default[i]!==this.config[i]&&(r[i]=this.config[i]);return r},e._cleanTipClass=function(){var r=this.getTipElement(),i=r.getAttribute("class").match(MG);null!==i&&i.length>0&&i.map(function(s){return s.trim()}).forEach(function(s){return r.classList.remove(s)})},e._handlePopperPlacementChange=function(r){this.tip=r.instance.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(r.placement))},e._fixTransition=function(){var r=this.getTipElement(),i=this.config.animation;null===r.getAttribute("x-placement")&&(r.classList.remove(Ml),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},t.jQueryInterface=function(r){return this.each(function(){var i=T_getData(this,Md),s="object"==typeof r&&r;if((i||!/dispose|hide/.test(r))&&(i||(i=new t(this,s)),"string"==typeof r)){if(typeof i[r]>"u")throw new TypeError('No method named "'+r+'"');i[r]()}})},t.getInstance=function(r){return T_getData(r,Md)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return AG}},{key:"NAME",get:function(){return Qi}},{key:"DATA_KEY",get:function(){return Md}},{key:"Event",get:function(){return PG}},{key:"EVENT_KEY",get:function(){return er}},{key:"DefaultType",get:function(){return xG}}]),t}(),To=Tn();if(To){var FG=To.fn[Qi];To.fn[Qi]=xo.jQueryInterface,To.fn[Qi].Constructor=xo,To.fn[Qi].noConflict=function(){return To.fn[Qi]=FG,xo.jQueryInterface}}var Ao="popover",Al="bs.popover",tr="."+Al,rI="bs-popover",LG=new RegExp("(^|\\s)"+rI+"\\S+","g"),VG=G(G({},xo.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),BG=G(G({},xo.DefaultType),{},{content:"(string|element|function)"}),jG={HIDE:"hide"+tr,HIDDEN:"hidden"+tr,SHOW:"show"+tr,SHOWN:"shown"+tr,INSERTED:"inserted"+tr,CLICK:"click"+tr,FOCUSIN:"focusin"+tr,FOCUSOUT:"focusout"+tr,MOUSEENTER:"mouseenter"+tr,MOUSELEAVE:"mouseleave"+tr},$m=function(t){function e(){return t.apply(this,arguments)||this}!function h$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.setContent=function(){var i=this.getTipElement();this.setElementContent(z.findOne(".popover-header",i),this.getTitle());var s=this._getContent();"function"==typeof s&&(s=s.call(this.element)),this.setElementContent(z.findOne(".popover-body",i),s),i.classList.remove("fade","show")},n._addAttachmentClass=function(i){this.getTipElement().classList.add(rI+"-"+i)},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var i=this.getTipElement(),s=i.getAttribute("class").match(LG);null!==s&&s.length>0&&s.map(function(o){return o.trim()}).forEach(function(o){return i.classList.remove(o)})},e.jQueryInterface=function(i){return this.each(function(){var s=T_getData(this,Al),o="object"==typeof i?i:null;if((s||!/dispose|hide/.test(i))&&(s||(s=new e(this,o),T_setData(this,Al,s)),"string"==typeof i)){if(typeof s[i]>"u")throw new TypeError('No method named "'+i+'"');s[i]()}})},e.getInstance=function(i){return T_getData(i,Al)},Zn(e,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return VG}},{key:"NAME",get:function(){return Ao}},{key:"DATA_KEY",get:function(){return Al}},{key:"Event",get:function(){return jG}},{key:"EVENT_KEY",get:function(){return tr}},{key:"DefaultType",get:function(){return BG}}]),e}(xo),Po=Tn();if(Po){var zG=Po.fn[Ao];Po.fn[Ao]=$m.jQueryInterface,Po.fn[Ao].Constructor=$m,Po.fn[Ao].noConflict=function(){return Po.fn[Ao]=zG,$m.jQueryInterface}}var Zi="scrollspy",Pl="bs.scrollspy",iI={offset:10,method:"auto",target:""},YG={offset:"number",method:"string",target:"(string|element)"},sI="dropdown-item",Ji="active",Gm=".nav-link",oI=".list-group-item",aI="position",xd=function(){function t(n,r){var i=this;this._element=n,this._scrollElement="BODY"===n.tagName?window:n,this._config=this._getConfig(r),this._selector=this._config.target+" "+Gm+","+this._config.target+" "+oI+","+this._config.target+" ."+sI,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,w.on(this._scrollElement,"scroll.bs.scrollspy",function(s){return i._process(s)}),this.refresh(),this._process(),T_setData(n,Pl,this)}var e=t.prototype;return e.refresh=function(){var r=this,s="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":aI:this._config.method,o=s===aI?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),z.find(this._selector).map(function(l){var u,c=vm(l);if(c&&(u=z.findOne(c)),u){var d=u.getBoundingClientRect();if(d.width||d.height)return[Le[s](u).top+o,c]}return null}).filter(function(l){return l}).sort(function(l,u){return l[0]-u[0]}).forEach(function(l){r._offsets.push(l[0]),r._targets.push(l[1])})},e.dispose=function(){T_removeData(this._element,Pl),w.off(this._scrollElement,".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(r){if("string"!=typeof(r=G(G({},iI),"object"==typeof r&&r?r:{})).target&&co(r.target)){var i=r.target.id;i||(i=ym(Zi),r.target.id=i),r.target="#"+i}return qi(Zi,r,YG),r},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var r=this._getScrollTop()+this._config.offset,i=this._getScrollHeight(),s=this._config.offset+i-this._getOffsetHeight();if(this._scrollHeight!==i&&this.refresh(),r>=s){var o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o)}else{if(this._activeTarget&&r<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var a=this._offsets.length;a--;)this._activeTarget!==this._targets[a]&&r>=this._offsets[a]&&(typeof this._offsets[a+1]>"u"||r<this._offsets[a+1])&&this._activate(this._targets[a])}},e._activate=function(r){this._activeTarget=r,this._clear();var i=this._selector.split(",").map(function(o){return o+'[data-target="'+r+'"],'+o+'[href="'+r+'"]'}),s=z.findOne(i.join(","));s.classList.contains(sI)?(z.findOne(".dropdown-toggle",s.closest(".dropdown")).classList.add(Ji),s.classList.add(Ji)):(s.classList.add(Ji),z.parents(s,".nav, .list-group").forEach(function(o){z.prev(o,Gm+", "+oI).forEach(function(a){return a.classList.add(Ji)}),z.prev(o,".nav-item").forEach(function(a){z.children(a,Gm).forEach(function(l){return l.classList.add(Ji)})})})),w.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:r})},e._clear=function(){z.find(this._selector).filter(function(r){return r.classList.contains(Ji)}).forEach(function(r){return r.classList.remove(Ji)})},t.jQueryInterface=function(r){return this.each(function(){var i=T_getData(this,Pl);if(i||(i=new t(this,"object"==typeof r&&r)),"string"==typeof r){if(typeof i[r]>"u")throw new TypeError('No method named "'+r+'"');i[r]()}})},t.getInstance=function(r){return T_getData(r,Pl)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"Default",get:function(){return iI}}]),t}();w.on(window,"load.bs.scrollspy.data-api",function(){z.find('[data-spy="scroll"]').forEach(function(t){return new xd(t,Le.getDataAttributes(t))})});var No=Tn();if(No){var iz=No.fn[Zi];No.fn[Zi]=xd.jQueryInterface,No.fn[Zi].Constructor=xd,No.fn[Zi].noConflict=function(){return No.fn[Zi]=iz,xd.jQueryInterface}}var Ro="bs.tab",Ol="active",cI=".active",dI=":scope > li > .active",Td=function(){function t(n){this._element=n,T_setData(this._element,Ro,this)}var e=t.prototype;return e.show=function(){var r=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Ol)||this._element.classList.contains("disabled"))){var i,s=Wi(this._element),o=this._element.closest(".nav, .list-group");o&&(i=(i=z.find("UL"===o.nodeName||"OL"===o.nodeName?dI:cI,o))[i.length-1]);var l=null;if(i&&(l=w.trigger(i,"hide.bs.tab",{relatedTarget:this._element})),!(w.trigger(this._element,"show.bs.tab",{relatedTarget:i}).defaultPrevented||null!==l&&l.defaultPrevented)){this._activate(this._element,o);var c=function(){w.trigger(i,"hidden.bs.tab",{relatedTarget:r._element}),w.trigger(r._element,"shown.bs.tab",{relatedTarget:i})};s?this._activate(s,s.parentNode,c):c()}}},e.dispose=function(){T_removeData(this._element,Ro),this._element=null},e._activate=function(r,i,s){var o=this,l=(!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?z.children(i,cI):z.find(dI,i))[0],u=s&&l&&l.classList.contains("fade"),c=function(){return o._transitionComplete(r,l,s)};if(l&&u){var d=Zt(l);l.classList.remove("show"),w.one(l,Et,c),Jt(l,d)}else c()},e._transitionComplete=function(r,i,s){if(i){i.classList.remove(Ol);var o=z.findOne(":scope > .dropdown-menu .active",i.parentNode);o&&o.classList.remove(Ol),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}r.classList.add(Ol),"tab"===r.getAttribute("role")&&r.setAttribute("aria-selected",!0),ho(r),r.classList.contains("fade")&&r.classList.add("show"),r.parentNode&&r.parentNode.classList.contains("dropdown-menu")&&(r.closest(".dropdown")&&z.find(".dropdown-toggle").forEach(function(l){return l.classList.add(Ol)}),r.setAttribute("aria-expanded",!0)),s&&s()},t.jQueryInterface=function(r){return this.each(function(){var i=T_getData(this,Ro)||new t(this);if("string"==typeof r){if(typeof i[r]>"u")throw new TypeError('No method named "'+r+'"');i[r]()}})},t.getInstance=function(r){return T_getData(r,Ro)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}}]),t}();w.on(document,"click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),(T_getData(this,Ro)||new Td(this)).show()});var Oo=Tn();if(Oo){var vz=Oo.fn.tab;Oo.fn.tab=Td.jQueryInterface,Oo.fn.tab.Constructor=Td,Oo.fn.tab.noConflict=function(){return Oo.fn.tab=vz,Td.jQueryInterface}}var Fo="toast",Fl="bs.toast",hI="click.dismiss.bs.toast",Ll="show",gI="showing",Mz={animation:"boolean",autohide:"boolean",delay:"number"},pI={animation:!0,autohide:!0,delay:500},zm=function(){function t(n,r){this._element=n,this._config=this._getConfig(r),this._timeout=null,this._setListeners(),T_setData(n,Fl,this)}var e=t.prototype;return e.show=function(){var r=this;if(!w.trigger(this._element,"show.bs.toast").defaultPrevented){this._config.animation&&this._element.classList.add("fade");var s=function(){r._element.classList.remove(gI),r._element.classList.add(Ll),w.trigger(r._element,"shown.bs.toast"),r._config.autohide&&(r._timeout=setTimeout(function(){r.hide()},r._config.delay))};if(this._element.classList.remove("hide"),ho(this._element),this._element.classList.add(gI),this._config.animation){var o=Zt(this._element);w.one(this._element,Et,s),Jt(this._element,o)}else s()}},e.hide=function(){var r=this;if(this._element.classList.contains(Ll)&&!w.trigger(this._element,"hide.bs.toast").defaultPrevented){var s=function(){r._element.classList.add("hide"),w.trigger(r._element,"hidden.bs.toast")};if(this._element.classList.remove(Ll),this._config.animation){var o=Zt(this._element);w.one(this._element,Et,s),Jt(this._element,o)}else s()}},e.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Ll)&&this._element.classList.remove(Ll),w.off(this._element,hI),T_removeData(this._element,Fl),this._element=null,this._config=null},e._getConfig=function(r){return r=G(G(G({},pI),Le.getDataAttributes(this._element)),"object"==typeof r&&r?r:{}),qi(Fo,r,this.constructor.DefaultType),r},e._setListeners=function(){var r=this;w.on(this._element,hI,'[data-dismiss="toast"]',function(){return r.hide()})},t.jQueryInterface=function(r){return this.each(function(){var i=T_getData(this,Fl);if(i||(i=new t(this,"object"==typeof r&&r)),"string"==typeof r){if(typeof i[r]>"u")throw new TypeError('No method named "'+r+'"');i[r](this)}})},t.getInstance=function(r){return T_getData(r,Fl)},Zn(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha1"}},{key:"DefaultType",get:function(){return Mz}},{key:"Default",get:function(){return pI}}]),t}(),ko=Tn();if(ko){var xz=ko.fn[Fo];ko.fn[Fo]=zm.jQueryInterface,ko.fn[Fo].Constructor=zm,ko.fn[Fo].noConflict=function(){return ko.fn[Fo]=xz,zm.jQueryInterface}}let mI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-loading-screen"]],decls:3,vars:0,consts:[[1,"loading-screen-bg"],[1,"loading-screen-loading"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1),Xt(2," Now Loading... "),te()())},styles:[".loading-screen-bg[_ngcontent-%COMP%]{position:relative;top:0;left:0;z-index:100;background-color:#fff;width:100vw;height:100vh}.loading-screen-loading[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:15px;background-color:#363535;padding:10px;color:#fff;font-size:25px;font-weight:700;border-radius:10px}"]}),t})();const Tz=function(t){return{"width:":t}},Az=function(t){return{"background-color":t}},Pz=function(t){return{color:t}};function Nz(t,e){if(1&t){const n=mr();H(0,"div",2)(1,"div",3)(2,"div",4),Te(3,"img",5),te(),H(4,"div",6),Te(5,"img",7),te(),H(6,"div",6),Te(7,"img",8),te(),H(8,"div",6),Te(9,"img",9),te(),H(10,"div",6),Te(11,"img",10),te(),H(12,"div",6),Te(13,"img",11),te()(),H(14,"div",12),Te(15,"img",13),te(),H(16,"div",14)(17,"img",15),De("click",function(){return Bn(n),jn(xt().onPrev())}),te()(),H(18,"div",16)(19,"img",15),De("click",function(){return Bn(n),jn(xt().onNext())}),te()(),H(20,"div",17)(21,"h3"),Xt(22,"Now Loading..."),te(),H(23,"div",18),Te(24,"div",19),te(),H(25,"p"),Xt(26,"*Please check your signal strength before download. Weak signal strength may result in longer download times."),te()(),Te(27,"div",20),H(28,"div",21)(29,"p",22),Xt(30),te()()()}if(2&t){const n=xt();ve(15),fe("src",n.group.logoUrl,Is),ve(9),gn(Va(8,Tz,n.progress+"%")),ve(4),gn(Va(10,Az,n.group.color)),ve(1),gn(Va(12,Pz,n.group.textColor)),ve(1),sg(n.group.groupMessage)}}function Rz(t,e){1&t&&Te(0,"app-loading-screen")}let Ad=(()=>{class t{constructor(){this.showLoadingScreen=!0,this.groups=JS.groups,this._selectedGroupIndex=0,this._isCarouselCompleted=!0,this.progress=0,this.onCompleted=new je}ngOnInit(){this._initAssetLoader(),this.group=this.groups[this._selectedGroupIndex]}onPrev(){this._isCarouselCompleted&&(this._isCarouselCompleted=!1,this._carousel.prev(),setTimeout(()=>{let n=--this._selectedGroupIndex;this._selectedGroupIndex=-1==n?this.groups.length-1:n,this.group=this.groups[this._selectedGroupIndex],this._updateGroupMessageClass()},500))}onNext(){this._isCarouselCompleted&&(this._isCarouselCompleted=!1,this._carousel.next(),setTimeout(()=>{let n=++this._selectedGroupIndex;this._selectedGroupIndex=n==this.groups.length?0:n,this.group=this.groups[this._selectedGroupIndex],this._updateGroupMessageClass()},500))}_updateGroupMessageClass(){const n=document.getElementById("groupMessageId");0==this._selectedGroupIndex&&n.classList.add("virtual"),1==this._selectedGroupIndex&&(n.classList.remove("virtual"),n.classList.remove("mmj")),2==this._selectedGroupIndex&&n.classList.add("mmj"),3==this._selectedGroupIndex&&(n.classList.remove("mmj"),n.classList.remove("wxs")),4==this._selectedGroupIndex&&n.classList.add("wxs"),5==this._selectedGroupIndex&&(n.classList.remove("wxs"),n.classList.remove("virtual"))}_initAssetLoader(){var n=new PxLoader;this.groups.forEach(r=>{n.addImage(r.logoUrl),n.addImage(r.groupImage)}),n.addCompletionListener(()=>{this.showLoadingScreen=!1,setTimeout(()=>{this._initCarousel(),console.log(this.loadLandingPage),console.log(this.loadGreetings),this.loadLandingPage&&this._initLandingPageAssets(),this.loadGreetings&&this._initGreetingsAssets(),this.loadCharacters&&this._initCharactersAssets()},500)}),n.start()}_initLandingPageAssets(){let r=0;var i=document.getElementById("loadingbarprog"),s=new PxLoader;s.addImage("assets/logo/port_cafe.png"),s.addImage("assets/logo/project_akari.png"),s.addVideo("assets/videos/login_video.mp4"),s.addProgressListener(o=>{this.progress=++r/3*100-2,i.style.width=`${this.progress}%`}),s.addCompletionListener(()=>{setTimeout(()=>{this.onCompleted.emit()},3e3)}),s.start()}_initGreetingsAssets(){let r=0;var i=document.getElementById("loadingbarprog"),s=new PxLoader;s.addImage("assets/img/background/classroom.jpg"),s.addImage("assets/img/greetings/asra/oc.png"),s.addImage("assets/img/greetings/asra/oc2.png"),s.addImage("assets/img/greetings/asra/oc3.png"),s.addImage("assets/img/greetings/asra/oc4.png"),s.addImage("assets/img/greetings/doru/greeting.jpg"),s.addImage("assets/img/greetings/jikan/genshin.png"),s.addImage("assets/img/greetings/juicy/art.png"),s.addImage("assets/img/greetings/juicy/greeting.png"),s.addImage("assets/img/greetings/sham/art.png"),s.addImage("assets/l2d-setup/Resources/03honami/03honami_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/06haruka/06haruka_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/08shizuku/08shizuku_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/10an/10an_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/11akito/11akito_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/12touya/12touya_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/13tsukasa/13tsukasa_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/17kanade/17kanade_cloth001.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/18mafuyu/18mafuyu_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/19ena/19ena_normal.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/24luka/24luka_band.2048/texture_00.png"),s.addImage("assets/l2d-setup/Resources/26kaito/26kaito_street.2048/texture_00.png"),s.addProgressListener(o=>{this.progress=++r/22*100-2,i.style.width=`${this.progress}%`}),s.addCompletionListener(()=>{setTimeout(()=>{this.onCompleted.emit()},3e3)}),s.start()}_initCharactersAssets(){let r=0;var i=document.getElementById("loadingbarprog"),s=new PxLoader;s.addImage("assets/img/background/virtual-singer.png"),s.addImage("assets/img/background/leo-need.png"),s.addImage("assets/img/background/more-more-jump.png"),s.addImage("assets/img/background/vivid.png"),s.addImage("assets/img/background/WxS.png"),s.addImage("assets/img/background/n25.png"),s.addImage("assets/img/characters/Arya.png"),s.addImage("assets/img/characters/Asra.png"),s.addImage("assets/img/characters/Bene.png"),s.addImage("assets/img/characters/Doru.png"),s.addImage("assets/img/characters/EmmaKun.png"),s.addImage("assets/img/characters/Jikan.png"),s.addImage("assets/img/characters/Jikan2.png"),s.addImage("assets/img/characters/Juicy.png"),s.addImage("assets/img/characters/Sham.png"),s.addImage("assets/img/characters/Sky.png"),s.addImage("assets/img/characters/Yuyan.png"),s.addProgressListener(o=>{this.progress=++r/17*100-2,i.style.width=`${this.progress}%`}),s.addCompletionListener(()=>{setTimeout(()=>{this.onCompleted.emit()},3e3)}),s.start()}_initCarousel(){const n=document.getElementById("carouselGroup");this._carousel=new _o(n,{ride:!1,interval:!1}),n.addEventListener("slid.bs.carousel",r=>{this._carousel.pause(),this._isCarouselCompleted=!0})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-assets-loader"]],inputs:{loadLandingPage:"loadLandingPage",loadGreetings:"loadGreetings",loadCharacters:"loadCharacters"},outputs:{onCompleted:"onCompleted"},decls:2,vars:2,consts:[["id","carouselGroup","class","carousel slide",4,"ngIf"],[4,"ngIf"],["id","carouselGroup",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/img/background/VirtualSingerGroup.png",1,"d-block","w-100"],[1,"carousel-item"],["src","assets/img/background/LeoNeedGroup.png",1,"d-block","w-100"],["src","assets/img/background/MoreMoreJumpGroup.png",1,"d-block","w-100"],["src","assets/img/background/VividSquadGroup.png",1,"d-block","w-100"],["src","assets/img/background/WxSGroup.png",1,"d-block","w-100"],["src","assets/img/background/N25Group.png",1,"d-block","w-100"],[1,"group-logo"],[3,"src"],[1,"btn-container","left"],["src","assets/img/component/Arrow.png","alt","",3,"click"],[1,"btn-container","right"],[1,"loading-bar-container"],[1,"loading-bar"],["id","loadingbarprog",1,"loading-bar-progress"],[1,"bottom-box"],[1,"bottom-box","back"],["id","groupMessageId",1,"group-message","virtual"]],template:function(n,r){1&n&&(vt(0,Nz,31,14,"div",0),vt(1,Rz,1,0,"app-loading-screen",1)),2&n&&(fe("ngIf",!r.showLoadingScreen),ve(1),fe("ngIf",r.showLoadingScreen))},dependencies:[ki,mI],styles:["[_nghost-%COMP%]{position:fixed;height:100vh;width:100vw;background-color:#f1f1f1}.bottom-box[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;z-index:1;height:200px;width:102%;background-color:#fff;transform:rotate(.49turn);margin-bottom:-45px}.bottom-box.back[_ngcontent-%COMP%]{transition:background-color 1s;z-index:0;opacity:.9;bottom:38px;transform:rotate(.02turn);margin-left:-30px}.group-message[_ngcontent-%COMP%]{position:absolute;top:15%;left:7%;width:36%;font-size:30px;font-weight:700;transform:rotate(.98turn);color:#fff}.group-message.mmj[_ngcontent-%COMP%]{top:11%;left:4%;width:41%}.group-message.wxs[_ngcontent-%COMP%]{top:9%;left:4%;width:39%}.group-message.virtual[_ngcontent-%COMP%]{top:14%;left:6%;width:40%}.group-logo[_ngcontent-%COMP%]{position:fixed;z-index:2;bottom:-.2%;right:6%;height:23%;width:27%}.group-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.btn-container[_ngcontent-%COMP%]{position:fixed;z-index:10;top:0;height:100%;width:150px;display:flex;justify-content:center;align-items:center}.btn-container.right[_ngcontent-%COMP%]{right:0}.btn-container.left[_ngcontent-%COMP%]{left:0}.btn-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;height:20%;width:100%}.btn-container.right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:arrowMoveRight 1s infinite}.btn-container.left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:arrowMoveLeft 1s infinite}.loading-bar-container[_ngcontent-%COMP%]{position:fixed;z-index:2;bottom:0;left:140px;width:55%}.loading-bar[_ngcontent-%COMP%]{width:55%;height:20px;background-color:#292d3e;border:3px solid white;border-radius:25px;margin-bottom:10px}.loading-bar-progress[_ngcontent-%COMP%]{width:0%;height:8px;margin-left:4px;margin-top:3px;background-color:#01ccbf;border-radius:25px}.group-members[_ngcontent-%COMP%]{background:url(LeoNeedGroup.ca3f1f5c87d4b369.png);background-size:contain;background-repeat:no-repeat;background-position:center;height:100%;width:100%}"]}),t})();function Oz(t,e){1&t&&(H(0,"div",10),Te(1,"img",11),te())}function Fz(t,e){1&t&&(H(0,"div",12),Te(1,"img",13),te())}function kz(t,e){if(1&t){const n=mr();H(0,"div",14),De("click",function(){return Bn(n),jn(xt().showModal())}),Te(1,"div",15)(2,"div",15)(3,"div",15),te()}}function Lz(t,e){if(1&t){const n=mr();H(0,"div",16),De("click",function(){return Bn(n),jn(xt().onLogin())}),H(1,"div",17),Xt(2,"CLICK TO START"),te(),Te(3,"img",18),H(4,"audio",19),Te(5,"source",20),Xt(6," This content is displayed by browsers that don't recognize the audio element "),te(),H(7,"video",21),Te(8,"source",22),Xt(9," Your browser does not support the video tag. "),te()()}2&t&&(ve(4),fe("autoplay",!0),ve(3),fe("muted",!0))}function Vz(t,e){if(1&t){const n=mr();H(0,"app-assets-loader",23),De("onCompleted",function(){return Bn(n),jn(xt().onAssetsLoaded())}),te()}2&t&&fe("loadLandingPage",!0)}let Bz=(()=>{class t{constructor(n){this.router=n,this.portCafe=!1,this.projectAkari=!1,this.loginPage=!1,this.isIntroSkipped=!1,this.isModalShown=!1,this.isAssetsLoaderShown=!0}ngAfterViewInit(){}ngOnInit(){this.isIntroSkipped=td.isIntroSkipped()}onAssetsLoaded(){this.isAssetsLoaderShown=!1,this.portCafe=!0,this._initLogos()}toggleSkipIntro(){this.isIntroSkipped=td.toggleIntro()}showModal(){this.isModalShown=!0}onModalClose(){this.isModalShown=!1}onLogin(){this.isIntroSkipped?this.router.navigate(["/characters"]):this.router.navigateByUrl("greetings?greetedby=intro")}_initLogos(){const n=[new Wm("portCafeLogo",r=>this.portCafe=r),new Wm("projectAkariLogo",r=>this.projectAkari=r),new Wm("loginPage",r=>this.loginPage=r)];for(let r=0;r<n.length;r++){const i=n[r];r<n.length-1&&setTimeout(()=>{this._fadeOut(i.name,()=>{i.hideLogo(),n[r+1].showLogo()})},0==r?2500:6500*r)}}_fadeOut(n,r){var i=document.getElementById(n);i.classList.remove("fade-in"),i.classList.add("fade-out"),setTimeout(r,2e3)}}return t.\u0275fac=function(n){return new(n||t)(E(jt))},t.\u0275cmp=On({type:t,selectors:[["app-landing-page"]],decls:11,vars:8,consts:[["id","portCafeLogo","class","center-content max-height fade-in",4,"ngIf"],["id","projectAkariLogo","class","center-content max-height fade-in",4,"ngIf"],["class","option-btn",3,"click",4,"ngIf"],["id","loginPage","class","max-height fade-in",3,"click",4,"ngIf"],[3,"loadLandingPage","onCompleted",4,"ngIf"],[3,"hidden","menuTitle","onClose"],[1,"center-content"],[1,"form-check","form-switch",2,"color","black","margin-top","20px"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","flexSwitchCheckChecked",1,"form-check-label"],["id","portCafeLogo",1,"center-content","max-height","fade-in"],["src","assets/logo/port_cafe.png","alt","",1,"port-cafe-logo"],["id","projectAkariLogo",1,"center-content","max-height","fade-in"],["src","assets/logo/project_akari.png","alt","",1,"project-akari-logo"],[1,"option-btn",3,"click"],[1,"option-btn-line"],["id","loginPage",1,"max-height","fade-in",3,"click"],[1,"tap-to-login-container"],["src","assets/logo/project_akari.png","alt","",1,"project-akari-img"],["loop","",3,"autoplay"],["src","assets/sound/bgm/LoginBGM.mp3","type","audio/mpeg"],["autoplay","","playsinline","","loop","",1,"login-video",3,"muted"],["src","assets/videos/login_video.mp4","type","video/mp4"],[3,"loadLandingPage","onCompleted"]],template:function(n,r){1&n&&(vt(0,Oz,2,0,"div",0),vt(1,Fz,2,0,"div",1),vt(2,kz,4,0,"div",2),vt(3,Lz,10,2,"div",3),vt(4,Vz,1,1,"app-assets-loader",4),H(5,"app-modal",5),De("onClose",function(){return r.onModalClose()}),H(6,"div",6)(7,"div",7)(8,"input",8),De("ngModelChange",function(s){return r.isIntroSkipped=s})("click",function(){return r.toggleSkipIntro()}),te(),H(9,"label",9),Xt(10,"Skip Introduction"),te()()()()),2&n&&(fe("ngIf",r.portCafe),ve(1),fe("ngIf",r.projectAkari),ve(1),fe("ngIf",r.loginPage),ve(1),fe("ngIf",r.loginPage),ve(1),fe("ngIf",r.isAssetsLoaderShown),ve(1),fe("hidden",!r.isModalShown)("menuTitle","Settings"),ve(3),fe("ngModel",r.isIntroSkipped))},dependencies:[ki,jp,mS,tm,ZS,Ad],styles:["[_nghost-%COMP%]{height:100vh}.port-cafe-logo[_ngcontent-%COMP%]{height:35%;width:25%}.project-akari-logo[_ngcontent-%COMP%]{height:20%;width:35%}.project-akari-img[_ngcontent-%COMP%]{position:fixed;bottom:18%;left:31%;z-index:2;height:20%;width:35%}.login-video[_ngcontent-%COMP%]{width:100%;height:99.5%;object-fit:fill}.option-btn[_ngcontent-%COMP%]{position:fixed;top:15px;right:15px;height:50px;width:60px;z-index:3;cursor:pointer;padding:8px 8px 2px;border-radius:10px;color:#000;border:1px solid #676688;border-bottom:2px solid #676688;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center}.option-btn-line[_ngcontent-%COMP%]{display:block;background-color:#00f7d6;width:100%;height:4px;margin-bottom:6px}.tap-to-login-container[_ngcontent-%COMP%]{position:fixed;bottom:12%;left:35%;height:40px;width:30%;background:linear-gradient(to right,rgba(0,255,221,0),rgba(0,255,221,1),rgba(0,255,221,0));text-align:center;font-size:25px;font-weight:700;color:#fff;padding-top:6px;animation:tapToStart 1.8s infinite ease-in}#loginPage[_ngcontent-%COMP%]{cursor:pointer}.fade-in[_ngcontent-%COMP%]{animation:fadeIn 2s}.fade-out[_ngcontent-%COMP%]{animation:fadeOut 2s}@keyframes tapToStart{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}"]}),t})();class Wm{constructor(e,n){this._name=e,this._logoVisiblity=n}get name(){return this._name}showLogo(){this._logoVisiblity(!0)}hideLogo(){this._logoVisiblity(!1)}}let re=(()=>{class t{constructor(n=0){n<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(n),this._capacity=n,this._size=0)}at(n){return this._ptr[n]}set(n,r){this._ptr[n]=r}get(n=0){const r=new Array;for(let i=n;i<this._size;i++)r.push(this._ptr[i]);return r}pushBack(n){this._size>=this._capacity&&this.prepareCapacity(0==this._capacity?t.s_defaultSize:2*this._capacity),this._ptr[this._size++]=n}clear(){this._ptr.length=0,this._size=0}getSize(){return this._size}assign(n,r){this._size<n&&this.prepareCapacity(n);for(let s=0;s<n;s++)this._ptr[s]=r;this._size=n}resize(n,r=null){this.updateSize(n,r,!0)}updateSize(n,r=null,i=!0){if(this._size<n)if(this.prepareCapacity(n),i)for(let o=this._size;o<n;o++)this._ptr[o]="function"==typeof r?JSON.parse(JSON.stringify(new r)):r;else for(let o=this._size;o<n;o++)this._ptr[o]=r;else{const o=this._size-n;this._ptr.splice(this._size-o,o)}this._size=n}insert(n,r,i){let s=n._index;const o=r._index,a=i._index,l=a-o;this.prepareCapacity(this._size+l);const u=this._size-s;if(u>0)for(let c=0;c<u;c++)this._ptr.splice(s+c,0,null);for(let c=o;c<a;c++,s++)this._ptr[s]=r._vector._ptr[c];this._size=this._size+l}remove(n){return!(n<0||this._size<=n||(this._ptr.splice(n,1),--this._size,0))}erase(n){const r=n._index;return r<0||this._size<=r?n:(this._ptr.splice(r,1),--this._size,new es(this,r))}prepareCapacity(n){n>this._capacity&&(0==this._capacity?(this._ptr=new Array(n),this._capacity=n):(this._ptr.length=n,this._capacity=n))}begin(){return 0==this._size?this.end():new es(this,0)}end(){return new es(this,this._size)}getOffset(n){const r=new t;return r._ptr=this.get(n),r._size=this.get(n).length,r._capacity=this.get(n).length,r}}return t.s_defaultSize=10,t})();class es{constructor(e,n){this._vector=e??null,this._index=n??0}set(e){return this._index=e._index,this._vector=e._vector,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new es(this._vector,this._index++)}decrement(){return new es(this._vector,this._index--)}ptr(){return this._vector._ptr[this._index]}substitution(e){return this._index=e._index,this._vector=e._vector,this}notEqual(e){return this._index!=e._index||this._vector!=e._vector}}var _I,yI,vI,wI,DI;!function(t){t.csmVector=re,t.iterator=es}(_I||(_I={}));class An{constructor(e){this.s=e}append(e,n){return this.s+=void 0!==n?e.substr(0,n):e,this}expansion(e,n){for(let r=0;r<e;r++)this.append(n);return this}getBytes(){return encodeURIComponent(this.s).replace(/%../g,"x").length}getLength(){return this.s.length}isLess(e){return this.s<e.s}isGreat(e){return this.s>e.s}isEqual(e){return this.s==e}isEmpty(){return 0==this.s.length}}!function(t){t.csmString=An}(yI||(yI={}));class Vl{constructor(e){this._id="string"!=typeof e?e:new An(e)}getString(){return this._id}isEqual(e){return"string"==typeof e?this._id.isEqual(e):e instanceof An?this._id.isEqual(e.s):e instanceof Vl&&this._id.isEqual(e._id.s)}isNotEqual(e){return"string"==typeof e?!this._id.isEqual(e):e instanceof An?!this._id.isEqual(e.s):e instanceof Vl&&!this._id.isEqual(e._id.s)}}!function(t){t.CubismId=Vl}(vI||(vI={}));class CI{constructor(){this._ids=new re}release(){for(let e=0;e<this._ids.getSize();++e)this._ids.set(e,void 0);this._ids=null}registerIds(e){for(let n=0;n<e.length;n++)this.registerId(e[n])}registerId(e){let n=null;return"string"!=typeof e?this.registerId(e.s):(null!=(n=this.findId(e))||(n=new Vl(e),this._ids.pushBack(n)),n)}getId(e){return this.registerId(e)}isExist(e){return"string"==typeof e?null!=this.findId(e):this.isExist(e.s)}findId(e){for(let n=0;n<this._ids.getSize();++n)if(this._ids.at(n).getString().isEqual(e))return this._ids.at(n);return null}}!function(t){t.CubismIdManager=CI}(wI||(wI={}));class et{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,n,r){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);for(let o=0;o<4;++o)for(let a=0;a<4;++a)for(let l=0;l<4;++l)i[a+4*o]+=e[l+4*o]*n[a+4*l];for(let o=0;o<16;++o)r[o]=i[o]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let n=0;n<16;++n)this._tr[n]=e[n]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,n){const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]);et.multiply(r,this._tr,this._tr)}translate(e,n){this._tr[12]=e,this._tr[13]=n}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,n){const r=new Float32Array([e,0,0,0,0,n,0,0,0,0,1,0,0,0,0,1]);et.multiply(r,this._tr,this._tr)}scale(e,n){this._tr[0]=e,this._tr[5]=n}multiplyByMatrix(e){et.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new et;for(let n=0;n<this._tr.length;n++)e._tr[n]=this._tr[n];return e}}!function(t){t.CubismMatrix44=et}(DI||(DI={}));class Pd{constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._model=null,this._modelColor=new Lo,this._mvpMatrix4x4=new et,this._mvpMatrix4x4.loadIdentity()}static create(){return null}static delete(e){}initialize(e){this._model=e}drawModel(){null!=this.getModel()&&this.doDrawModel()}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,n,r,i){e<0?e=0:e>1&&(e=1),n<0?n=0:n>1&&(n=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=n,this._modelColor.B=r,this._modelColor.A=i}getModelColor(){return JSON.parse(JSON.stringify(this._modelColor))}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisortopy=e}getAnisotropy(){return this._anisortopy}getModel(){return this._model}}var EI,nr=(()=>(function(t){t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative"}(nr||(nr={})),nr))();class Lo{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}!function(t){t.CubismBlendMode=nr,t.CubismRenderer=Pd,t.CubismTextureColor=Lo}(EI||(EI={}));const Ht=(t,e,n)=>{((t,e,n)=>{SI.print(t,"[CSM]"+e,n)})(t,e+"\n",n)},Dr=t=>{console.assert(t)};let zz,Vo,rr,Wr,Pn;zz=(t,...e)=>{Ht(ut.LogLevel_Verbose,"[V]"+t,e)},Vo=(t,...e)=>{Ht(ut.LogLevel_Debug,"[D]"+t,e)},rr=(t,...e)=>{Ht(ut.LogLevel_Info,"[I]"+t,e)},Wr=(t,...e)=>{Ht(ut.LogLevel_Warning,"[W]"+t,e)},Pn=(t,...e)=>{Ht(ut.LogLevel_Error,"[E]"+t,e)};class SI{static print(e,n,r){if(e<Ce.getLoggingLevel())return;const i=Ce.coreLogFunction;i&&i(n.replace(/\{(\d+)\}/g,(o,a)=>r[a]))}static dumpBytes(e,n,r){for(let i=0;i<r;i++)i%16==0&&i>0?this.print(e,"\n"):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[255&n[i]]);this.print(e,"\n")}constructor(){}}var MI;!function(t){t.CubismDebug=SI}(MI||(MI={}));class II{constructor(e,n){this.first=e??null,this.second=n??null}}let ir=(()=>{class t{constructor(n){null!=n?n<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(n),this._size=n):(this._keyValues=[],this._dummyValue=null,this._size=0)}release(){this.clear()}appendKey(n){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new II(n),this._size+=1}getValue(n){let r=-1;for(let i=0;i<this._size;i++)if(this._keyValues[i].first==n){r=i;break}return r>=0?this._keyValues[r].second:(this.appendKey(n),this._keyValues[this._size-1].second)}setValue(n,r){let i=-1;for(let s=0;s<this._size;s++)if(this._keyValues[s].first==n){i=s;break}i>=0?this._keyValues[i].second=r:(this.appendKey(n),this._keyValues[this._size-1].second=r)}isExist(n){for(let r=0;r<this._size;r++)if(this._keyValues[r].first==n)return!0;return!1}clear(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}getSize(){return this._size}prepareCapacity(n,r){n>this._keyValues.length&&(0==this._keyValues.length?(!r&&n<t.DefaultSize&&(n=t.DefaultSize),this._keyValues.length=n):(!r&&n<2*this._keyValues.length&&(n=2*this._keyValues.length),this._keyValues.length=n))}begin(){return new ts(this,0)}end(){return new ts(this,this._size)}erase(n){const r=n._index;return r<0||this._size<=r?n:(this._keyValues.splice(r,1),--this._size,new ts(this,r))}dumpAsInt(){for(let n=0;n<this._size;n++)Vo("{0} ,",this._keyValues[n]),Vo("\n")}}return t.DefaultSize=10,t})();class ts{constructor(e,n){this._map=e??new ir,this._index=n??0}set(e){return this._index=e._index,this._map=e._map,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new ts(this._map,this._index++)}decrement(){const e=new ts(this._map,this._index);return this._map=e._map,this._index=e._index,this}ptr(){return this._map._keyValues[this._index]}notEqual(e){return this._index!=e._index||this._map!=e._map}}var xI;!function(t){t.csmMap=ir,t.csmPair=II,t.iterator=ts}(xI||(xI={}));const Nd="Error: type mismatch";class Ve{constructor(){}getRawString(e,n){return this.getString(e,n)}toInt(e=0){return e}toFloat(e=0){return e}toBoolean(e=!1){return e}getSize(){return 0}getArray(e=null){return e}getVector(e=new re){return e}getMap(e){return e}getValueByIndex(e){return Ve.errorValue.setErrorNotForClientCall(Nd)}getValueByString(e){return Ve.nullValue.setErrorNotForClientCall(Nd)}getKeys(){return Ve.s_dummyKeys}isError(){return!1}isNull(){return!1}isBool(){return!1}isFloat(){return!1}isString(){return!1}isArray(){return!1}isMap(){return!1}equals(e){return!1}isStatic(){return!1}setErrorNotForClientCall(e){return jl.errorValue}static staticInitializeNotForClientCall(){qr.trueValue=new qr(!0),qr.falseValue=new qr(!1),Ve.errorValue=new jl("ERROR",!0),Ve.nullValue=new qm,Ve.s_dummyKeys=new re}static staticReleaseNotForClientCall(){qr.trueValue=null,qr.falseValue=null,Ve.errorValue=null,Ve.nullValue=null,Ve.s_dummyKeys=null}}class At{constructor(e,n){this._error=null,this._lineCount=0,this._root=null,null!=e&&this.parseBytes(e,n)}static create(e,n){const r=new At;return r.parseBytes(e,n)?r:(At.delete(r),null)}static delete(e){}getRoot(){return this._root}arrayBufferToString(e){const n=new Uint8Array(e);let r="";for(let i=0,s=n.length;i<s;++i)r+="%"+this.pad(n[i].toString(16));return r=decodeURIComponent(r),r}pad(e){return e.length<2?"0"+e:e}parseBytes(e,n){const r=new Array(1),i=this.arrayBufferToString(e);if(this._root=this.parseValue(i,n,0,r),this._error){let s="\0";return s="Json parse error : @line "+(this._lineCount+1)+"\n",this._root=new Rd(s),rr("{0}",this._root.getRawString()),!1}return null!=this._root||(this._root=new jl(new An(this._error),!1),!1)}getParseError(){return this._error}checkEndOfFile(){return this._root.getArray()[1].equals("EOF")}parseValue(e,n,r,i){if(this._error)return null;let a,s=null,o=r;for(;o<n;o++)switch(e[o]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const u=new Array(1);return a=qz(e.slice(o),u),i[0]=e.indexOf(u[0]),new TI(a)}case'"':return new Rd(this.parseString(e,n,o+1,i));case"[":return s=this.parseArray(e,n,o+1,i),s;case"{":return s=this.parseObject(e,n,o+1,i),s;case"n":return o+3<n?(s=new qm,i[0]=o+4):this._error="parse null",s;case"t":return o+3<n?(s=qr.trueValue,i[0]=o+4):this._error="parse true",s;case"f":return o+4<n?(s=qr.falseValue,i[0]=o+5):this._error="illegal ',' position",s;case",":return this._error="illegal ',' position",null;case"]":return i[0]=o,null;case"\n":this._lineCount++}return this._error="illegal end of value",null}parseString(e,n,r,i){if(this._error)return null;let o,a,s=r;const l=new An("");let u=r;for(;s<n;s++)switch(o=e[s],o){case'"':return i[0]=s+1,l.append(e.slice(u),s-u),l.s;case"//":if(s++,s-1>u&&l.append(e.slice(u),s-u),u=s+1,s<n)switch(a=e[s],a){case"\\":l.expansion(1,"\\");break;case'"':l.expansion(1,'"');break;case"/":l.expansion(1,"/");break;case"b":l.expansion(1,"\b");break;case"f":l.expansion(1,"\f");break;case"n":l.expansion(1,"\n");break;case"r":l.expansion(1,"\r");break;case"t":l.expansion(1,"\t");break;case"u":this._error="parse string/unicord escape not supported"}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}parseObject(e,n,r,i){if(this._error)return null;const s=new PI;let o="",a=r,l="";const u=Array(1);let c=!1;for(;a<n;a++){e:for(;a<n;a++)switch(l=e[a],l){case'"':if(o=this.parseString(e,n,a+1,u),this._error)return null;a=u[0],c=!0;break e;case"}":return i[0]=a+1,s;case":":this._error="illegal ':' position";break;case"\n":this._lineCount++}if(!c)return this._error="key not found",null;c=!1;e:for(;a<n;a++)switch(l=e[a],l){case":":c=!0,a++;break e;case"}":this._error="illegal '}' position";break;case"\n":this._lineCount++}if(!c)return this._error="':' not found",null;const d=this.parseValue(e,n,a,u);if(this._error)return null;a=u[0],s.put(o,d);e:for(;a<n;a++)switch(l=e[a],l){case",":break e;case"}":return i[0]=a+1,s;case"\n":this._lineCount++}}return this._error="illegal end of perseObject",null}parseArray(e,n,r,i){if(this._error)return null;let a,s=new AI,o=r;const l=new Array(1);for(;o<n;o++){const u=this.parseValue(e,n,o,l);if(this._error)return null;o=l[0],u&&s.add(u);e:for(;o<n;o++)switch(a=e[o],a){case",":break e;case"]":return i[0]=o+1,s;case"\n":++this._lineCount}}return s=void 0,this._error="illegal end of parseObject",null}}class TI extends Ve{constructor(e){super(),this._value=e}isFloat(){return!0}getString(e,n){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer}toInt(e=0){return parseInt(this._value.toString())}toFloat(e=0){return this._value}equals(e){return"number"==typeof e&&!Math.round(e)&&e==this._value}}class qr extends Ve{constructor(e){super(),this._boolValue=e}isBool(){return!0}toBoolean(e=!1){return this._boolValue}getString(e,n){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}equals(e){return"boolean"==typeof e&&e==this._boolValue}isStatic(){return!0}}class Rd extends Ve{constructor(e){super(),"string"==typeof e&&(this._stringBuffer=e),e instanceof An&&(this._stringBuffer=e.s)}isString(){return!0}getString(e,n){return this._stringBuffer}equals(e){return"string"==typeof e?this._stringBuffer==e:e instanceof An&&this._stringBuffer==e.s}}class jl extends Rd{constructor(e,n){super(e),this._isStatic=n}isStatic(){return this._isStatic}setErrorNotForClientCall(e){return this._stringBuffer=e,this}isError(){return!0}}class qm extends Ve{isNull(){return!0}getString(e,n){return this._stringBuffer}isStatic(){return!0}setErrorNotForClientCall(e){return this._stringBuffer=e,jl.nullValue}constructor(){super(),this._stringBuffer="NullValue"}}class AI extends Ve{constructor(){super(),this._array=new re}release(){for(let e=this._array.begin();e.notEqual(this._array.end());e.preIncrement()){let n=e.ptr();n&&!n.isStatic()&&(n=void 0,n=null)}}isArray(){return!0}getValueByIndex(e){return e<0||this._array.getSize()<=e?Ve.errorValue.setErrorNotForClientCall("Error: index out of bounds"):this._array.at(e)??Ve.nullValue}getValueByString(e){return Ve.errorValue.setErrorNotForClientCall(Nd)}getString(e,n){const r=n+"[\n";for(let i=this._array.begin();i.notEqual(this._array.end());i.increment()){const s=i.ptr();this._stringBuffer+=n+""+s.getString(n+" ")+"\n"}return this._stringBuffer=r+n+"]\n",this._stringBuffer}add(e){this._array.pushBack(e)}getVector(e=null){return this._array}getSize(){return this._array.getSize()}}class PI extends Ve{constructor(){super(),this._map=new ir}release(){const e=this._map.begin();for(;e.notEqual(this._map.end());){let n=e.ptr().second;n&&!n.isStatic()&&(n=void 0,n=null),e.preIncrement()}}isMap(){return!0}getValueByString(e){if(e instanceof An)return this._map.getValue(e.s)??Ve.nullValue;for(let n=this._map.begin();n.notEqual(this._map.end());n.preIncrement())if(n.ptr().first==e)return null==n.ptr().second?Ve.nullValue:n.ptr().second;return Ve.nullValue}getValueByIndex(e){return Ve.errorValue.setErrorNotForClientCall(Nd)}getString(e,n){this._stringBuffer=n+"{\n";const r=this._map.begin();for(;r.notEqual(this._map.end());){const i=r.ptr().first,s=r.ptr().second;this._stringBuffer+=n+" "+i+" : "+s.getString(n+"   ")+" \n",r.preIncrement()}return this._stringBuffer+=n+"}\n",this._stringBuffer}getMap(e){return this._map}put(e,n){this._map.setValue(e,n)}getKeys(){if(!this._keys){this._keys=new re;const e=this._map.begin();for(;e.notEqual(this._map.end());){const n=e.ptr().first;this._keys.pushBack(n),e.preIncrement()}}return this._keys}getSize(){return this._keys.getSize()}}var NI;function qz(t,e){let n=0;for(let i=1;;i++){const s=t.slice(i-1,i);if("e"==s||"-"==s||"E"==s)continue;const o=t.substring(0,i),a=Number(o);if(isNaN(a))break;n=i}let r=parseFloat(t);return isNaN(r)&&(r=NaN),e[0]=t.slice(n),r}!function(t){t.CubismJson=At,t.JsonArray=AI,t.JsonBoolean=qr,t.JsonError=jl,t.JsonFloat=TI,t.JsonMap=PI,t.JsonNullvalue=qm,t.JsonString=Rd,t.Value=Ve}(NI||(NI={}));let sr=!1,Bo=!1,jo=null,Ul=null;const fi=Object.freeze({vertexOffset:0,vertexStep:2});function Yz(t){!t||(t=void 0)}class Ce{static startUp(e=null){if(sr)return rr("CubismFramework.startUp() is already done."),sr;if(jo=e,null!=jo&&Live2DCubismCore.Logging.csmSetLogFunction(jo.logFunction),sr=!0,sr){const n=Live2DCubismCore.Version.csmGetVersion(),i=(16711680&n)>>16,s=65535&n,o=n;rr("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&n)>>24)).slice(-2),("00"+i).slice(-2),("0000"+s).slice(-4),o)}return rr("CubismFramework.startUp() is complete."),sr}static cleanUp(){sr=!1,Bo=!1,jo=null,Ul=null}static initialize(){Dr(sr),sr?Bo?Wr("CubismFramework.initialize() skipped, already initialized."):(Ve.staticInitializeNotForClientCall(),Ul=new CI,Bo=!0,rr("CubismFramework.initialize() is complete.")):Wr("CubismFramework is not started.")}static dispose(){Dr(sr),sr?Bo?(Ve.staticReleaseNotForClientCall(),Ul.release(),Ul=null,Pd.staticRelease(),Bo=!1,rr("CubismFramework.dispose() is complete.")):Wr("CubismFramework.dispose() skipped, not initialized."):Wr("CubismFramework is not started.")}static isStarted(){return sr}static isInitialized(){return Bo}static coreLogFunction(e){!Live2DCubismCore.Logging.csmGetLogFunction()||Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return null!=jo?jo.loggingLevel:ut.LogLevel_Off}static getIdManager(){return Ul}constructor(){}}class Xz{}var RI,ut=(()=>(function(t){t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off"}(ut||(ut={})),ut))();!function(t){t.Constant=fi,t.csmDelete=Yz,t.CubismFramework=Ce}(RI||(RI={}));var Yr=(()=>(function(t){t[t.ModelLoaded=0]="ModelLoaded",t[t.ModelReleased=1]="ModelReleased",t[t.MotionCompleted=2]="MotionCompleted"}(Yr||(Yr={})),Yr))();const FI="assets/l2d-setup/Resources/";var $t=(()=>(function(t){t[t.Ena=0]="Ena",t[t.Luka=1]="Luka",t[t.Mafuyu=2]="Mafuyu",t[t.Haruka=3]="Haruka",t[t.An=4]="An",t[t.Honami=5]="Honami",t[t.Akito=6]="Akito",t[t.Touya=7]="Touya",t[t.Tsukasa=8]="Tsukasa",t[t.Kanade=9]="Kanade",t[t.Kaito=10]="Kaito",t[t.Shizuku=11]="Shizuku"}($t||($t={})),$t))();const Uo=["19ena","24luka","18mafuyu","06haruka","10an","03honami","11akito","12touya","13tsukasa","17kanade","26kaito","08shizuku"],i8=Uo.length,u8=ut.LogLevel_Verbose,P=Object.freeze({HitAreaPrefix:"HitArea",HitAreaHead:"Head",HitAreaBody:"Body",PartsIdCore:"Parts01Core",PartsArmPrefix:"Parts01Arm_",PartsArmLPrefix:"Parts01ArmL_",PartsArmRPrefix:"Parts01ArmR_",ParamAngleX:"ParamAngleX",ParamAngleY:"ParamAngleY",ParamAngleZ:"ParamAngleZ",ParamEyeLOpen:"ParamEyeLOpen",ParamEyeLSmile:"ParamEyeLSmile",ParamEyeROpen:"ParamEyeROpen",ParamEyeRSmile:"ParamEyeRSmile",ParamEyeBallX:"ParamEyeBallX",ParamEyeBallY:"ParamEyeBallY",ParamEyeBallForm:"ParamEyeBallForm",ParamBrowLY:"ParamBrowLY",ParamBrowRY:"ParamBrowRY",ParamBrowLX:"ParamBrowLX",ParamBrowRX:"ParamBrowRX",ParamBrowLAngle:"ParamBrowLAngle",ParamBrowRAngle:"ParamBrowRAngle",ParamBrowLForm:"ParamBrowLForm",ParamBrowRForm:"ParamBrowRForm",ParamMouthForm:"ParamMouthForm",ParamMouthOpenY:"ParamMouthOpenY",ParamCheek:"ParamCheek",ParamBodyAngleX:"ParamBodyAngleX",ParamBodyAngleY:"ParamBodyAngleY",ParamBodyAngleZ:"ParamBodyAngleZ",ParamBreath:"ParamBreath",ParamArmLA:"ParamArmLA",ParamArmRA:"ParamArmRA",ParamArmLB:"ParamArmLB",ParamArmRB:"ParamArmRB",ParamHandL:"ParamHandL",ParamHandR:"ParamHandR",ParamHairFront:"ParamHairFront",ParamHairSide:"ParamHairSide",ParamHairBack:"ParamHairBack",ParamHairFluffy:"ParamHairFluffy",ParamShoulderY:"ParamShoulderY",ParamBustX:"ParamBustX",ParamBustY:"ParamBustY",ParamBaseX:"ParamBaseX",ParamBaseY:"ParamBaseY",ParamNONE:"NONE:"});var VI,jI;!function(t){t.HitAreaBody=P.HitAreaBody,t.HitAreaHead=P.HitAreaHead,t.HitAreaPrefix=P.HitAreaPrefix,t.ParamAngleX=P.ParamAngleX,t.ParamAngleY=P.ParamAngleY,t.ParamAngleZ=P.ParamAngleZ,t.ParamArmLA=P.ParamArmLA,t.ParamArmLB=P.ParamArmLB,t.ParamArmRA=P.ParamArmRA,t.ParamArmRB=P.ParamArmRB,t.ParamBaseX=P.ParamBaseX,t.ParamBaseY=P.ParamBaseY,t.ParamBodyAngleX=P.ParamBodyAngleX,t.ParamBodyAngleY=P.ParamBodyAngleY,t.ParamBodyAngleZ=P.ParamBodyAngleZ,t.ParamBreath=P.ParamBreath,t.ParamBrowLAngle=P.ParamBrowLAngle,t.ParamBrowLForm=P.ParamBrowLForm,t.ParamBrowLX=P.ParamBrowLX,t.ParamBrowLY=P.ParamBrowLY,t.ParamBrowRAngle=P.ParamBrowRAngle,t.ParamBrowRForm=P.ParamBrowRForm,t.ParamBrowRX=P.ParamBrowRX,t.ParamBrowRY=P.ParamBrowRY,t.ParamBustX=P.ParamBustX,t.ParamBustY=P.ParamBustY,t.ParamCheek=P.ParamCheek,t.ParamEyeBallForm=P.ParamEyeBallForm,t.ParamEyeBallX=P.ParamEyeBallX,t.ParamEyeBallY=P.ParamEyeBallY,t.ParamEyeLOpen=P.ParamEyeLOpen,t.ParamEyeLSmile=P.ParamEyeLSmile,t.ParamEyeROpen=P.ParamEyeROpen,t.ParamEyeRSmile=P.ParamEyeRSmile,t.ParamHairBack=P.ParamHairBack,t.ParamHairFluffy=P.ParamHairFluffy,t.ParamHairFront=P.ParamHairFront,t.ParamHairSide=P.ParamHairSide,t.ParamHandL=P.ParamHandL,t.ParamHandR=P.ParamHandR,t.ParamMouthForm=P.ParamMouthForm,t.ParamMouthOpenY=P.ParamMouthOpenY,t.ParamNONE=P.ParamNONE,t.ParamShoulderY=P.ParamShoulderY,t.PartsArmLPrefix=P.PartsArmLPrefix,t.PartsArmPrefix=P.PartsArmPrefix,t.PartsArmRPrefix=P.PartsArmRPrefix,t.PartsIdCore=P.PartsIdCore}(VI||(VI={}));class BI{}!function(t){t.ICubismModelSetting=BI}(jI||(jI={}));const gi="FileReferences",UI="UserData",pi="Name",Fd="Ids",GI="FadeInTime",zI="FadeOutTime",Xm="LipSync",Km="EyeBlink";var qI,YI,V=(()=>(function(t){t[t.FrequestNode_Groups=0]="FrequestNode_Groups",t[t.FrequestNode_Moc=1]="FrequestNode_Moc",t[t.FrequestNode_Motions=2]="FrequestNode_Motions",t[t.FrequestNode_Expressions=3]="FrequestNode_Expressions",t[t.FrequestNode_Textures=4]="FrequestNode_Textures",t[t.FrequestNode_Physics=5]="FrequestNode_Physics",t[t.FrequestNode_Pose=6]="FrequestNode_Pose",t[t.FrequestNode_HitAreas=7]="FrequestNode_HitAreas"}(V||(V={})),V))();class WI extends BI{constructor(e,n){super(),this._json=At.create(e,n),this._json&&(this._jsonValue=new re,this._jsonValue.pushBack(this._json.getRoot().getValueByString("Groups")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(gi).getValueByString("Moc")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(gi).getValueByString("Motions")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(gi).getValueByString("Expressions")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(gi).getValueByString("Textures")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(gi).getValueByString("Physics")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(gi).getValueByString("Pose")),this._jsonValue.pushBack(this._json.getRoot().getValueByString("HitAreas")))}release(){At.delete(this._json),this._jsonValue=null}GetJson(){return this._json}getModelFileName(){return this.isExistModelFile()?this._jsonValue.at(V.FrequestNode_Moc).getRawString():""}getTextureCount(){return this.isExistTextureFiles()?this._jsonValue.at(V.FrequestNode_Textures).getSize():0}getTextureDirectory(){return this._jsonValue.at(V.FrequestNode_Textures).getRawString()}getTextureFileName(e){return this._jsonValue.at(V.FrequestNode_Textures).getValueByIndex(e).getRawString()}getHitAreasCount(){return this.isExistHitAreas()?this._jsonValue.at(V.FrequestNode_HitAreas).getSize():0}getHitAreaId(e){return Ce.getIdManager().getId(this._jsonValue.at(V.FrequestNode_HitAreas).getValueByIndex(e).getValueByString("Id").getRawString())}getHitAreaName(e){return this._jsonValue.at(V.FrequestNode_HitAreas).getValueByIndex(e).getValueByString(pi).getRawString()}getPhysicsFileName(){return this.isExistPhysicsFile()?this._jsonValue.at(V.FrequestNode_Physics).getRawString():""}getPoseFileName(){return this.isExistPoseFile()?this._jsonValue.at(V.FrequestNode_Pose).getRawString():""}getExpressionCount(){return this.isExistExpressionFile()?this._jsonValue.at(V.FrequestNode_Expressions).getSize():0}getExpressionName(e){return this._jsonValue.at(V.FrequestNode_Expressions).getValueByIndex(e).getValueByString(pi).getRawString()}getExpressionFileName(e){return this._jsonValue.at(V.FrequestNode_Expressions).getValueByIndex(e).getValueByString("File").getRawString()}getMotionGroupCount(){return this.isExistMotionGroups()?this._jsonValue.at(V.FrequestNode_Motions).getKeys().getSize():0}getMotionGroupName(e){return this.isExistMotionGroups()?this._jsonValue.at(V.FrequestNode_Motions).getKeys().at(e):null}getMotionCount(e){return this.isExistMotionGroupName(e)?this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getSize():0}getMotionFileName(e,n){return this.isExistMotionGroupName(e)?this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString("File").getRawString():""}getMotionSoundFileName(e,n){return this.isExistMotionSoundFile(e,n)?this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString("Sound").getRawString():""}getMotionFadeInTimeValue(e,n){return this.isExistMotionFadeIn(e,n)?this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(GI).toFloat():-1}getMotionFadeOutTimeValue(e,n){return this.isExistMotionFadeOut(e,n)?this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(zI).toFloat():-1}getUserDataFile(){return this.isExistUserDataFile()?this._json.getRoot().getValueByString(gi).getValueByString(UI).getRawString():""}getLayoutMap(e){const n=this._json.getRoot().getValueByString("Layout").getMap();if(null==n)return!1;let r=!1;for(const i=n.begin();i.notEqual(n.end());i.preIncrement())e.setValue(i.ptr().first,i.ptr().second.toFloat()),r=!0;return r}getEyeBlinkParameterCount(){if(!this.isExistEyeBlinkParameters())return 0;let e=0;for(let n=0;n<this._jsonValue.at(V.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(V.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(pi).getRawString()==Km){e=r.getValueByString(Fd).getVector().getSize();break}}return e}getEyeBlinkParameterId(e){if(!this.isExistEyeBlinkParameters())return null;for(let n=0;n<this._jsonValue.at(V.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(V.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(pi).getRawString()==Km)return Ce.getIdManager().getId(r.getValueByString(Fd).getValueByIndex(e).getRawString())}return null}getLipSyncParameterCount(){if(!this.isExistLipSyncParameters())return 0;let e=0;for(let n=0;n<this._jsonValue.at(V.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(V.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(pi).getRawString()==Xm){e=r.getValueByString(Fd).getVector().getSize();break}}return e}getLipSyncParameterId(e){if(!this.isExistLipSyncParameters())return null;for(let n=0;n<this._jsonValue.at(V.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(V.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(pi).getRawString()==Xm)return Ce.getIdManager().getId(r.getValueByString(Fd).getValueByIndex(e).getRawString())}return null}isExistModelFile(){const e=this._jsonValue.at(V.FrequestNode_Moc);return!e.isNull()&&!e.isError()}isExistTextureFiles(){const e=this._jsonValue.at(V.FrequestNode_Textures);return!e.isNull()&&!e.isError()}isExistHitAreas(){const e=this._jsonValue.at(V.FrequestNode_HitAreas);return!e.isNull()&&!e.isError()}isExistPhysicsFile(){const e=this._jsonValue.at(V.FrequestNode_Physics);return!e.isNull()&&!e.isError()}isExistPoseFile(){const e=this._jsonValue.at(V.FrequestNode_Pose);return!e.isNull()&&!e.isError()}isExistExpressionFile(){const e=this._jsonValue.at(V.FrequestNode_Expressions);return!e.isNull()&&!e.isError()}isExistMotionGroups(){const e=this._jsonValue.at(V.FrequestNode_Motions);return!e.isNull()&&!e.isError()}isExistMotionGroupName(e){const n=this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e);return!n.isNull()&&!n.isError()}isExistMotionSoundFile(e,n){const r=this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString("Sound");return!r.isNull()&&!r.isError()}isExistMotionFadeIn(e,n){const r=this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(GI);return!r.isNull()&&!r.isError()}isExistMotionFadeOut(e,n){const r=this._jsonValue.at(V.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(zI);return!r.isNull()&&!r.isError()}isExistUserDataFile(){const e=this._json.getRoot().getValueByString(gi).getValueByString(UI);return!e.isNull()&&!e.isError()}isExistEyeBlinkParameters(){if(this._jsonValue.at(V.FrequestNode_Groups).isNull()||this._jsonValue.at(V.FrequestNode_Groups).isError())return!1;for(let e=0;e<this._jsonValue.at(V.FrequestNode_Groups).getSize();++e)if(this._jsonValue.at(V.FrequestNode_Groups).getValueByIndex(e).getValueByString(pi).getRawString()==Km)return!0;return!1}isExistLipSyncParameters(){if(this._jsonValue.at(V.FrequestNode_Groups).isNull()||this._jsonValue.at(V.FrequestNode_Groups).isError())return!1;for(let e=0;e<this._jsonValue.at(V.FrequestNode_Groups).getSize();++e)if(this._jsonValue.at(V.FrequestNode_Groups).getValueByIndex(e).getValueByString(pi).getRawString()==Xm)return!0;return!1}}!function(t){t.CubismModelSettingJson=WI}(qI||(qI={}));class $l{constructor(){this._currentTime=0}static create(){return new $l}static delete(e){null!=e&&(e=null)}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,n){this._currentTime+=n;const r=2*this._currentTime*3.14159;for(let i=0;i<this._breathParameters.getSize();++i){const s=this._breathParameters.at(i);e.addParameterValueById(s.parameterId,s.offset+s.peak*Math.sin(r/s.cycle),s.weight)}}}class Ho{constructor(e,n,r,i,s){this.parameterId=e??null,this.offset=n??0,this.peak=r??0,this.cycle=i??0,this.weight=s??0}}!function(t){t.BreathParameterData=Ho,t.CubismBreath=$l}(YI||(YI={}));let Qm=(()=>{class t{constructor(n){if(this._blinkingState=Gt.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new re,null!=n)for(let r=0;r<n.getEyeBlinkParameterCount();++r)this._parameterIds.pushBack(n.getEyeBlinkParameterId(r))}static create(n=null){return new t(n)}static delete(n){null!=n&&(n=null)}setBlinkingInterval(n){this._blinkingIntervalSeconds=n}setBlinkingSetting(n,r,i){this._closingSeconds=n,this._closedSeconds=r,this._openingSeconds=i}setParameterIds(n){this._parameterIds=n}getParameterIds(){return this._parameterIds}updateParameters(n,r){this._userTimeSeconds+=r;let i,s=0;switch(this._blinkingState){case Gt.EyeState_Closing:s=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,s>=1&&(s=1,this._blinkingState=Gt.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),i=1-s;break;case Gt.EyeState_Closed:s=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,s>=1&&(this._blinkingState=Gt.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),i=0;break;case Gt.EyeState_Opening:s=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,s>=1&&(s=1,this._blinkingState=Gt.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),i=s;break;case Gt.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=Gt.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),i=1;break;default:this._blinkingState=Gt.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),i=1}t.CloseIfZero||(i=-i);for(let o=0;o<this._parameterIds.getSize();++o)n.setParameterValueById(this._parameterIds.at(o),i)}determinNextBlinkingTiming(){const n=Math.random();return this._userTimeSeconds+n*(2*this._blinkingIntervalSeconds-1)}}return t.CloseIfZero=!0,t})();var XI,Gt=(()=>(function(t){t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening"}(Gt||(Gt={})),Gt))();!function(t){t.CubismEyeBlink=Qm,t.EyeState=Gt}(XI||(XI={}));const KI="FadeInTime";class Gl{constructor(){this._fadeTimeSeconds=.5,this._lastModel=null,this._partGroups=new re,this._partGroupCounts=new re}static create(e,n){const r=new Gl,i=At.create(e,n),s=i.getRoot();s.getValueByString(KI).isNull()||(r._fadeTimeSeconds=s.getValueByString(KI).toFloat(.5),r._fadeTimeSeconds<=0&&(r._fadeTimeSeconds=.5));const o=s.getValueByString("Groups"),a=o.getSize();for(let l=0;l<a;++l){const u=o.getValueByIndex(l),c=u.getSize();let d=0;for(let h=0;h<c;++h){const f=u.getValueByIndex(h),g=new zl,p=Ce.getIdManager().getId(f.getValueByString("Id").getRawString());if(g.partId=p,!f.getValueByString("Link").isNull()){const m=f.getValueByString("Link"),_=m.getSize();for(let v=0;v<_;++v){const y=new zl,C=Ce.getIdManager().getId(m.getValueByIndex(v).getString());y.partId=C,g.link.pushBack(y)}}r._partGroups.pushBack(g.clone()),++d}r._partGroupCounts.pushBack(d)}return At.delete(i),r}static delete(e){null!=e&&(e=null)}updateParameters(e,n){e!=this._lastModel&&this.reset(e),this._lastModel=e,n<0&&(n=0);let r=0;for(let i=0;i<this._partGroupCounts.getSize();i++){const s=this._partGroupCounts.at(i);this.doFade(e,n,r,s),r+=s}this.copyPartOpacities(e)}reset(e){let n=0;for(let r=0;r<this._partGroupCounts.getSize();++r){const i=this._partGroupCounts.at(r);for(let s=n;s<n+i;++s){this._partGroups.at(s).initialize(e);const o=this._partGroups.at(s).partIndex,a=this._partGroups.at(s).parameterIndex;if(!(o<0)){e.setPartOpacityByIndex(o,s==n?1:0),e.setParameterValueByIndex(a,s==n?1:0);for(let l=0;l<this._partGroups.at(s).link.getSize();++l)this._partGroups.at(s).link.at(l).initialize(e)}}n+=i}}copyPartOpacities(e){for(let n=0;n<this._partGroups.getSize();++n){const r=this._partGroups.at(n);if(0==r.link.getSize())continue;const i=this._partGroups.at(n).partIndex,s=e.getPartOpacityByIndex(i);for(let o=0;o<r.link.getSize();++o){const l=r.link.at(o).partIndex;l<0||e.setPartOpacityByIndex(l,s)}}}doFade(e,n,r,i){let s=-1,o=1;const a=.5;for(let u=r;u<r+i;++u){const c=this._partGroups.at(u).partIndex,d=this._partGroups.at(u).parameterIndex;if(e.getParameterValueByIndex(d)>.001){if(s>=0)break;s=u,o=e.getPartOpacityByIndex(c),o+=n/this._fadeTimeSeconds,o>1&&(o=1)}}s<0&&(s=0,o=1);for(let u=r;u<r+i;++u){const c=this._partGroups.at(u).partIndex;if(s==u)e.setPartOpacityByIndex(c,o);else{let h,d=e.getPartOpacityByIndex(c);h=o<a?o*(a-1)/a+1:(1-o)*a/.5,(1-h)*(1-o)>.15&&(h=1-.15/(1-o)),d>h&&(d=h),e.setPartOpacityByIndex(c,d)}}}}class zl{constructor(e){if(this.parameterIndex=0,this.partIndex=0,this.link=new re,null!=e){this.partId=e.partId;for(const n=e.link.begin();n.notEqual(e.link.end());n.preIncrement())this.link.pushBack(n.ptr().clone())}}assignment(e){this.partId=e.partId;for(const n=e.link.begin();n.notEqual(e.link.end());n.preIncrement())this.link.pushBack(n.ptr().clone());return this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new zl;e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=new re;for(let n=this.link.begin();n.notEqual(this.link.end());n.increment())e.link.pushBack(n.ptr().clone());return e}}var ZI,ex,tx;!function(t){t.CubismPose=Gl,t.PartData=zl}(ZI||(ZI={}));class JI extends et{constructor(e,n){super(),this._width=void 0!==e?e:0,this._height=void 0!==n?n:0,this.setHeight(2)}setWidth(e){const n=e/this._width;this.scale(n,n)}setHeight(e){const n=e/this._height;this.scale(n,n)}setPosition(e,n){this.translate(e,n)}setCenterPosition(e,n){this.centerX(e),this.centerY(n)}top(e){this.setY(e)}bottom(e){const n=this._height*this.getScaleY();this.translateY(e-n)}left(e){this.setX(e)}right(e){const n=this._width*this.getScaleX();this.translateX(e-n)}centerX(e){const n=this._width*this.getScaleX();this.translateX(e-n/2)}setX(e){this.translateX(e)}centerY(e){const n=this._height*this.getScaleY();this.translateY(e-n/2)}setY(e){this.translateY(e)}setupFromLayout(e){for(const h=e.begin();h.notEqual(e.end());h.preIncrement()){const f=h.ptr().first,g=h.ptr().second;"width"==f?this.setWidth(g):"height"==f&&this.setHeight(g)}for(const h=e.begin();h.notEqual(e.end());h.preIncrement()){const f=h.ptr().first,g=h.ptr().second;"x"==f?this.setX(g):"y"==f?this.setY(g):"center_x"==f?this.centerX(g):"center_y"==f?this.centerY(g):"top"==f?this.top(g):"bottom"==f?this.bottom(g):"left"==f?this.left(g):"right"==f&&this.right(g)}}}!function(t){t.CubismModelMatrix=JI}(ex||(ex={}));class U{constructor(e,n){this.x=e,this.y=n,this.x=e??0,this.y=n??0}add(e){const n=new U(0,0);return n.x=this.x+e.x,n.y=this.y+e.y,n}substract(e){const n=new U(0,0);return n.x=this.x-e.x,n.y=this.y-e.y,n}multiply(e){const n=new U(0,0);return n.x=this.x*e.x,n.y=this.y*e.y,n}multiplyByScaler(e){return this.multiply(new U(e,e))}division(e){const n=new U(0,0);return n.x=this.x/e.x,n.y=this.y/e.y,n}divisionByScalar(e){return this.division(new U(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}!function(t){t.CubismVector2=U}(tx||(tx={}));let ue=(()=>{class t{constructor(){}static range(n,r,i){return n<r?n=r:n>i&&(n=i),n}static sin(n){return Math.sin(n)}static cos(n){return Math.cos(n)}static abs(n){return Math.abs(n)}static sqrt(n){return Math.sqrt(n)}static cbrt(n){if(0===n)return n;let r=n;const i=r<0;let s;return i&&(r=-r),r===1/0?s=1/0:(s=Math.exp(Math.log(r)/3),s=(r/(s*s)+2*s)/3),i?-s:s}static getEasingSine(n){return n<0?0:n>1?1:.5-.5*this.cos(n*Math.PI)}static max(n,r){return n>r?n:r}static min(n,r){return n>r?r:n}static degreesToRadian(n){return n/180*Math.PI}static radianToDegrees(n){return 180*n/Math.PI}static directionToRadian(n,r){let o=Math.atan2(r.y,r.x)-Math.atan2(n.y,n.x);for(;o<-Math.PI;)o+=2*Math.PI;for(;o>Math.PI;)o-=2*Math.PI;return o}static directionToDegrees(n,r){const i=this.directionToRadian(n,r);let s=this.radianToDegrees(i);return r.x-n.x>0&&(s=-s),s}static radianToDirection(n){const r=new U;return r.x=this.sin(n),r.y=this.cos(n),r}static quadraticEquation(n,r,i){return this.abs(n)<t.Epsilon?this.abs(r)<t.Epsilon?-i:-i/r:-(r+this.sqrt(r*r-4*n*i))/(2*n)}static cardanoAlgorithmForBezier(n,r,i,s){if(this.sqrt(n)<t.Epsilon)return this.range(this.quadraticEquation(r,i,s),0,1);const o=r/n,a=i/n,u=(3*a-o*o)/3,c=u/3,d=(2*o*o*o-9*o*a+s/n*27)/27,h=d/2,f=h*h+c*c*c,p=.51;if(f<0){const C=-u/3,se=this.sqrt(C*C*C),tu=this.range(-d/(2*se),-1,1),os=Math.acos(tu),as=2*this.cbrt(se),Ko=as*this.cos(os/3)-o/3;if(this.abs(Ko-.5)<p)return this.range(Ko,0,1);const Qo=as*this.cos((os+2*Math.PI)/3)-o/3;if(this.abs(Qo-.5)<p)return this.range(Qo,0,1);const ru=as*this.cos((os+4*Math.PI)/3)-o/3;return this.range(ru,0,1)}if(0==f){let C;C=h<0?this.cbrt(-h):-this.cbrt(h);const S=2*C-o/3;return this.abs(S-.5)<p?this.range(S,0,1):this.range(-C-o/3,0,1)}const m=this.sqrt(f),_=this.cbrt(m-h),v=this.cbrt(m+h);return this.range(_-v-o/3,0,1)}}return t.Epsilon=1e-5,t})();var nx,sx,ox;!function(t){t.CubismMath=ue}(nx||(nx={}));class ix{constructor(){this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}update(e){this._userTimeSeconds+=e;const r=4/30;if(0==this._lastTimeSeconds)return void(this._lastTimeSeconds=this._userTimeSeconds);const i=30*(this._userTimeSeconds-this._lastTimeSeconds);this._lastTimeSeconds=this._userTimeSeconds;const a=i*r/4.5,l=this._faceTargetX-this._faceX,u=this._faceTargetY-this._faceY;if(ue.abs(l)<=.01&&ue.abs(u)<=.01)return;const c=ue.sqrt(l*l+u*u);let f=r*l/c-this._faceVX,g=r*u/c-this._faceVY;const p=ue.sqrt(f*f+g*g);(p<-a||p>a)&&(f*=a/p,g*=a/p),this._faceVX+=f,this._faceVY+=g;{const m=.5*(ue.sqrt(a*a+16*a*c-8*a*c)-a),_=ue.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);_>m&&(this._faceVX*=m/_,this._faceVY*=m/_)}this._faceX+=this._faceVX,this._faceY+=this._faceVY}getX(){return this._faceX}getY(){return this._faceY}set(e,n){this._faceTargetX=e,this._faceTargetY=n}}!function(t){t.CubismTargetPoint=ix}(sx||(sx={}));class $o{constructor(){this.setFinishedMotionHandler=e=>this._onFinishedMotion=e,this.getFinishedMotionHandler=()=>this._onFinishedMotion,this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new re}static delete(e){e.release(),e=null}release(){this._weight=0}updateParameters(e,n,r){if(!n.isAvailable()||n.isFinished())return;if(!n.isStarted()){n.setIsStarted(!0),n.setStartTime(r-this._offsetSeconds),n.setFadeInStartTime(r);const a=this.getDuration();n.getEndTime()<0&&n.setEndTime(a<=0?-1:n.getStartTime()+a)}let i=this._weight;i=i*(0==this._fadeInSeconds?1:ue.getEasingSine((r-n.getFadeInStartTime())/this._fadeInSeconds))*(0==this._fadeOutSeconds||n.getEndTime()<0?1:ue.getEasingSine((n.getEndTime()-r)/this._fadeOutSeconds)),n.setState(r,i),Dr(0<=i&&i<=1),this.doUpdateParameters(e,r,i,n),n.getEndTime()>0&&n.getEndTime()<r&&n.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,n){return this._firedEventValues}}!function(t){t.ACubismMotion=$o}(ox||(ox={}));const ax="Parameters",kd="Blend";class Ld extends $o{constructor(){super(),this._parameters=new re}static create(e,n){const r=new Ld,i=At.create(e,n),s=i.getRoot();r.setFadeInTime(s.getValueByString("FadeInTime").toFloat(1)),r.setFadeOutTime(s.getValueByString("FadeOutTime").toFloat(1));const o=s.getValueByString(ax).getSize();r._parameters.prepareCapacity(o);for(let a=0;a<o;++a){const l=s.getValueByString(ax).getValueByIndex(a),u=Ce.getIdManager().getId(l.getValueByString("Id").getRawString()),c=l.getValueByString("Value").toFloat();let d;d=l.getValueByString(kd).isNull()||"Add"==l.getValueByString(kd).getString()?or.ExpressionBlendType_Add:"Multiply"==l.getValueByString(kd).getString()?or.ExpressionBlendType_Multiply:"Overwrite"==l.getValueByString(kd).getString()?or.ExpressionBlendType_Overwrite:or.ExpressionBlendType_Add;const h=new ux;h.parameterId=u,h.blendType=d,h.value=c,r._parameters.pushBack(h)}return At.delete(i),r}doUpdateParameters(e,n,r,i){for(let s=0;s<this._parameters.getSize();++s){const o=this._parameters.at(s);switch(o.blendType){case or.ExpressionBlendType_Add:e.addParameterValueById(o.parameterId,o.value,r);break;case or.ExpressionBlendType_Multiply:e.multiplyParameterValueById(o.parameterId,o.value,r);break;case or.ExpressionBlendType_Overwrite:e.setParameterValueById(o.parameterId,o.value,r)}}}}var cx,or=(()=>(function(t){t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite"}(or||(or={})),or))();class ux{}!function(t){t.CubismExpressionMotion=Ld,t.ExpressionBlendType=or,t.ExpressionParameter=ux}(cx||(cx={}));var px,ar=(()=>(function(t){t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity"}(ar||(ar={})),ar))(),_n=(()=>(function(t){t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped"}(_n||(_n={})),_n))();class e_{constructor(){this.time=0,this.value=0}}class dx{constructor(){this.evaluate=null,this.basePointIndex=0,this.segmentType=0}}class hx{constructor(){this.type=ar.CubismMotionCurveTarget_Model,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class fx{constructor(){this.fireTime=0}}class gx{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new re,this.segments=new re,this.points=new re,this.events=new re}}!function(t){t.CubismMotionCurve=hx,t.CubismMotionCurveTarget=ar,t.CubismMotionData=gx,t.CubismMotionEvent=fx,t.CubismMotionPoint=e_,t.CubismMotionSegment=dx,t.CubismMotionSegmentType=_n}(px||(px={}));const yn="Meta",mi="Curves",Vd="FadeInTime",Bd="FadeOutTime",mx="Segments",_x="UserData";class yx{constructor(e,n){this._json=At.create(e,n)}release(){At.delete(this._json)}getMotionDuration(){return this._json.getRoot().getValueByString(yn).getValueByString("Duration").toFloat()}isMotionLoop(){return this._json.getRoot().getValueByString(yn).getValueByString("Loop").toBoolean()}getEvaluationOptionFlag(e){return Wl.EvaluationOptionFlag_AreBeziersRistricted==e&&this._json.getRoot().getValueByString(yn).getValueByString("AreBeziersRestricted").toBoolean()}getMotionCurveCount(){return this._json.getRoot().getValueByString(yn).getValueByString("CurveCount").toInt()}getMotionFps(){return this._json.getRoot().getValueByString(yn).getValueByString("Fps").toFloat()}getMotionTotalSegmentCount(){return this._json.getRoot().getValueByString(yn).getValueByString("TotalSegmentCount").toInt()}getMotionTotalPointCount(){return this._json.getRoot().getValueByString(yn).getValueByString("TotalPointCount").toInt()}isExistMotionFadeInTime(){return!this._json.getRoot().getValueByString(yn).getValueByString(Vd).isNull()}isExistMotionFadeOutTime(){return!this._json.getRoot().getValueByString(yn).getValueByString(Bd).isNull()}getMotionFadeInTime(){return this._json.getRoot().getValueByString(yn).getValueByString(Vd).toFloat()}getMotionFadeOutTime(){return this._json.getRoot().getValueByString(yn).getValueByString(Bd).toFloat()}getMotionCurveTarget(e){return this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString("Target").getRawString()}getMotionCurveId(e){return Ce.getIdManager().getId(this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString("Id").getRawString())}isExistMotionCurveFadeInTime(e){return!this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString(Vd).isNull()}isExistMotionCurveFadeOutTime(e){return!this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString(Bd).isNull()}getMotionCurveFadeInTime(e){return this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString(Vd).toFloat()}getMotionCurveFadeOutTime(e){return this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString(Bd).toFloat()}getMotionCurveSegmentCount(e){return this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString(mx).getVector().getSize()}getMotionCurveSegment(e,n){return this._json.getRoot().getValueByString(mi).getValueByIndex(e).getValueByString(mx).getValueByIndex(n).toFloat()}getEventCount(){return this._json.getRoot().getValueByString(yn).getValueByString("UserDataCount").toInt()}getTotalEventValueSize(){return this._json.getRoot().getValueByString(yn).getValueByString("TotalUserDataSize").toInt()}getEventTime(e){return this._json.getRoot().getValueByString(_x).getValueByIndex(e).getValueByString("Time").toFloat()}getEventValue(e){return new An(this._json.getRoot().getValueByString(_x).getValueByIndex(e).getValueByString("Value").getRawString())}}var vx,Cx,Dx,Wl=(()=>(function(t){t[t.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted"}(Wl||(Wl={})),Wl))();function Ct(t,e,n){const r=new e_;return r.time=t.time+(e.time-t.time)*n,r.value=t.value+(e.value-t.value)*n,r}function X8(t,e){let n=(e-t[0].time)/(t[1].time-t[0].time);return n<0&&(n=0),t[0].value+(t[1].value-t[0].value)*n}function K8(t,e){let n=(e-t[0].time)/(t[3].time-t[0].time);n<0&&(n=0);const r=Ct(t[0],t[1],n),i=Ct(t[1],t[2],n),s=Ct(t[2],t[3],n),o=Ct(r,i,n),a=Ct(i,s,n);return Ct(o,a,n).value}function Q8(t,e){const r=t[0].time,s=t[1].time,o=t[2].time,d=ue.cardanoAlgorithmForBezier(t[3].time-3*o+3*s-r,3*o-6*s+3*r,3*s-3*r,r-e),h=Ct(t[0],t[1],d),f=Ct(t[1],t[2],d),g=Ct(t[2],t[3],d),p=Ct(h,f,d),m=Ct(f,g,d);return Ct(p,m,d).value}function Z8(t,e){return t[0].value}function J8(t,e){return t[1].value}function t_(t,e,n){const r=t.curves.at(e);let i=-1;const s=r.baseSegmentIndex+r.segmentCount;let o=0;for(let l=r.baseSegmentIndex;l<s;++l)if(o=t.segments.at(l).basePointIndex+(t.segments.at(l).segmentType==_n.CubismMotionSegmentType_Bezier?3:1),t.points.at(o).time>n){i=l;break}if(-1==i)return t.points.at(o).value;const a=t.segments.at(i);return a.evaluate(t.points.get(a.basePointIndex),n)}!function(t){t.CubismMotionJson=yx}(vx||(vx={}));class jd extends $o{constructor(){super(),this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._motionData=null,this._modelCurveIdEyeBlink=null,this._modelCurveIdLipSync=null,this._eyeBlinkParameterIds=null,this._lipSyncParameterIds=null}static create(e,n,r){const i=new jd;return i.parse(e,n),i._sourceFrameRate=i._motionData.fps,i._loopDurationSeconds=i._motionData.duration,i._onFinishedMotion=r,i}doUpdateParameters(e,n,r,i){null==this._modelCurveIdEyeBlink&&(this._modelCurveIdEyeBlink=Ce.getIdManager().getId("EyeBlink")),null==this._modelCurveIdLipSync&&(this._modelCurveIdLipSync=Ce.getIdManager().getId("LipSync"));let s=n-i.getStartTime();s<0&&(s=0);let o=Number.MAX_VALUE,a=Number.MAX_VALUE;const l=64;let u=0,c=0;this._eyeBlinkParameterIds.getSize()>l&&Vo("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>l&&Vo("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());const d=this._fadeInSeconds<=0?1:ue.getEasingSine((n-i.getFadeInStartTime())/this._fadeInSeconds),h=this._fadeOutSeconds<=0||i.getEndTime()<0?1:ue.getEasingSine((i.getEndTime()-n)/this._fadeOutSeconds);let f,g,p,m=s;if(this._isLoop)for(;m>this._motionData.duration;)m-=this._motionData.duration;const _=this._motionData.curves;for(g=0;g<this._motionData.curveCount&&_.at(g).type==ar.CubismMotionCurveTarget_Model;++g)f=t_(this._motionData,g,m),_.at(g).id==this._modelCurveIdEyeBlink?a=f:_.at(g).id==this._modelCurveIdLipSync&&(o=f);for(;g<this._motionData.curveCount&&_.at(g).type==ar.CubismMotionCurveTarget_Parameter;++g){if(p=e.getParameterIndex(_.at(g).id),-1==p)continue;const y=e.getParameterValueByIndex(p);if(f=t_(this._motionData,g,m),a!=Number.MAX_VALUE)for(let S=0;S<this._eyeBlinkParameterIds.getSize()&&S<l;++S)if(this._eyeBlinkParameterIds.at(S)==_.at(g).id){f*=a,c|=1<<S;break}if(o!=Number.MAX_VALUE)for(let S=0;S<this._lipSyncParameterIds.getSize()&&S<l;++S)if(this._lipSyncParameterIds.at(S)==_.at(g).id){f+=o,u|=1<<S;break}let C;if(_.at(g).fadeInTime<0&&_.at(g).fadeOutTime<0)C=y+(f-y)*r;else{let S,se;S=_.at(g).fadeInTime<0?d:0==_.at(g).fadeInTime?1:ue.getEasingSine((n-i.getFadeInStartTime())/_.at(g).fadeInTime),se=_.at(g).fadeOutTime<0?h:0==_.at(g).fadeOutTime||i.getEndTime()<0?1:ue.getEasingSine((i.getEndTime()-n)/_.at(g).fadeOutTime),C=y+this._weight*S*se*(f-y)}e.setParameterValueByIndex(p,C,1)}if(a!=Number.MAX_VALUE)for(let y=0;y<this._eyeBlinkParameterIds.getSize()&&y<l;++y){const C=e.getParameterValueById(this._eyeBlinkParameterIds.at(y));if(c>>y&1)continue;const S=C+(a-C)*r;e.setParameterValueById(this._eyeBlinkParameterIds.at(y),S)}if(o!=Number.MAX_VALUE)for(let y=0;y<this._lipSyncParameterIds.getSize()&&y<l;++y){const C=e.getParameterValueById(this._lipSyncParameterIds.at(y));if(u>>y&1)continue;const S=C+(o-C)*r;e.setParameterValueById(this._lipSyncParameterIds.at(y),S)}for(;g<this._motionData.curveCount&&_.at(g).type==ar.CubismMotionCurveTarget_PartOpacity;++g)p=e.getParameterIndex(_.at(g).id),-1!=p&&(f=t_(this._motionData,g,m),e.setParameterValueByIndex(p,f));s>=this._motionData.duration&&(this._isLoop?(i.setStartTime(n),this._isLoopFadeIn&&i.setFadeInStartTime(n)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=r}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,n){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r.at(i).id)return void(r.at(i).fadeInTime=n)}setParameterFadeOutTime(e,n){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r.at(i).id)return void(r.at(i).fadeOutTime=n)}getParameterFadeInTime(e){const n=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==n.at(r).id)return n.at(r).fadeInTime;return-1}getParameterFadeOutTime(e){const n=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==n.at(r).id)return n.at(r).fadeOutTime;return-1}setEffectIds(e,n){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=n}release(){this._motionData=void 0,this._motionData=null}parse(e,n){this._motionData=new gx;let r=new yx(e,n);this._motionData.duration=r.getMotionDuration(),this._motionData.loop=r.isMotionLoop(),this._motionData.curveCount=r.getMotionCurveCount(),this._motionData.fps=r.getMotionFps(),this._motionData.eventCount=r.getEventCount();const i=r.getEvaluationOptionFlag(Wl.EvaluationOptionFlag_AreBeziersRistricted);this._fadeInSeconds=r.isExistMotionFadeInTime()?r.getMotionFadeInTime()<0?1:r.getMotionFadeInTime():1,this._fadeOutSeconds=r.isExistMotionFadeOutTime()?r.getMotionFadeOutTime()<0?1:r.getMotionFadeOutTime():1,this._motionData.curves.updateSize(this._motionData.curveCount,hx,!0),this._motionData.segments.updateSize(r.getMotionTotalSegmentCount(),dx,!0),this._motionData.points.updateSize(r.getMotionTotalPointCount(),e_,!0),this._motionData.events.updateSize(this._motionData.eventCount,fx,!0);let s=0,o=0;for(let a=0;a<this._motionData.curveCount;++a){"Model"==r.getMotionCurveTarget(a)?this._motionData.curves.at(a).type=ar.CubismMotionCurveTarget_Model:"Parameter"==r.getMotionCurveTarget(a)?this._motionData.curves.at(a).type=ar.CubismMotionCurveTarget_Parameter:"PartOpacity"==r.getMotionCurveTarget(a)?this._motionData.curves.at(a).type=ar.CubismMotionCurveTarget_PartOpacity:Wr('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!'),this._motionData.curves.at(a).id=r.getMotionCurveId(a),this._motionData.curves.at(a).baseSegmentIndex=o,this._motionData.curves.at(a).fadeInTime=r.isExistMotionCurveFadeInTime(a)?r.getMotionCurveFadeInTime(a):-1,this._motionData.curves.at(a).fadeOutTime=r.isExistMotionCurveFadeOutTime(a)?r.getMotionCurveFadeOutTime(a):-1;for(let l=0;l<r.getMotionCurveSegmentCount(a);){switch(0==l?(this._motionData.segments.at(o).basePointIndex=s,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+1),s+=1,l+=2):this._motionData.segments.at(o).basePointIndex=s-1,r.getMotionCurveSegment(a,l)){case _n.CubismMotionSegmentType_Linear:this._motionData.segments.at(o).segmentType=_n.CubismMotionSegmentType_Linear,this._motionData.segments.at(o).evaluate=X8,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),s+=1,l+=3;break;case _n.CubismMotionSegmentType_Bezier:this._motionData.segments.at(o).segmentType=_n.CubismMotionSegmentType_Bezier,this._motionData.segments.at(o).evaluate=i?K8:Q8,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),this._motionData.points.at(s+1).time=r.getMotionCurveSegment(a,l+3),this._motionData.points.at(s+1).value=r.getMotionCurveSegment(a,l+4),this._motionData.points.at(s+2).time=r.getMotionCurveSegment(a,l+5),this._motionData.points.at(s+2).value=r.getMotionCurveSegment(a,l+6),s+=3,l+=7;break;case _n.CubismMotionSegmentType_Stepped:this._motionData.segments.at(o).segmentType=_n.CubismMotionSegmentType_Stepped,this._motionData.segments.at(o).evaluate=Z8,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),s+=1,l+=3;break;case _n.CubismMotionSegmentType_InverseStepped:this._motionData.segments.at(o).segmentType=_n.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(o).evaluate=J8,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),s+=1,l+=3;break;default:Dr(0)}++this._motionData.curves.at(a).segmentCount,++o}}for(let a=0;a<r.getEventCount();++a)this._motionData.events.at(a).fireTime=r.getEventTime(a),this._motionData.events.at(a).value=r.getEventValue(a);r.release(),r=void 0,r=null}getFiredEvent(e,n){this._firedEventValues.updateSize(0);for(let r=0;r<this._motionData.eventCount;++r)this._motionData.events.at(r).fireTime>e&&this._motionData.events.at(r).fireTime<=n&&this._firedEventValues.pushBack(new An(this._motionData.events.at(r).value.s));return this._firedEventValues}}!function(t){t.CubismMotion=jd}(Cx||(Cx={}));class wx{constructor(){this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&$o.delete(this._motion)}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,n){const r=n+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,n){this._stateTimeSeconds=e,this._stateWeight=n}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}!function(t){t.CubismMotionQueueEntry=wx}(Dx||(Dx={}));class Ex{constructor(){this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new re}release(){for(let e=0;e<this._motions.getSize();++e)this._motions.at(e)&&(this._motions.at(e).release(),this._motions.set(e,null));this._motions=null}startMotion(e,n,r){if(null==e)return Ud;let i=null;for(let s=0;s<this._motions.getSize();++s)i=this._motions.at(s),i?.setFadeOut(i._motion.getFadeOutTime());return i=new wx,i._autoDelete=n,i._motion=e,this._motions.pushBack(i),i._motionQueueEntryHandle}isFinished(){for(let e=this._motions.begin();e.notEqual(this._motions.end());){let n=e.ptr();if(null!=n)if(null!=n._motion){if(!n.isFinished())return!1;e.preIncrement()}else n.release(),n=null,e=this._motions.erase(e);else e=this._motions.erase(e)}return!0}isFinishedByHandle(e){for(let n=this._motions.begin();n.notEqual(this._motions.end());n.increment()){const r=n.ptr();if(null!=r&&r._motionQueueEntryHandle==e&&!r.isFinished())return!1}return!0}stopAllMotions(){for(let e=this._motions.begin();e.notEqual(this._motions.end());){let n=e.ptr();null!=n?(n.release(),n=null,e=this._motions.erase(e)):e=this._motions.erase(e)}}getCubismMotionQueueEntry(e){for(let n=this._motions.begin();n.notEqual(this._motions.end());n.preIncrement()){const r=n.ptr();if(null!=r&&r._motionQueueEntryHandle==e)return r}return null}setEventCallback(e,n=null){this._eventCallBack=e,this._eventCustomData=n}doUpdateMotion(e,n){let r=!1;for(let i=this._motions.begin();i.notEqual(this._motions.end());){let s=i.ptr();if(null==s){i=this._motions.erase(i);continue}const o=s._motion;if(null==o){s.release(),s=null,i=this._motions.erase(i);continue}o.updateParameters(e,s,n),r=!0;const a=o.getFiredEvent(s.getLastCheckEventSeconds()-s.getStartTime(),n-s.getStartTime());for(let l=0;l<a.getSize();++l)this._eventCallBack(this,a.at(l),this._eventCustomData);s.setLastCheckEventSeconds(n),s.isFinished()?(s.release(),s=null,i=this._motions.erase(i)):(s.isTriggeredFadeOut()&&s.startFadeOut(s.getFadeOutSeconds(),n),i.preIncrement())}return r}}const Ud=-1;var bx,Sx;!function(t){t.CubismMotionQueueManager=Ex,t.InvalidMotionQueueEntryHandleValue=Ud}(bx||(bx={}));class ql extends Ex{constructor(){super(),this._currentPriority=0,this._reservePriority=0}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}setReservePriority(e){this._reservePriority=e}startMotionPriority(e,n,r){return r==this._reservePriority&&(this._reservePriority=0),this._currentPriority=r,super.startMotion(e,n,this._userTimeSeconds)}updateMotion(e,n){this._userTimeSeconds+=n;const r=super.doUpdateMotion(e,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),r}reserveMotion(e){return!(e<=this._reservePriority||e<=this._currentPriority||(this._reservePriority=e,0))}}!function(t){t.CubismMotionManager=ql}(Sx||(Sx={}));var Px,Go=(()=>(function(t){t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter"}(Go||(Go={})),Go))(),Er=(()=>(function(t){t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle"}(Er||(Er={})),Er))();class e4{constructor(){this.gravity=new U(0,0),this.wind=new U(0,0)}}class n_{}class r_{}class Mx{constructor(){this.initialPosition=new U(0,0),this.position=new U(0,0),this.lastPosition=new U(0,0),this.lastGravity=new U(0,0),this.force=new U(0,0),this.velocity=new U(0,0)}}class Ix{constructor(){this.normalizationPosition=new r_,this.normalizationAngle=new r_}}class xx{constructor(){this.source=new n_}}class Tx{constructor(){this.destination=new n_,this.translationScale=new U(0,0)}}class Ax{constructor(){this.settings=new re,this.inputs=new re,this.outputs=new re,this.particles=new re,this.gravity=new U(0,0),this.wind=new U(0,0)}}!function(t){t.CubismPhysicsInput=xx,t.CubismPhysicsNormalization=r_,t.CubismPhysicsOutput=Tx,t.CubismPhysicsParameter=n_,t.CubismPhysicsParticle=Mx,t.CubismPhysicsRig=Ax,t.CubismPhysicsSource=Er,t.CubismPhysicsSubRig=Ix,t.CubismPhysicsTargetType=Go,t.PhysicsJsonEffectiveForces=e4}(Px||(Px={}));const Yl="Position",o_="Angle",_i="Meta",Hd="EffectiveForces",Ox="Gravity",Ue="PhysicsSettings",zo="Normalization",kx="Minimum",Lx="Maximum",Vx="Default",Bx="Reflect",Xl="Input",ns="Output",rs="Vertices";class Ux{constructor(e,n){this._json=At.create(e,n)}release(){At.delete(this._json)}getGravity(){const e=new U(0,0);return e.x=this._json.getRoot().getValueByString(_i).getValueByString(Hd).getValueByString(Ox).getValueByString("X").toFloat(),e.y=this._json.getRoot().getValueByString(_i).getValueByString(Hd).getValueByString(Ox).getValueByString("Y").toFloat(),e}getWind(){const e=new U(0,0);return e.x=this._json.getRoot().getValueByString(_i).getValueByString(Hd).getValueByString("Wind").getValueByString("X").toFloat(),e.y=this._json.getRoot().getValueByString(_i).getValueByString(Hd).getValueByString("Wind").getValueByString("Y").toFloat(),e}getSubRigCount(){return this._json.getRoot().getValueByString(_i).getValueByString("PhysicsSettingCount").toInt()}getTotalInputCount(){return this._json.getRoot().getValueByString(_i).getValueByString("TotalInputCount").toInt()}getTotalOutputCount(){return this._json.getRoot().getValueByString(_i).getValueByString("TotalOutputCount").toInt()}getVertexCount(){return this._json.getRoot().getValueByString(_i).getValueByString("VertexCount").toInt()}getNormalizationPositionMinimumValue(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(zo).getValueByString(Yl).getValueByString(kx).toFloat()}getNormalizationPositionMaximumValue(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(zo).getValueByString(Yl).getValueByString(Lx).toFloat()}getNormalizationPositionDefaultValue(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(zo).getValueByString(Yl).getValueByString(Vx).toFloat()}getNormalizationAngleMinimumValue(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(zo).getValueByString(o_).getValueByString(kx).toFloat()}getNormalizationAngleMaximumValue(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(zo).getValueByString(o_).getValueByString(Lx).toFloat()}getNormalizationAngleDefaultValue(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(zo).getValueByString(o_).getValueByString(Vx).toFloat()}getInputCount(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(Xl).getVector().getSize()}getInputWeight(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(Xl).getValueByIndex(n).getValueByString("Weight").toFloat()}getInputReflect(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(Xl).getValueByIndex(n).getValueByString(Bx).toBoolean()}getInputType(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(Xl).getValueByIndex(n).getValueByString("Type").getRawString()}getInputSourceId(e,n){return Ce.getIdManager().getId(this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(Xl).getValueByIndex(n).getValueByString("Source").getValueByString("Id").getRawString())}getOutputCount(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getVector().getSize()}getOutputVertexIndex(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getValueByIndex(n).getValueByString("VertexIndex").toInt()}getOutputAngleScale(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getValueByIndex(n).getValueByString("Scale").toFloat()}getOutputWeight(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getValueByIndex(n).getValueByString("Weight").toFloat()}getOutputDestinationId(e,n){return Ce.getIdManager().getId(this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getValueByIndex(n).getValueByString("Destination").getValueByString("Id").getRawString())}getOutputType(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getValueByIndex(n).getValueByString("Type").getRawString()}getOutputReflect(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(ns).getValueByIndex(n).getValueByString(Bx).toBoolean()}getParticleCount(e){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getVector().getSize()}getParticleMobility(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getValueByIndex(n).getValueByString("Mobility").toFloat()}getParticleDelay(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getValueByIndex(n).getValueByString("Delay").toFloat()}getParticleAcceleration(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getValueByIndex(n).getValueByString("Acceleration").toFloat()}getParticleRadius(e,n){return this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getValueByIndex(n).getValueByString("Radius").toFloat()}getParticlePosition(e,n){const r=new U(0,0);return r.x=this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getValueByIndex(n).getValueByString(Yl).getValueByString("X").toFloat(),r.y=this._json.getRoot().getValueByString(Ue).getValueByIndex(e).getValueByString(rs).getValueByIndex(n).getValueByString(Yl).getValueByString("Y").toFloat(),r}}var Hx,Yx,Xx;!function(t){t.CubismPhysicsJson=Ux}(Hx||(Hx={}));class Kl{constructor(){this._physicsRig=null,this._options=new qx,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}static create(e,n){const r=new Kl;return r.parse(e,n),r._physicsRig.gravity.y=0,r}static delete(e){null!=e&&(e.release(),e=null)}evaluate(e,n){let r,i,s,o;const a=new U;let l,u,c,d,h,f,g,p;h=e.getModel().parameters.values,f=e.getModel().parameters.maximumValues,g=e.getModel().parameters.minimumValues,p=e.getModel().parameters.defaultValues;for(let m=0;m<this._physicsRig.subRigCount;++m){r={angle:0},a.x=0,a.y=0,l=this._physicsRig.settings.at(m),u=this._physicsRig.inputs.get(l.baseInputIndex),c=this._physicsRig.outputs.get(l.baseOutputIndex),d=this._physicsRig.particles.get(l.baseParticleIndex);for(let _=0;_<l.inputCount;++_)i=u[_].weight/100,-1==u[_].sourceParameterIndex&&(u[_].sourceParameterIndex=e.getParameterIndex(u[_].source.id)),u[_].getNormalizedParameterValue(a,r,h[u[_].sourceParameterIndex],g[u[_].sourceParameterIndex],f[u[_].sourceParameterIndex],p[u[_].sourceParameterIndex],l.normalizationPosition,l.normalizationAngle,u[_].reflect,i);s=ue.degreesToRadian(-r.angle),a.x=a.x*ue.cos(s)-a.y*ue.sin(s),a.y=a.x*ue.sin(s)+a.y*ue.cos(s),I4(d,l.particleCount,a,r.angle,this._options.wind,.001*l.normalizationPosition.maximum,n,5);for(let _=0;_<l.outputCount;++_){const v=c[_].vertexIndex;if(v<1||v>=l.particleCount)break;-1==c[_].destinationParameterIndex&&(c[_].destinationParameterIndex=e.getParameterIndex(c[_].destination.id));const y=new U;y.x=d[v].position.x-d[v-1].position.x,y.y=d[v].position.y-d[v-1].position.y,o=c[_].getValue(y,d,v,c[_].reflect,this._options.gravity);const C=c[_].destinationParameterIndex,S=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(h.subarray(C))):h.slice(C);x4(S,g[C],f[C],o,c[_]);for(let se=C,_t=0;se<h.length;se++,_t++)h[se]=S[_t]}}}setOptions(e){this._options=e}getOption(){return this._options}release(){this._physicsRig=void 0,this._physicsRig=null}parse(e,n){this._physicsRig=new Ax;let r=new Ux(e,n);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,Ix,!0),this._physicsRig.inputs.updateSize(r.getTotalInputCount(),xx,!0),this._physicsRig.outputs.updateSize(r.getTotalOutputCount(),Tx,!0),this._physicsRig.particles.updateSize(r.getVertexCount(),Mx,!0);let i=0,s=0,o=0;for(let a=0;a<this._physicsRig.settings.getSize();++a){this._physicsRig.settings.at(a).normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(a),this._physicsRig.settings.at(a).normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(a),this._physicsRig.settings.at(a).normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(a),this._physicsRig.settings.at(a).normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(a),this._physicsRig.settings.at(a).normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(a),this._physicsRig.settings.at(a).normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(a),this._physicsRig.settings.at(a).inputCount=r.getInputCount(a),this._physicsRig.settings.at(a).baseInputIndex=i;for(let l=0;l<this._physicsRig.settings.at(a).inputCount;++l)this._physicsRig.inputs.at(i+l).sourceParameterIndex=-1,this._physicsRig.inputs.at(i+l).weight=r.getInputWeight(a,l),this._physicsRig.inputs.at(i+l).reflect=r.getInputReflect(a,l),"X"==r.getInputType(a,l)?(this._physicsRig.inputs.at(i+l).type=Er.CubismPhysicsSource_X,this._physicsRig.inputs.at(i+l).getNormalizedParameterValue=m4):"Y"==r.getInputType(a,l)?(this._physicsRig.inputs.at(i+l).type=Er.CubismPhysicsSource_Y,this._physicsRig.inputs.at(i+l).getNormalizedParameterValue=_4):"Angle"==r.getInputType(a,l)&&(this._physicsRig.inputs.at(i+l).type=Er.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(i+l).getNormalizedParameterValue=y4),this._physicsRig.inputs.at(i+l).source.targetType=Go.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(i+l).source.id=r.getInputSourceId(a,l);i+=this._physicsRig.settings.at(a).inputCount,this._physicsRig.settings.at(a).outputCount=r.getOutputCount(a),this._physicsRig.settings.at(a).baseOutputIndex=s;for(let l=0;l<this._physicsRig.settings.at(a).outputCount;++l)this._physicsRig.outputs.at(s+l).destinationParameterIndex=-1,this._physicsRig.outputs.at(s+l).vertexIndex=r.getOutputVertexIndex(a,l),this._physicsRig.outputs.at(s+l).angleScale=r.getOutputAngleScale(a,l),this._physicsRig.outputs.at(s+l).weight=r.getOutputWeight(a,l),this._physicsRig.outputs.at(s+l).destination.targetType=Go.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(s+l).destination.id=r.getOutputDestinationId(a,l),"X"==r.getOutputType(a,l)?(this._physicsRig.outputs.at(s+l).type=Er.CubismPhysicsSource_X,this._physicsRig.outputs.at(s+l).getValue=v4,this._physicsRig.outputs.at(s+l).getScale=b4):"Y"==r.getOutputType(a,l)?(this._physicsRig.outputs.at(s+l).type=Er.CubismPhysicsSource_Y,this._physicsRig.outputs.at(s+l).getValue=C4,this._physicsRig.outputs.at(s+l).getScale=S4):"Angle"==r.getOutputType(a,l)&&(this._physicsRig.outputs.at(s+l).type=Er.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(s+l).getValue=w4,this._physicsRig.outputs.at(s+l).getScale=M4),this._physicsRig.outputs.at(s+l).reflect=r.getOutputReflect(a,l);s+=this._physicsRig.settings.at(a).outputCount,this._physicsRig.settings.at(a).particleCount=r.getParticleCount(a),this._physicsRig.settings.at(a).baseParticleIndex=o;for(let l=0;l<this._physicsRig.settings.at(a).particleCount;++l)this._physicsRig.particles.at(o+l).mobility=r.getParticleMobility(a,l),this._physicsRig.particles.at(o+l).delay=r.getParticleDelay(a,l),this._physicsRig.particles.at(o+l).acceleration=r.getParticleAcceleration(a,l),this._physicsRig.particles.at(o+l).radius=r.getParticleRadius(a,l),this._physicsRig.particles.at(o+l).position=r.getParticlePosition(a,l);o+=this._physicsRig.settings.at(a).particleCount}this.initialize(),r.release(),r=void 0,r=null}initialize(){let e,n,r;for(let i=0;i<this._physicsRig.subRigCount;++i){n=this._physicsRig.settings.at(i),e=this._physicsRig.particles.get(n.baseParticleIndex),e[0].initialPosition=new U(0,0),e[0].lastPosition=new U(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new U(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new U(0,0),e[0].force=new U(0,0);for(let s=1;s<n.particleCount;++s)r=new U(0,0),r.y=e[s].radius,e[s].initialPosition=new U(e[s-1].initialPosition.x+r.x,e[s-1].initialPosition.y+r.y),e[s].position=new U(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastPosition=new U(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastGravity=new U(0,-1),e[s].lastGravity.y*=-1,e[s].velocity=new U(0,0),e[s].force=new U(0,0)}}}class qx{constructor(){this.gravity=new U(0,0),this.wind=new U(0,0)}}function m4(t,e,n,r,i,s,o,a,l,u){t.x+=a_(n,r,i,0,o.minimum,o.maximum,o.defalut,l)*u}function _4(t,e,n,r,i,s,o,a,l,u){t.y+=a_(n,r,i,0,o.minimum,o.maximum,o.defalut,l)*u}function y4(t,e,n,r,i,s,o,a,l,u){e.angle+=a_(n,r,i,0,a.minimum,a.maximum,a.defalut,l)*u}function v4(t,e,n,r,i){let s=t.x;return r&&(s*=-1),s}function C4(t,e,n,r,i){let s=t.y;return r&&(s*=-1),s}function w4(t,e,n,r,i){let s;return i=n>=2?e[n-1].position.substract(e[n-2].position):i.multiplyByScaler(-1),s=ue.directionToRadian(i,t),r&&(s*=-1),s}function b4(t,e){return JSON.parse(JSON.stringify(t.x))}function S4(t,e){return JSON.parse(JSON.stringify(t.y))}function M4(t,e){return JSON.parse(JSON.stringify(e))}function I4(t,e,n,r,i,s,o,a){let l,u,c,d,h=new U(0,0),f=new U(0,0),g=new U(0,0),p=new U(0,0);t[0].position=new U(n.x,n.y),l=ue.degreesToRadian(r),d=ue.radianToDirection(l),d.normalize();for(let m=1;m<e;++m)t[m].force=d.multiplyByScaler(t[m].acceleration).add(i),t[m].lastPosition=new U(t[m].position.x,t[m].position.y),u=t[m].delay*o*30,h=t[m].position.substract(t[m-1].position),c=ue.directionToRadian(t[m].lastGravity,d)/a,h.x=ue.cos(c)*h.x-h.y*ue.sin(c),h.y=ue.sin(c)*h.x+h.y*ue.cos(c),t[m].position=t[m-1].position.add(h),f=t[m].velocity.multiplyByScaler(u),g=t[m].force.multiplyByScaler(u).multiplyByScaler(u),t[m].position=t[m].position.add(f).add(g),p=t[m].position.substract(t[m-1].position),p.normalize(),t[m].position=t[m-1].position.add(p.multiplyByScaler(t[m].radius)),ue.abs(t[m].position.x)<s&&(t[m].position.x=0),0!=u&&(t[m].velocity=t[m].position.substract(t[m].lastPosition),t[m].velocity=t[m].velocity.divisionByScalar(u),t[m].velocity=t[m].velocity.multiplyByScaler(t[m].mobility)),t[m].force=new U(0,0),t[m].lastGravity=new U(d.x,d.y)}function x4(t,e,n,r,i){let s,o,a;s=i.getScale(i.translationScale,i.angleScale),o=r*s,o<e?(o<i.valueBelowMinimum&&(i.valueBelowMinimum=o),o=e):o>n&&(o>i.valueExceededMaximum&&(i.valueExceededMaximum=o),o=n),a=i.weight/100,a>=1||(o=t[0]*(1-a)+o*a),t[0]=o}function a_(t,e,n,r,i,s,o,a){let l=0;const u=ue.max(n,e);u<t&&(t=u);const c=ue.min(n,e);c>t&&(t=c);const d=ue.min(i,s),h=ue.max(i,s),f=o,g=function E4(t,e){return ue.min(t,e)+function D4(t,e){const n=ue.max(t,e),r=ue.min(t,e);return ue.abs(n-r)}(t,e)/2}(c,u),p=t-g;switch(function p4(t){let e=0;return t>0?e=1:t<0&&(e=-1),e}(p)){case 1:{const m=h-f,_=u-g;0!=_&&(l=p*(m/_),l+=f);break}case-1:{const m=d-f,_=c-g;0!=_&&(l=p*(m/_),l+=f);break}case 0:l=f}return a?l:-1*l}!function(t){t.CubismPhysics=Kl,t.Options=qx}(Yx||(Yx={}));class $d{constructor(e,n,r,i){this.x=e,this.y=n,this.width=r,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,n){this.x-=e,this.y-=n,this.width+=2*e,this.height+=2*n}}let is,Ql,u_;!function(t){t.csmRect=$d}(Xx||(Xx={}));class Gd{constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new re,this._clippingContextListForDraw=new re,this._channelColors=new re,this._tmpBoundsOnModel=new $d,this._tmpMatrix=new et,this._tmpMatrixForMask=new et,this._tmpMatrixForDraw=new et,this._maskTexture=null;let e=new Lo;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.pushBack(e),e=new Lo,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.pushBack(e),e=new Lo,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.pushBack(e),e=new Lo,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.pushBack(e)}getChannelFlagAsColor(e){return this._channelColors.at(e)}getMaskRenderTexture(){let e=0;if(this._maskTexture&&0!=this._maskTexture.texture&&(this._maskTexture.frameNo=this._currentFrameNo,e=this._maskTexture.texture),0==e){const n=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,n,n,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),e=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,u_),this._maskTexture=new Kx(this._currentFrameNo,e)}return e}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,n){let r=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MIN_VALUE;const a=n._clippedDrawableIndexList.length;for(let l=0;l<a;l++){const u=n._clippedDrawableIndexList[l],c=e.getDrawableVertexCount(u),d=e.getDrawableVertices(u);let h=Number.MAX_VALUE,f=Number.MAX_VALUE,g=Number.MIN_VALUE,p=Number.MIN_VALUE;const m=c*fi.vertexStep;for(let _=fi.vertexOffset;_<m;_+=fi.vertexStep){const v=d[_],y=d[_+1];v<h&&(h=v),v>g&&(g=v),y<f&&(f=y),y>p&&(p=y)}if(h!=Number.MAX_VALUE)if(h<r&&(r=h),f<i&&(i=f),g>s&&(s=g),p>o&&(o=p),r==Number.MAX_VALUE)n._allClippedDrawRect.x=0,n._allClippedDrawRect.y=0,n._allClippedDrawRect.width=0,n._allClippedDrawRect.height=0,n._isUsing=!1;else{n._isUsing=!0;const _=s-r,v=o-i;n._allClippedDrawRect.x=r,n._allClippedDrawRect.y=i,n._allClippedDrawRect.width=_,n._allClippedDrawRect.height=v}}}release(){for(let e=0;e<this._clippingContextListForMask.getSize();e++)this._clippingContextListForMask.at(e)&&(this._clippingContextListForMask.at(e).release(),this._clippingContextListForMask.set(e,void 0)),this._clippingContextListForMask.set(e,null);this._clippingContextListForMask=null;for(let e=0;e<this._clippingContextListForDraw.getSize();e++)this._clippingContextListForDraw.set(e,null);this._clippingContextListForDraw=null,this._maskTexture&&(this.gl.deleteFramebuffer(this._maskTexture.texture),this._maskTexture=null);for(let e=0;e<this._channelColors.getSize();e++)this._channelColors.set(e,null);this._channelColors=null,this.gl.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(e,n,r,i){for(let s=0;s<n;s++){if(i[s]<=0){this._clippingContextListForDraw.pushBack(null);continue}let o=this.findSameClip(r[s],i[s]);null==o&&(o=new Qx(this,r[s],i[s]),this._clippingContextListForMask.pushBack(o)),o.addClippedDrawable(s),this._clippingContextListForDraw.pushBack(o)}}setupClippingContext(e,n){this._currentFrameNo++;let r=0;for(let i=0;i<this._clippingContextListForMask.getSize();i++){const s=this._clippingContextListForMask.at(i);this.calcClippedDrawTotalBounds(e,s),s._isUsing&&r++}if(r>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),n.getMvpMatrix(),n.preDraw(),this.setupLayoutBounds(r),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let s=0;s<this._clippingContextListForMask.getSize();s++){const o=this._clippingContextListForMask.at(s),a=o._allClippedDrawRect,l=o._layoutBounds,u=.05;this._tmpBoundsOnModel.setRect(a),this._tmpBoundsOnModel.expand(a.width*u,a.height*u);const c=l.width/this._tmpBoundsOnModel.width,d=l.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(c,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(c,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),o._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),o._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const h=o._clippingIdCount;for(let f=0;f<h;f++){const g=o._clippingIdList[f];!e.getDrawableDynamicFlagVertexPositionsDidChange(g)||(n.setIsCulling(0!=e.getDrawableCulling(g)),n.setClippingContextBufferForMask(o),n.drawMesh(e.getDrawableTextureIndices(g),e.getDrawableVertexIndexCount(g),e.getDrawableVertexCount(g),e.getDrawableVertexIndices(g),e.getDrawableVertices(g),e.getDrawableVertexUvs(g),e.getDrawableOpacity(g),nr.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,u_),n.setClippingContextBufferForMask(null),this.gl.viewport(Ql[0],Ql[1],Ql[2],Ql[3])}}findSameClip(e,n){for(let r=0;r<this._clippingContextListForMask.getSize();r++){const i=this._clippingContextListForMask.at(r),s=i._clippingIdCount;if(s!=n)continue;let o=0;for(let a=0;a<s;a++){const l=i._clippingIdList[a];for(let u=0;u<s;u++)if(e[u]==l){o++;break}}if(o==s)return i}return null}setupLayoutBounds(e){let n=e/4,r=e%4;n=~~n,r=~~r;let i=0;for(let s=0;s<4;s++){const o=n+(s<r?1:0);if(0!=o)if(1==o){const a=this._clippingContextListForMask.at(i++);a._layoutChannelNo=s,a._layoutBounds.x=0,a._layoutBounds.y=0,a._layoutBounds.width=1,a._layoutBounds.height=1}else if(2==o)for(let a=0;a<o;a++){let l=a%2;l=~~l;const u=this._clippingContextListForMask.at(i++);u._layoutChannelNo=s,u._layoutBounds.x=.5*l,u._layoutBounds.y=0,u._layoutBounds.width=.5,u._layoutBounds.height=1}else if(o<=4)for(let a=0;a<o;a++){let l=a%2,u=a/2;l=~~l,u=~~u;const c=this._clippingContextListForMask.at(i++);c._layoutChannelNo=s,c._layoutBounds.x=.5*l,c._layoutBounds.y=.5*u,c._layoutBounds.width=.5,c._layoutBounds.height=.5}else if(o<=9)for(let a=0;a<o;a++){let l=a%3,u=a/3;l=~~l,u=~~u;const c=this._clippingContextListForMask.at(i++);c._layoutChannelNo=s,c._layoutBounds.x=l/3,c._layoutBounds.y=u/3,c._layoutBounds.width=1/3,c._layoutBounds.height=1/3}else Pn("not supported mask count : {0}",o)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class Kx{constructor(e,n){this.frameNo=e,this.texture=n}}class Qx{constructor(e,n,r){this._owner=e,this._clippingIdList=n,this._clippingIdCount=r,this._allClippedDrawRect=new $d,this._layoutBounds=new $d,this._clippedDrawableIndexList=[],this._matrixForMask=new et,this._matrixForDraw=new et}release(){null!=this._layoutBounds&&(this._layoutBounds=null),null!=this._allClippedDrawRect&&(this._allClippedDrawRect=null),null!=this._clippedDrawableIndexList&&(this._clippedDrawableIndexList=null)}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class Wo{constructor(){this._shaderSets=new re}static getInstance(){return null==is&&(is=new Wo),is}static deleteInstance(){is&&(is.release(),is=null)}release(){this.releaseShaderProgram()}setupShaderProgram(e,n,r,i,s,o,a,l,u,c,d,h,f){let g,p,m,_;if(d||Pn("NoPremultipliedAlpha is not allowed"),0==this._shaderSets.getSize()&&this.generateShaders(),null!=e.getClippingContextBufferForMask()){const v=this._shaderSets.at(yi.ShaderNames_SetupMask);this.gl.useProgram(v.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(v.samplerTexture0Location,0),null==a.vertex&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(v.attributePositionLocation),this.gl.vertexAttribPointer(v.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==a.uv&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(v.attributeTexCoordLocation),this.gl.vertexAttribPointer(v.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const y=e.getClippingContextBufferForMask()._layoutChannelNo,C=e.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(y);this.gl.uniform4f(v.uniformChannelFlagLocation,C.R,C.G,C.B,C.A),this.gl.uniformMatrix4fv(v.uniformClipMatrixLocation,!1,e.getClippingContextBufferForMask()._matrixForMask.getArray());const S=e.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(v.uniformBaseColorLocation,2*S.x-1,2*S.y-1,2*S.getRight()-1,2*S.getBottom()-1),g=this.gl.ZERO,p=this.gl.ONE_MINUS_SRC_COLOR,m=this.gl.ZERO,_=this.gl.ONE_MINUS_SRC_ALPHA}else{const v=null!=e.getClippingContextBufferForDraw(),y=v?f?2:1:0;let C=new c_;switch(u){case nr.CubismBlendMode_Normal:default:C=this._shaderSets.at(yi.ShaderNames_NormalPremultipliedAlpha+y),g=this.gl.ONE,p=this.gl.ONE_MINUS_SRC_ALPHA,m=this.gl.ONE,_=this.gl.ONE_MINUS_SRC_ALPHA;break;case nr.CubismBlendMode_Additive:C=this._shaderSets.at(yi.ShaderNames_AddPremultipliedAlpha+y),g=this.gl.ONE,p=this.gl.ONE,m=this.gl.ZERO,_=this.gl.ONE;break;case nr.CubismBlendMode_Multiplicative:C=this._shaderSets.at(yi.ShaderNames_MultPremultipliedAlpha+y),g=this.gl.DST_COLOR,p=this.gl.ONE_MINUS_SRC_ALPHA,m=this.gl.ZERO,_=this.gl.ONE}if(this.gl.useProgram(C.shaderProgram),null==a.vertex&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(C.attributePositionLocation),this.gl.vertexAttribPointer(C.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==a.uv&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(C.attributeTexCoordLocation),this.gl.vertexAttribPointer(C.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),v){this.gl.activeTexture(this.gl.TEXTURE1);const S=e.getClippingContextBufferForDraw().getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,S),this.gl.uniform1i(C.samplerTexture1Location,1),this.gl.uniformMatrix4fv(C.uniformClipMatrixLocation,!1,e.getClippingContextBufferForDraw()._matrixForDraw.getArray());const se=e.getClippingContextBufferForDraw()._layoutChannelNo,_t=e.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(se);this.gl.uniform4f(C.uniformChannelFlagLocation,_t.R,_t.G,_t.B,_t.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(C.samplerTexture0Location,0),this.gl.uniformMatrix4fv(C.uniformMatrixLocation,!1,h.getArray()),this.gl.uniform4f(C.uniformBaseColorLocation,c.R,c.G,c.B,c.A)}null==a.index&&(a.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(g,p,m,_)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.getSize();e++)this.gl.deleteProgram(this._shaderSets.at(e).shaderProgram),this._shaderSets.at(e).shaderProgram=0,this._shaderSets.set(e,void 0),this._shaderSets.set(e,null)}generateShaders(){for(let e=0;e<10;e++)this._shaderSets.pushBack(new c_);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(A4,P4),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(N4,R4),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(Zx,O4),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(Zx,F4),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor")}loadShaderProgram(e,n){let r=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return Pn("Vertex shader compile error!"),0;let s=this.compileShaderSource(this.gl.FRAGMENT_SHADER,n);return s?(this.gl.attachShader(r,i),this.gl.attachShader(r,s),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(s),r):(Pn("Failed to link program: {0}",r),this.gl.deleteShader(i),i=0,this.gl.deleteShader(s),s=0,r&&(this.gl.deleteProgram(r),r=0),0)):(Pn("Vertex shader compile error!"),0)}compileShaderSource(e,n){const r=n,i=this.gl.createShader(e);if(this.gl.shaderSource(i,r),this.gl.compileShader(i),!i){const o=this.gl.getShaderInfoLog(i);Pn("Shader compile log: {0} ",o)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}class c_{}var yi=(()=>(function(t){t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted"}(yi||(yi={})),yi))();const A4="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",P4="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",N4="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Zx="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",R4="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",O4="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",F4="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class d_ extends Pd{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new Gd,this.firstDraw=!0,this._textures=new ir,this._sortedDrawableIndexList=new re,this._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},this._textures.prepareCapacity(32,!0)}initialize(e){e.isUsingMasking()&&(this._clippingManager=new Gd,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts())),this._sortedDrawableIndexList.resize(e.getDrawableCount(),0),super.initialize(e)}bindTexture(e,n){this._textures.setValue(e,n)}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new Gd,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null}doDrawModel(){null!=this._clippingManager&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const e=this.getModel().getDrawableCount(),n=this.getModel().getDrawableRenderOrders();for(let r=0;r<e;++r)this._sortedDrawableIndexList.set(n[r],r);for(let r=0;r<e;++r){const i=this._sortedDrawableIndexList.at(r);!this.getModel().getDrawableDynamicFlagIsVisible(i)||(this.setClippingContextBufferForDraw(null!=this._clippingManager?this._clippingManager.getClippingContextListForDraw().at(i):null),this.setIsCulling(this.getModel().getDrawableCulling(i)),this.drawMesh(this.getModel().getDrawableTextureIndices(i),this.getModel().getDrawableVertexIndexCount(i),this.getModel().getDrawableVertexCount(i),this.getModel().getDrawableVertexIndices(i),this.getModel().getDrawableVertices(i),this.getModel().getDrawableVertexUvs(i),this.getModel().getDrawableOpacity(i),this.getModel().getDrawableBlendMode(i),this.getModel().getDrawableInvertedMaskBit(i)))}}drawMesh(e,n,r,i,s,o,a,l,u){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const c=this.getModelColor();let d;null==this.getClippingContextBufferForMask()&&(c.A*=a,this.isPremultipliedAlpha()&&(c.R*=c.A,c.G*=c.A,c.B*=c.A)),d=null!=this._textures.getValue(e)?this._textures.getValue(e):null,Wo.getInstance().setupShaderProgram(this,d,r,s,i,o,this._bufferData,a,l,c,this.isPremultipliedAlpha(),this.getMvpMatrix(),u),this.gl.drawElements(this.gl.TRIANGLES,n,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){Wo.deleteInstance()}setRenderState(e,n){u_=e,Ql=n}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager.setGL(e),Wo.getInstance().setGl(e)}}var Jx,tT,nT;Pd.staticRelease=()=>{d_.doStaticRelease()},function(t){t.CubismClippingContext=Qx,t.CubismClippingManager_WebGL=Gd,t.CubismRenderTextureResource=Kx,t.CubismRenderer_WebGL=d_,t.CubismShaderSet=c_,t.CubismShader_WebGL=Wo,t.ShaderNames=yi}(Jx||(Jx={}));class eT{constructor(e){this._model=e,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new re,this._parameterIds=new re,this._drawableIds=new re,this._partIds=new re,this._notExistPartId=new ir,this._notExistParameterId=new ir,this._notExistParameterValues=new ir,this._notExistPartOpacities=new ir}update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return null==this._model?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return null==this._model?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,n=this._savedParameters.getSize();for(let r=0;r<e;++r)r<n?this._savedParameters.set(r,this._parameterValues[r]):this._savedParameters.pushBack(this._parameterValues[r])}getModel(){return this._model}getPartIndex(e){let n;const r=this._model.parts.count;for(n=0;n<r;++n)if(e==this._partIds.at(n))return n;return this._notExistPartId.isExist(e)?this._notExistPartId.getValue(e):(n=r+this._notExistPartId.getSize(),this._notExistPartId.setValue(e,n),this._notExistPartOpacities.appendKey(n),n)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,n){this._notExistPartOpacities.isExist(e)?this._notExistPartOpacities.setValue(e,n):(Dr(0<=e&&e<this.getPartCount()),this._partOpacities[e]=n)}setPartOpacityById(e,n){const r=this.getPartIndex(e);r<0||this.setPartOpacityByIndex(r,n)}getPartOpacityByIndex(e){return this._notExistPartOpacities.isExist(e)?this._notExistPartOpacities.getValue(e):(Dr(0<=e&&e<this.getPartCount()),this._partOpacities[e])}getPartOpacityById(e){const n=this.getPartIndex(e);return n<0?0:this.getPartOpacityByIndex(n)}getParameterIndex(e){let n;const r=this._model.parameters.count;for(n=0;n<r;++n)if(e==this._parameterIds.at(n))return n;return this._notExistParameterId.isExist(e)?this._notExistParameterId.getValue(e):(n=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(e,n),this._notExistParameterValues.appendKey(n),n)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return this._notExistParameterValues.isExist(e)?this._notExistParameterValues.getValue(e):(Dr(0<=e&&e<this.getParameterCount()),this._parameterValues[e])}getParameterValueById(e){const n=this.getParameterIndex(e);return this.getParameterValueByIndex(n)}setParameterValueByIndex(e,n,r=1){this._notExistParameterValues.isExist(e)?this._notExistParameterValues.setValue(e,1==r?n:this._notExistParameterValues.getValue(e)*(1-r)+n*r):(Dr(0<=e&&e<this.getParameterCount()),this._model.parameters.maximumValues[e]<n&&(n=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>n&&(n=this._model.parameters.minimumValues[e]),this._parameterValues[e]=1==r?n:this._parameterValues[e]=this._parameterValues[e]*(1-r)+n*r)}setParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,n,r)}addParameterValueByIndex(e,n,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+n*r)}addParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,n,r)}multiplyParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,n,r)}multiplyParameterValueByIndex(e,n,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(n-1)*r))}getDrawableIndex(e){const n=this._model.drawables.count;for(let r=0;r<n;++r)if(this._drawableIds.at(r)==e)return r;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){const n=this._model.drawables.ids;return Ce.getIdManager().getId(n[e])}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(this._model.drawables.dynamicFlags[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableCulling(e){return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(this._model.drawables.constantFlags[e])}getDrawableBlendMode(e){const n=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(n[e])?nr.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(n[e])?nr.CubismBlendMode_Multiplicative:nr.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){return Live2DCubismCore.Utils.hasIsInvertedMaskBit(this._model.drawables.constantFlags[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){return Live2DCubismCore.Utils.hasIsVisibleBit(this._model.drawables.dynamicFlags[e])}getDrawableDynamicFlagVisibilityDidChange(e){return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(this._model.drawables.dynamicFlags[e])}getDrawableDynamicFlagOpacityDidChange(e){return Live2DCubismCore.Utils.hasOpacityDidChangeBit(this._model.drawables.dynamicFlags[e])}getDrawableDynamicFlagRenderOrderDidChange(e){return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(this._model.drawables.dynamicFlags[e])}loadParameters(){let e=this._model.parameters.count;const n=this._savedParameters.getSize();e>n&&(e=n);for(let r=0;r<e;++r)this._parameterValues[r]=this._savedParameters.at(r)}initialize(){Dr(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const e=this._model.parameters.ids,n=this._model.parameters.count;this._parameterIds.prepareCapacity(n);for(let r=0;r<n;++r)this._parameterIds.pushBack(Ce.getIdManager().getId(e[r]))}{const e=this._model.parts.ids,n=this._model.parts.count;this._partIds.prepareCapacity(n);for(let r=0;r<n;++r)this._partIds.pushBack(Ce.getIdManager().getId(e[r]))}{const e=this._model.drawables.ids,n=this._model.drawables.count;this._drawableIds.prepareCapacity(n);for(let r=0;r<n;++r)this._drawableIds.pushBack(Ce.getIdManager().getId(e[r]))}}release(){this._model.release(),this._model=null}}!function(t){t.CubismModel=eT}(tT||(tT={}));class zd{constructor(e){this._moc=e,this._modelCount=0}static create(e){let n=null;const r=Live2DCubismCore.Moc.fromArrayBuffer(e);return r&&(n=new zd(r)),n}static delete(e){e._moc._release(),e._moc=null,e=null}createModel(){let e=null;const n=Live2DCubismCore.Model.fromMoc(this._moc);return n&&(e=new eT(n),e.initialize(),++this._modelCount),e}deleteModel(e){null!=e&&(e.release(),e=null,--this._modelCount)}release(){Dr(0==this._modelCount),this._moc._release(),this._moc=null}}!function(t){t.CubismMoc=zd}(nT||(nT={}));const h_="UserData";class iT{constructor(e,n){this._json=At.create(e,n)}release(){At.delete(this._json)}getUserDataCount(){return this._json.getRoot().getValueByString("Meta").getValueByString("UserDataCount").toInt()}getTotalUserDataSize(){return this._json.getRoot().getValueByString("Meta").getValueByString("TotalUserDataSize").toInt()}getUserDataTargetType(e){return this._json.getRoot().getValueByString(h_).getValueByIndex(e).getValueByString("Target").getRawString()}getUserDataId(e){return Ce.getIdManager().getId(this._json.getRoot().getValueByString(h_).getValueByIndex(e).getValueByString("Id").getRawString())}getUserDataValue(e){return this._json.getRoot().getValueByString(h_).getValueByIndex(e).getValueByString("Value").getRawString()}}var sT,aT,lT;!function(t){t.CubismModelUserDataJson=iT}(sT||(sT={}));class oT{}class Zl{constructor(){this._userDataNodes=new re,this._artMeshUserDataNode=new re}static create(e,n){const r=new Zl;return r.parseUserData(e,n),r}static delete(e){null!=e&&(e.release(),e=null)}getArtMeshUserDatas(){return this._artMeshUserDataNode}parseUserData(e,n){let r=new iT(e,n);const i=Ce.getIdManager().getId("ArtMesh"),s=r.getUserDataCount();for(let o=0;o<s;o++){const a=new oT;a.targetId=r.getUserDataId(o),a.targetType=Ce.getIdManager().getId(r.getUserDataTargetType(o)),a.value=new An(r.getUserDataValue(o)),this._userDataNodes.pushBack(a),a.targetType==i&&this._artMeshUserDataNode.pushBack(a)}r.release(),r=void 0}release(){for(let e=0;e<this._userDataNodes.getSize();++e)this._userDataNodes.set(e,null);this._userDataNodes=null}}!function(t){t.CubismModelUserData=Zl,t.CubismModelUserDataNode=oT}(aT||(aT={}));class Wd{constructor(){this.loadMotion=(e,n,r,i)=>jd.create(e,n,i),this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._debugMode=!1,this._renderer=null,this._motionManager=new ql,this._motionManager.setEventCallback(Wd.cubismDefaultMotionEventCallback,this),this._expressionManager=new ql,this._dragManager=new ix}isInitialized(){return this._initialized}setInitialized(e){this._initialized=e}isUpdating(){return this._updating}setUpdating(e){this._updating=e}setDragging(e,n){this._dragManager.set(e,n)}setAcceleration(e,n,r){this._accelerationX=e,this._accelerationY=n,this._accelerationZ=r}getModelMatrix(){return this._modelMatrix}setOpacity(e){this._opacity=e}getOpacity(){return this._opacity}loadModel(e){this._moc=zd.create(e),this._model=this._moc.createModel(),this._model.saveParameters(),null!=this._moc&&null!=this._model?this._modelMatrix=new JI(this._model.getCanvasWidth(),this._model.getCanvasHeight()):Pn("Failed to CreateModel().")}loadExpression(e,n,r){return Ld.create(e,n)}loadPose(e,n){this._pose=Gl.create(e,n)}loadUserData(e,n){this._modelUserData=Zl.create(e,n)}loadPhysics(e,n){this._physics=Kl.create(e,n)}isHit(e,n,r){const i=this._model.getDrawableIndex(e);if(i<0)return!1;const s=this._model.getDrawableVertexCount(i),o=this._model.getDrawableVertices(i);let a=o[0],l=o[0],u=o[1],c=o[1];for(let f=1;f<s;++f){const g=o[fi.vertexOffset+f*fi.vertexStep],p=o[fi.vertexOffset+f*fi.vertexStep+1];g<a&&(a=g),g>l&&(l=g),p<u&&(u=p),p>c&&(c=p)}const d=this._modelMatrix.invertTransformX(n),h=this._modelMatrix.invertTransformY(r);return a<=d&&d<=l&&u<=h&&h<=c}getModel(){return this._model}getRenderer(){return this._renderer}createRenderer(){this._renderer&&this.deleteRenderer(),this._renderer=new d_,this._renderer.initialize(this._model)}deleteRenderer(){null!=this._renderer&&(this._renderer.release(),this._renderer=null)}motionEventFired(e){rr("{0}",e.s)}static cubismDefaultMotionEventCallback(e,n,r){r?.motionEventFired(n)}release(){null!=this._motionManager&&(this._motionManager.release(),this._motionManager=null),null!=this._expressionManager&&(this._expressionManager.release(),this._expressionManager=null),null!=this._moc&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,Gl.delete(this._pose),Qm.delete(this._eyeBlink),$l.delete(this._breath),this._dragManager=null,Kl.delete(this._physics),Zl.delete(this._modelUserData),this.deleteRenderer()}}!function(t){t.CubismUserModel=Wd}(lT||(lT={}));class Ee{static loadFileAsBytes(e,n){fetch(e).then(r=>r.arrayBuffer()).then(r=>n(r,r.byteLength))}static getDeltaTime(){return this.s_deltaTime}static updateTime(){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,this.s_lastFrame=this.s_currentFrame}static printMessage(e){console.log(e)}}function uT(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function cT(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){uT(s,r,i,o,a,"next",l)}function a(l){uT(s,r,i,o,a,"throw",l)}o(void 0)})}}Ee.lastUpdate=Date.now(),Ee.s_currentFrame=0,Ee.s_lastFrame=0,Ee.s_deltaTime=0;let qo=null;class f_{constructor(){this._loadFiletoBytes=(e,n)=>{this._byteReader._fileByte=e,this._byteReader._fileDataView=new DataView(this._byteReader._fileByte),this._byteReader._fileSize=n},this._pcmData=null,this._userTimeSeconds=0,this._lastRms=0,this._sampleOffset=0,this._wavFileInfo=new H4,this._byteReader=new $4}static getInstance(){return null==qo&&(qo=new f_),qo}static releaseInstance(){null!=qo&&(qo=void 0),qo=null}update(e){let n,r;if(null==this._pcmData||this._sampleOffset>=this._wavFileInfo._samplesPerChannel)return this._lastRms=0,!1;this._userTimeSeconds+=e,n=Math.floor(this._userTimeSeconds*this._wavFileInfo._samplingRate),n>this._wavFileInfo._samplesPerChannel&&(n=this._wavFileInfo._samplesPerChannel),r=0;for(let i=0;i<this._wavFileInfo._numberOfChannels;i++)for(let s=this._sampleOffset;s<n;s++){const o=this._pcmData[i][s];r+=o*o}return r=Math.sqrt(r/(this._wavFileInfo._numberOfChannels*(n-this._sampleOffset))),this._lastRms=r,this._sampleOffset=n,!0}start(e){this._sampleOffset=0,this._userTimeSeconds=0,this._lastRms=0,this.loadWavFile(e)}getRms(){return this._lastRms}loadWavFile(e){var n=this;let r=!1;null!=this._pcmData&&this.releasePcmData();const i=function(){var o=cT(function*(){return fetch(e).then(a=>a.arrayBuffer())});return function(){return o.apply(this,arguments)}}();return cT(function*(){if(n._byteReader._fileByte=yield i(),n._byteReader._fileDataView=new DataView(n._byteReader._fileByte),n._byteReader._fileSize=n._byteReader._fileByte.byteLength,n._byteReader._readOffset=0,null==n._byteReader._fileByte||n._byteReader._fileSize<4)return!1;n._wavFileInfo._fileName=e;try{if(!n._byteReader.getCheckSignature("RIFF"))throw r=!1,new Error('Cannot find Signeture "RIFF".');if(n._byteReader.get32LittleEndian(),!n._byteReader.getCheckSignature("WAVE"))throw r=!1,new Error('Cannot find Signeture "WAVE".');if(!n._byteReader.getCheckSignature("fmt "))throw r=!1,new Error('Cannot find Signeture "fmt".');const o=n._byteReader.get32LittleEndian();if(1!=n._byteReader.get16LittleEndian())throw r=!1,new Error("File is not linear PCM.");for(n._wavFileInfo._numberOfChannels=n._byteReader.get16LittleEndian(),n._wavFileInfo._samplingRate=n._byteReader.get32LittleEndian(),n._byteReader.get32LittleEndian(),n._byteReader.get16LittleEndian(),n._wavFileInfo._bitsPerSample=n._byteReader.get16LittleEndian(),o>16&&(n._byteReader._readOffset+=o-16);!n._byteReader.getCheckSignature("data")&&n._byteReader._readOffset<n._byteReader._fileSize;)n._byteReader._readOffset+=n._byteReader.get32LittleEndian()+4;if(n._byteReader._readOffset>=n._byteReader._fileSize)throw r=!1,new Error('Cannot find "data" Chunk.');{const a=n._byteReader.get32LittleEndian();n._wavFileInfo._samplesPerChannel=8*a/(n._wavFileInfo._bitsPerSample*n._wavFileInfo._numberOfChannels)}n._pcmData=new Array(n._wavFileInfo._numberOfChannels);for(let a=0;a<n._wavFileInfo._numberOfChannels;a++)n._pcmData[a]=new Float32Array(n._wavFileInfo._samplesPerChannel);for(let a=0;a<n._wavFileInfo._samplesPerChannel;a++)for(let l=0;l<n._wavFileInfo._numberOfChannels;l++)n._pcmData[l][a]=n.getPcmSample();r=!0}catch(o){console.log(o)}})(),r}getPcmSample(){let e;switch(this._wavFileInfo._bitsPerSample){case 8:e=this._byteReader.get8()-128,e<<=24;break;case 16:e=this._byteReader.get16LittleEndian()<<16;break;case 24:e=this._byteReader.get24LittleEndian()<<8;break;default:e=0}return e/2147483647}releasePcmData(){for(let e=0;e<this._wavFileInfo._numberOfChannels;e++)delete this._pcmData[e];delete this._pcmData,this._pcmData=null}}class H4{constructor(){this._fileName="",this._numberOfChannels=0,this._bitsPerSample=0,this._samplingRate=0,this._samplesPerChannel=0}}class $4{constructor(){this._fileByte=null,this._fileDataView=null,this._fileSize=0,this._readOffset=0}get8(){const e=this._fileDataView.getUint8(this._readOffset);return this._readOffset++,e}get16LittleEndian(){const e=this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=2,e}get24LittleEndian(){const e=this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=3,e}get32LittleEndian(){const e=this._fileDataView.getUint8(this._readOffset+3)<<24|this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=4,e}getCheckSignature(e){const n=new Uint8Array(4),r=(new TextEncoder).encode(e);if(4!=e.length)return!1;for(let i=0;i<4;i++)n[i]=this.get8();return n[0]==r[0]&&n[1]==r[1]&&n[2]==r[2]&&n[3]==r[3]}}var me=(()=>(function(t){t[t.LoadAssets=0]="LoadAssets",t[t.LoadModel=1]="LoadModel",t[t.WaitLoadModel=2]="WaitLoadModel",t[t.LoadExpression=3]="LoadExpression",t[t.WaitLoadExpression=4]="WaitLoadExpression",t[t.LoadPhysics=5]="LoadPhysics",t[t.WaitLoadPhysics=6]="WaitLoadPhysics",t[t.LoadPose=7]="LoadPose",t[t.WaitLoadPose=8]="WaitLoadPose",t[t.SetupEyeBlink=9]="SetupEyeBlink",t[t.SetupBreath=10]="SetupBreath",t[t.LoadUserData=11]="LoadUserData",t[t.WaitLoadUserData=12]="WaitLoadUserData",t[t.SetupEyeBlinkIds=13]="SetupEyeBlinkIds",t[t.SetupLipSyncIds=14]="SetupLipSyncIds",t[t.SetupLayout=15]="SetupLayout",t[t.LoadMotion=16]="LoadMotion",t[t.WaitLoadMotion=17]="WaitLoadMotion",t[t.CompleteInitialize=18]="CompleteInitialize",t[t.CompleteSetupModel=19]="CompleteSetupModel",t[t.LoadTexture=20]="LoadTexture",t[t.WaitLoadTexture=21]="WaitLoadTexture",t[t.CompleteSetup=22]="CompleteSetup"}(me||(me={})),me))();class dT extends Wd{constructor(e,n=!1){super(),this._showModel=n,this._eventCallback=e,this._isMotionCompleted=!1,this._modelSetting=null,this._modelHomeDir=null,this._userTimeSeconds=0,this._eyeBlinkIds=new re,this._lipSyncIds=new re,this._motions=new ir,this._expressions=new ir,this._hitArea=new re,this._userArea=new re,this._idParamAngleX=Ce.getIdManager().getId(P.ParamAngleX),this._idParamAngleY=Ce.getIdManager().getId(P.ParamAngleY),this._idParamAngleZ=Ce.getIdManager().getId(P.ParamAngleZ),this._idParamEyeBallX=Ce.getIdManager().getId(P.ParamEyeBallX),this._idParamEyeBallY=Ce.getIdManager().getId(P.ParamEyeBallY),this._idParamBodyAngleX=Ce.getIdManager().getId(P.ParamBodyAngleX),this._state=me.LoadAssets,this._expressionCount=0,this._textureCount=0,this._motionCount=0,this._allMotionCount=0,this._wavFileHandler=new f_,this._enaMotions=new ql,this._enaExpressions=new ql}get isModelShown(){return this._showModel}showModel(){this._showModel=!0}hideModel(){this._showModel=!1}loadAssets(e,n){this._modelHomeDir=e,fetch(`${this._modelHomeDir}${n}`).then(r=>r.arrayBuffer()).then(r=>{const i=new WI(r,r.byteLength);this._state=me.LoadModel,this.setupModel(i)})}setupModel(e){if(this._updating=!0,this._initialized=!1,this._modelSetting=e,""!=this._modelSetting.getModelFileName()){const h=this._modelSetting.getModelFileName();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadModel(f),this._state=me.LoadExpression,n()}),this._state=me.WaitLoadModel}else Ee.printMessage("Model data does not exist.");const n=()=>{if(this._modelSetting.getExpressionCount()>0){const h=this._modelSetting.getExpressionCount();for(let f=0;f<h;f++){const g=this._modelSetting.getExpressionName(f),p=this._modelSetting.getExpressionFileName(f);fetch(`${this._modelHomeDir}${p}`).then(m=>m.arrayBuffer()).then(m=>{const _=this.loadExpression(m,m.byteLength,g);null!=this._expressions.getValue(g)&&($o.delete(this._expressions.getValue(g)),this._expressions.setValue(g,null)),this._expressions.setValue(g,_),this._expressionCount++,this._expressionCount>=h&&(this._state=me.LoadPhysics,r())})}this._state=me.WaitLoadExpression}else this._state=me.LoadPhysics,r()},r=()=>{if(""!=this._modelSetting.getPhysicsFileName()){const h=this._modelSetting.getPhysicsFileName();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadPhysics(f,f.byteLength),this._state=me.LoadPose,i()}),this._state=me.WaitLoadPhysics}else this._state=me.LoadPose,i()},i=()=>{if(""!=this._modelSetting.getPoseFileName()){const h=this._modelSetting.getPoseFileName();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadPose(f,f.byteLength),this._state=me.SetupEyeBlink,s()}),this._state=me.WaitLoadPose}else this._state=me.SetupEyeBlink,s()},s=()=>{this._modelSetting.getEyeBlinkParameterCount()>0&&(this._eyeBlink=Qm.create(this._modelSetting),this._state=me.SetupBreath),o()},o=()=>{this._breath=$l.create();const h=new re;h.pushBack(new Ho(this._idParamAngleX,0,15,6.5345,.5)),h.pushBack(new Ho(this._idParamAngleY,0,8,3.5345,.5)),h.pushBack(new Ho(this._idParamAngleZ,0,10,5.5345,.5)),h.pushBack(new Ho(this._idParamBodyAngleX,0,4,15.5345,.5)),h.pushBack(new Ho(Ce.getIdManager().getId(P.ParamBreath),.5,.5,3.2345,1)),this._breath.setParameters(h),this._state=me.LoadUserData,a()},a=()=>{if(""!=this._modelSetting.getUserDataFile()){const h=this._modelSetting.getUserDataFile();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadUserData(f,f.byteLength),this._state=me.SetupEyeBlinkIds,l()}),this._state=me.WaitLoadUserData}else this._state=me.SetupEyeBlinkIds,l()},l=()=>{const h=this._modelSetting.getEyeBlinkParameterCount();for(let f=0;f<h;++f)this._eyeBlinkIds.pushBack(this._modelSetting.getEyeBlinkParameterId(f));this._state=me.SetupLipSyncIds,u()},u=()=>{const h=this._modelSetting.getLipSyncParameterCount();for(let f=0;f<h;++f)this._lipSyncIds.pushBack(this._modelSetting.getLipSyncParameterId(f));this._state=me.SetupLayout,c()},c=()=>{const h=new ir;this._modelSetting.getLayoutMap(h),this._modelMatrix.setupFromLayout(h),this._state=me.LoadMotion,d()},d=()=>{this._state=me.WaitLoadMotion,this._model.saveParameters(),this._allMotionCount=0,this._motionCount=0;const h=[],f=this._modelSetting.getMotionGroupCount();for(let g=0;g<f;g++)h[g]=this._modelSetting.getMotionGroupName(g),this._allMotionCount+=this._modelSetting.getMotionCount(h[g]);for(let g=0;g<f;g++)this.preLoadMotionGroup(h[g]);0==f&&(this._state=me.LoadTexture,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(x))}}setupTextures(){if(this._state==me.LoadTexture){const n=this._modelSetting.getTextureCount();for(let r=0;r<n;r++){if(""==this._modelSetting.getTextureFileName(r)){console.log("getTextureFileName null");continue}let i=this._modelSetting.getTextureFileName(r);i=this._modelHomeDir+i;const s=o=>{this.getRenderer().bindTexture(r,o.id),this._textureCount++,this._textureCount>=n&&(this._eventCallback(Yr.ModelLoaded),this._state=me.CompleteSetup)};Se.getInstance().getTextureManager().createTextureFromPngFile(i,!0,s),this.getRenderer().setIsPremultipliedAlpha(!0)}this._state=me.WaitLoadTexture}}reloadRenderer(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()}update(){let e=!1;const n=Ee.getDeltaTime();if(this._userTimeSeconds+=n,this._dragManager.update(n),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY(),!this._isMotionCompleted){if(this._state!=me.CompleteSetup)return;if(this._model.loadParameters(),this._motionManager.isFinished()||(e=this._motionManager.updateMotion(this._model,n)),this._model.saveParameters(),this._lipsync){let r=0;this._wavFileHandler.update(n),r=this._wavFileHandler.getRms();for(let i=0;i<this._lipSyncIds.getSize();++i)this._model.addParameterValueById(this._lipSyncIds.at(i),r,.8)}null!=this._pose&&this._pose.updateParameters(this._model,n),null!=this._breath&&this._breath.updateParameters(this._model,n),null!=this._physics&&this._physics.evaluate(this._model,n)}e||null!=this._eyeBlink&&this._eyeBlink.updateParameters(this._model,n),null!=this._expressionManager&&this._expressionManager.updateMotion(this._model,n),this._model.update()}startMotion(e,n,r,i){if(3==r)this._motionManager.setReservePriority(r);else if(!this._motionManager.reserveMotion(r))return this._debugMode&&Ee.printMessage("[APP]can't start motion."),Ud;const s=this._modelSetting.getMotionFileName(e,n);let a=this._motions.getValue(`${e}_${n}`),l=!1;null==a?fetch(`${this._modelHomeDir}${s}`).then(c=>c.arrayBuffer()).then(c=>{a=this.loadMotion(c,c.byteLength,null,i);let d=this._modelSetting.getMotionFadeInTimeValue(e,n);d>=0&&a.setFadeInTime(d),d=this._modelSetting.getMotionFadeOutTimeValue(e,n),d>=0&&a.setFadeOutTime(d),a.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),l=!0}):a.setFinishedMotionHandler(i);const u=this._modelSetting.getMotionSoundFileName(e,n);if(0!=u.localeCompare("")){let c=u;c=this._modelHomeDir+c,this._wavFileHandler.start(c)}return this._debugMode&&Ee.printMessage(`[APP]start motion: [${e}_${n}`),this._motionManager.startMotionPriority(a,l,r)}startRandomMotion(e,n,r){if(0==this._modelSetting.getMotionCount(e))return Ud;const i=Math.floor(Math.random()*this._modelSetting.getMotionCount(e));return this.startMotion(e,i,n,r)}setExpression(e){const n=this._expressions.getValue(e);this._debugMode&&Ee.printMessage(`[APP]expression: [${e}]`),null!=n?this._expressionManager.startMotionPriority(n,!1,3):this._debugMode&&Ee.printMessage(`[APP]expression[${e}] is null`)}setRandomExpression(){if(0==this._expressions.getSize())return;const e=Math.floor(Math.random()*this._expressions.getSize());for(let n=0;n<this._expressions.getSize();n++)if(n==e)return void this.setExpression(this._expressions._keyValues[n].first)}motionEventFired(e){rr("{0} is fired on LAppModel!!",e.s)}hitTest(e,n,r){return this._opacity<1||this._modelSetting.getHitAreasCount(),!1}preLoadMotionGroup(e){for(let n=0;n<this._modelSetting.getMotionCount(e);n++){const r=this._modelSetting.getMotionFileName(e,n),i=`${e}_${n}`;this._debugMode&&Ee.printMessage(`[APP]load motion: ${r} => [${i}]`),fetch(`${this._modelHomeDir}${r}`).then(s=>s.arrayBuffer()).then(s=>{const o=this.loadMotion(s,s.byteLength,i);let a=this._modelSetting.getMotionFadeInTimeValue(e,n);a>=0&&o.setFadeInTime(a),a=this._modelSetting.getMotionFadeOutTimeValue(e,n),a>=0&&o.setFadeOutTime(a),o.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),null!=this._motions.getValue(i)&&$o.delete(this._motions.getValue(i)),this._motions.setValue(i,o),this._motionCount++,this._motionCount>=this._allMotionCount&&(this._state=me.LoadTexture,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(x))})}}releaseMotions(){this._motions.clear()}releaseExpressions(){this._expressions.clear()}doDraw(){if(null==this._model)return;const e=[0,0,tt.width,tt.height];this.getRenderer().setRenderState(g_,e),this.getRenderer().drawModel()}draw(e){null!=this._model&&this._state==me.CompleteSetup&&(e.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(e),this.doDraw())}}let Yo=null;class br{constructor(e){this._finishedMotion=n=>{Ee.printMessage("Motion Finished:"),console.log(n)},this._eventCallback=e,this._viewMatrix=new et,this._models=new re,this._sceneIndex=0}static getInstance(e){return null==Yo&&(Yo=new br(e)),Yo}static releaseInstance(){null!=Yo&&(Yo=void 0),Yo=null}getModel(e){return e<this._models.getSize()?this._models.at(e):null}releaseAllModel(){for(let e=0;e<this._models.getSize();e++)this._models.at(e).release(),this._models.set(e,null);this._models.clear()}onDrag(e,n){for(let r=0;r<this._models.getSize();r++){const i=this.getModel(r);i&&i.setDragging(e,n)}}onTap(e,n){Ee.printMessage(`[APP]tap point: {x: ${e.toFixed(2)} y: ${n.toFixed(2)}}`);for(let r=0;r<this._models.getSize();r++)this._models.at(r).hitTest("Head",e,n)?(Ee.printMessage("[APP]hit area: [Head]"),this._models.at(r).setRandomExpression()):this._models.at(r).hitTest("Body",e,n)&&(Ee.printMessage("[APP]hit area: [Body]"),this._models.at(r).startRandomMotion("TapBody",2,this._finishedMotion))}onUpdate(){const{width:e,height:n}=tt,r=this._models.get().filter(i=>i.isModelShown).length;for(let i=0;i<r;++i){const s=new et,o=this.getModel(i);o.getModel()&&(o.getModel().getCanvasWidth()>1&&e<n?(o.getModelMatrix().setWidth(2),s.scale(1,e/n)):s.scale(n/e,1),o.getModelMatrix().setWidth(2.05),s.translate(0,-.15),s.translateRelative(0,-.15),2==r?(s.translate(0==i?-.15:.15,-.15),s.translateRelative(0==i?-.15:.15,-.15)):r>2&&(s.translate(.3*i-.3,-.15),s.translateRelative(.3*i-.3,-.15)),null!=this._viewMatrix&&s.multiplyByMatrix(this._viewMatrix)),o.update(),o.draw(s)}}nextScene(){this.changeScene((this._sceneIndex+1)%i8)}changeScene(e){this._sceneIndex=e,Ee.printMessage(`[APP]model index: ${this._sceneIndex}`);for(let n=0;n<Uo.length;n++){const i=FI+Uo[n]+"/";let s=Uo[n];s+=".model3.json",this._models.pushBack(new dT(this._eventCallback,!0)),this._models.at(n).loadAssets(i,s)}}loadModels(){for(let e=0;e<3;e++)Ee.printMessage(`[APP]model load: ${e}`),this.loadModel(Uo[e],e)}loadModel(e,n){const i=FI+e+"/";let s=e;s+=".model3.json",this._models.pushBack(new dT(this._eventCallback,!0)),this._models.at(this._models.getSize()-1).loadAssets(i,s)}setViewMatrix(e){for(let n=0;n<16;n++)this._viewMatrix.getArray()[n]=e.getArray()[n]}}class G4{constructor(){this._textures=new re}release(){for(let e=this._textures.begin();e.notEqual(this._textures.end());e.preIncrement())x.deleteTexture(e.ptr().id);this._textures=null}createTextureFromPngFile(e,n,r){for(let s=this._textures.begin();s.notEqual(this._textures.end());s.preIncrement())if(s.ptr().fileName==e&&s.ptr().usePremultply==n)return s.ptr().img=new Image,s.ptr().img.onload=()=>r(s.ptr()),void(s.ptr().img.src=e);const i=new Image;i.onload=()=>{const s=x.createTexture();x.bindTexture(x.TEXTURE_2D,s),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR_MIPMAP_LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR),n&&x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,i),x.generateMipmap(x.TEXTURE_2D),x.bindTexture(x.TEXTURE_2D,null);const o=new z4;null!=o&&(o.fileName=e,o.width=i.width,o.height=i.height,o.id=s,o.img=i,o.usePremultply=n,this._textures.pushBack(o)),r(o)},i.src=e}releaseTextures(){for(let e=0;e<this._textures.getSize();e++)this._textures.set(e,null);this._textures.clear()}releaseTextureByTexture(e){for(let n=0;n<this._textures.getSize();n++)if(this._textures.at(n).id==e){this._textures.set(n,null),this._textures.remove(n);break}}releaseTextureByFilePath(e){for(let n=0;n<this._textures.getSize();n++)if(this._textures.at(n).fileName==e){this._textures.set(n,null),this._textures.remove(n);break}}}class z4{constructor(){this.id=null,this.width=0,this.height=0}}class hT extends et{constructor(){super(),this._screenLeft=0,this._screenRight=0,this._screenTop=0,this._screenBottom=0,this._maxLeft=0,this._maxRight=0,this._maxTop=0,this._maxBottom=0,this._maxScale=0,this._minScale=0}adjustTranslate(e,n){this._tr[0]*this._maxLeft+(this._tr[12]+e)>this._screenLeft&&(e=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+e)<this._screenRight&&(e=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+n)<this._screenTop&&(n=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+n)>this._screenBottom&&(n=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]);et.multiply(r,this._tr,this._tr)}adjustScale(e,n,r){const i=this.getMaxScale(),s=this.getMinScale(),o=r*this._tr[0];o<s?this._tr[0]>0&&(r=s/this._tr[0]):o>i&&this._tr[0]>0&&(r=i/this._tr[0]);const a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]),l=new Float32Array([r,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-e,-n,0,1]);et.multiply(u,this._tr,this._tr),et.multiply(l,this._tr,this._tr),et.multiply(a,this._tr,this._tr)}setScreenRect(e,n,r,i){this._screenLeft=e,this._screenRight=n,this._screenBottom=r,this._screenTop=i}setMaxScreenRect(e,n,r,i){this._maxLeft=e,this._maxRight=n,this._maxTop=i,this._maxBottom=r}setMaxScale(e){this._maxScale=e}setMinScale(e){this._minScale=e}getMaxScale(){return this._maxScale}getMinScale(){return this._minScale}isMaxScale(){return this.getScaleX()>=this._maxScale}isMinScale(){return this.getScaleX()<=this._minScale}getScreenLeft(){return this._screenLeft}getScreenRight(){return this._screenRight}getScreenBottom(){return this._screenBottom}getScreenTop(){return this._screenTop}getMaxLeft(){return this._maxLeft}getMaxRight(){return this._maxRight}getMaxBottom(){return this._maxBottom}getMaxTop(){return this._maxTop}}var fT;!function(t){t.CubismViewMatrix=hT}(fT||(fT={}));class W4{constructor(){this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}getCenterX(){return this._lastX}getCenterY(){return this._lastY}getDeltaX(){return this._deltaX}getDeltaY(){return this._deltaY}getStartX(){return this._startX}getStartY(){return this._startY}getScale(){return this._scale}getX(){return this._lastX}getY(){return this._lastY}getX1(){return this._lastX1}getY1(){return this._lastY1}getX2(){return this._lastX2}getY2(){return this._lastY2}isSingleTouch(){return this._touchSingle}isFlickAvailable(){return this._flipAvailable}disableFlick(){this._flipAvailable=!1}touchesBegan(e,n){this._lastX=e,this._lastY=n,this._startX=e,this._startY=n,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0}touchesMoved(e,n){this._lastX=e,this._lastY=n,this._lastTouchDistance=-1,this._touchSingle=!0}getFlickDistance(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)}calculateDistance(e,n,r,i){return Math.sqrt((e-r)*(e-r)+(n-i)*(n-i))}calculateMovingAmount(e,n){if(e>0!=n>0)return 0;const r=e>0?1:-1,i=Math.abs(e),s=Math.abs(n);return r*(i<s?i:s)}}class q4{constructor(){this._programId=null,this._back=null,this._gear=null,this._touchManager=new W4,this._deviceToScreen=new et,this._viewMatrix=new hT}setEventCallback(e){this._eventCallback=e}initialize(){const{width:e,height:n}=tt,r=e/n,i=-r,s=r;if(this._viewMatrix.setScreenRect(i,s,-1,1),this._viewMatrix.scale(1,1),this._deviceToScreen.loadIdentity(),e>n){const l=Math.abs(s-i);this._deviceToScreen.scaleRelative(l/e,-l/e)}else{const l=Math.abs(2);this._deviceToScreen.scaleRelative(l/n,-l/n)}this._deviceToScreen.translateRelative(.5*-e,.5*-n),this._viewMatrix.setMaxScale(2),this._viewMatrix.setMinScale(.8),this._viewMatrix.setMaxScreenRect(-2,2,-2,2)}release(){this._viewMatrix=null,this._touchManager=null,this._deviceToScreen=null,x.deleteProgram(this._programId),this._programId=null}render(){x.useProgram(this._programId),x.flush();const e=br.getInstance();e.setViewMatrix(this._viewMatrix),e.onUpdate()}initializeSprite(){null==this._programId&&(this._programId=Se.getInstance().createShader())}onTouchesBegan(e,n){this._touchManager.touchesBegan(e,n)}onTouchesMoved(e,n){const r=this.transformViewX(this._touchManager.getX()),i=this.transformViewY(this._touchManager.getY());this._touchManager.touchesMoved(e,n),br.getInstance().onDrag(r,i)}onTouchesEnded(e,n){const r=br.getInstance();r.onDrag(0,0);{const i=this._deviceToScreen.transformX(this._touchManager.getX()),s=this._deviceToScreen.transformY(this._touchManager.getY());r.onTap(i,s)}}transformViewX(e){const n=this._deviceToScreen.transformX(e);return this._viewMatrix.invertTransformX(n)}transformViewY(e){const n=this._deviceToScreen.transformY(e);return this._viewMatrix.invertTransformY(n)}transformScreenX(e){return this._deviceToScreen.transformX(e)}transformScreenY(e){return this._deviceToScreen.transformY(e)}}let tt=null,ss=null,x=null,g_=null;class Se{constructor(){this._captured=!1,this._mouseX=0,this._mouseY=0,this._isEnd=!1,this._cubismOption=new Xz,this._view=new q4,this._textureManager=new G4}static getInstance(){return null==ss&&(ss=new Se),ss}changeMotion(e,n,r,i){br.getInstance().getModel(n).startRandomMotion(e,r??1,()=>{i&&i(),this._eventCallback(Yr.MotionCompleted)})}loadModel(e){br.getInstance().loadModel(Uo[e],e)}releaseModels(){br.getInstance().releaseAllModel(),this._eventCallback(Yr.ModelReleased)}static releaseInstance(){ss?.release(),ss=null}eventListener(e){this._eventCallback=e,this._view.setEventCallback(e)}initialize(){var e=document.getElementById("l2d-canvas");return tt=document.createElement("canvas"),tt.style.marginTop="5px",this._resizeCanvas(),x=tt.getContext("webgl",{alpha:!0})||tt.getContext("experimental-webgl"),x?(e.appendChild(tt),g_||(g_=x.getParameter(x.FRAMEBUFFER_BINDING)),x.enable(x.BLEND),x.blendFunc(x.SRC_ALPHA,x.ONE_MINUS_SRC_ALPHA),"ontouchend"in tt?(tt.ontouchstart=Q4,tt.ontouchmove=Z4,tt.ontouchend=J4,tt.ontouchcancel=e5):(tt.onmousedown=Y4,tt.onmousemove=X4,tt.onmouseup=K4),this._view.initialize(),this.initializeCubism(),!0):(alert("Cannot initialize WebGL. This browser does not support."),x=null,e.innerHTML="This browser does not support the <code>&lt;canvas&gt;</code> element.",!1)}onResize(){this._resizeCanvas(),this._view.initialize(),this._view.initializeSprite()}release(){this._textureManager.release(),this._textureManager=null,this._view.release(),this._view=null,br.releaseInstance(),Ce.dispose()}run(){const e=()=>{null!=ss&&(Ee.updateTime(),x.clearColor(0,0,0,0),x.enable(x.DEPTH_TEST),x.depthFunc(x.LEQUAL),x.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT),x.clearDepth(1),x.enable(x.BLEND),x.blendFunc(x.SRC_ALPHA,x.ONE_MINUS_SRC_ALPHA),x.enable(x.BLEND),x.blendFunc(x.SRC_ALPHA,x.ONE_MINUS_SRC_ALPHA),this._view.render(),requestAnimationFrame(e))};e()}createShader(){const e=x.createShader(x.VERTEX_SHADER);if(null==e)return Ee.printMessage("failed to create vertexShader"),null;x.shaderSource(e,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),x.compileShader(e);const r=x.createShader(x.FRAGMENT_SHADER);if(null==r)return Ee.printMessage("failed to create fragmentShader"),null;x.shaderSource(r,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),x.compileShader(r);const s=x.createProgram();return x.attachShader(s,e),x.attachShader(s,r),x.deleteShader(e),x.deleteShader(r),x.linkProgram(s),x.useProgram(s),s}getView(){return this._view}getTextureManager(){return this._textureManager}initializeCubism(){this._cubismOption.logFunction=Ee.printMessage,this._cubismOption.loggingLevel=u8,Ce.startUp(this._cubismOption),Ce.initialize(),br.getInstance(this._eventCallback),Ee.updateTime(),this._view.initializeSprite()}_resizeCanvas(){tt.width=window.innerWidth,tt.height=window.innerHeight-3.001}}function Y4(t){if(!Se.getInstance()._view)return void Ee.printMessage("view notfound");Se.getInstance()._captured=!0;const e=t.pageX,n=t.pageY;Se.getInstance()._view.onTouchesBegan(e,n)}function X4(t){if(!Se.getInstance()._captured)return;if(!Se.getInstance()._view)return void Ee.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top;Se.getInstance()._view.onTouchesMoved(n,r)}function K4(t){if(Se.getInstance()._captured=!1,!Se.getInstance()._view)return void Ee.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top;Se.getInstance()._view.onTouchesEnded(n,r)}function Q4(t){if(!Se.getInstance()._view)return void Ee.printMessage("view notfound");Se.getInstance()._captured=!0;const e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY;Se.getInstance()._view.onTouchesBegan(e,n)}function Z4(t){if(!Se.getInstance()._captured)return;if(!Se.getInstance()._view)return void Ee.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.changedTouches[0].clientX-e.left,r=t.changedTouches[0].clientY-e.top;Se.getInstance()._view.onTouchesMoved(n,r)}function J4(t){if(Se.getInstance()._captured=!1,!Se.getInstance()._view)return void Ee.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.changedTouches[0].clientX-e.left,r=t.changedTouches[0].clientY-e.top;Se.getInstance()._view.onTouchesEnded(n,r)}function e5(t){if(Se.getInstance()._captured=!1,!Se.getInstance()._view)return void Ee.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.changedTouches[0].clientX-e.left,r=t.changedTouches[0].clientY-e.top;Se.getInstance()._view.onTouchesEnded(n,r)}var p_;class ie{}p_=ie,ie.characterName="Honami",ie.portName=`${p_.characterName} (Emma-Kun)`,ie.character=$t.Honami,ie.directoryIndex=p_.character,ie.motions=new class n5{constructor(){this.happyGlad1="w-happy-glad01",this.cuteGlad1="w-cute-glad01",this.cuteShy1="w-cute-shy01",this.cutePoseNod1="w-cute-posenod01",this.cuteSmug1="w-cute-smug01"}},ie.expressions=new class t5{constructor(){this.sparkling="face_sparkling_01",this.smile1="face_smile_01",this.smile2="face_smile_02",this.closeEye2="face_closeeye_02"}};class b{constructor({index:e=0,character:n,motion:r,expression:i,triggeredText:s}){this._index=e,this._character=n,this._motion=r,this._expression=i,this._triggeredText=s,this._l2dDelegate=Se.getInstance()}get hasTriggeredText(){return null!=this._triggeredText}get characterIndex(){return this._index}get triggeredText(){return this._triggeredText}run(e){this.hasTriggeredText&&e?e.includes(this._triggeredText)&&this._runMotion():this._runMotion()}_runMotion(){this._l2dDelegate.changeMotion(this._expression,this._index??this._character,3),this._l2dDelegate.changeMotion(this._motion,this._index??this._character,3)}}class R{constructor({page:e,characterName:n,dialog:r,modelMotion:i,changeModels:s,modalContent:o}){this.currentDialog="",this._isMotionRunning=[],this._page=e,this.characterName=n,this._dialogArray=Array.from(r),this._dialogString=r,this._motion=i,this._changeModels=s,this._modalContent=o}get length(){return this._dialogArray.length}get fullDialog(){return this._dialogString}get page(){return this._page}get motionLength(){return this._motion.length}get hasChangeModels(){return null!=this._changeModels&&this._changeModels.length>0}get hasModalContents(){return null!=this._modalContent}get changeModelLength(){return this._changeModels?this._changeModels.length:0}getDialogChar(e){return this._dialogArray[e]}getModalContents(){return this._modalContent}runMotion(e){this._motion&&this._motion.length>0&&(e?this._motion[e].run():this._motion.filter(r=>!r.hasTriggeredText).forEach(r=>r.run()))}updateModels(){if(this.hasChangeModels){const e=Se.getInstance();e.releaseModels(),this._changeModels.forEach(n=>{e.loadModel(n)})}}dialogOnChange(){if(this._motion&&this._motion.filter(e=>e.hasTriggeredText).length>0){const e=this._motion.filter(n=>this.currentDialog.includes(n.triggeredText));if(e.length>0)for(let n=0;n<e.length;n++){const r=e[n];this._isMotionRunning.includes(r.characterIndex)||(this._isMotionRunning.push(r.characterIndex),e[n].run())}}}}let gT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:ie.portName,dialog:"Happy Birthday Akari!!! Sana ay masaya ka sa birthday mo. Pasensya kung kulang2x features\n        ng Project Akari: Birthday Stage! HAHAHA Ito lang nakayanan ni Emma xD.",changeModels:[ie.character],modelMotion:[new b({character:ie.character,motion:ie.motions.cuteGlad1,expression:ie.expressions.smile2}),new b({character:ie.character,motion:ie.motions.cuteShy1,expression:ie.expressions.smile1,triggeredText:"Stage!"})]})),this.dialogs.push(new R({page:2,characterName:ie.portName,dialog:"Sana ay makuha mo mga gusto mo sa buhay at si Ena Hihihi. Stay Healthy ka palagi kung hindi\n        matatalo na kita sa project sekai at kukunin ko trono mo xD",modelMotion:[new b({character:ie.character,motion:ie.motions.cutePoseNod1,expression:ie.expressions.sparkling}),new b({character:ie.character,motion:ie.motions.cuteSmug1,expression:ie.expressions.sparkling,triggeredText:"matatalo"})]}))}}return t.greetingId="emmakun",t})();var m_,__,pT,y_,v_,C_,w_,mT,D_,E_,b_;class nt{}m_=nt,nt.characterName="Akito",nt.portName=`${m_.characterName} (Doru)`,nt.character=$t.Akito,nt.directoryIndex=m_.character,nt.motions=new class i5{constructor(){this.adultTilthead0304="m-adultnormal-tilthead0304"}},nt.expressions=new class r5{constructor(){this.smile1="face_smile_01"}};class He{}__=He,He.characterName="An",He.portName=`${__.characterName} (Sham)`,He.character=$t.An,He.directoryIndex=__.character,He.motions=new class o5{constructor(){this.happyForward2="w-happy-forward02",this.coolNodTilthead0102="w-cool-nodtilthead0102"}},He.expressions=new class s5{constructor(){this.smile5="face_smile_05",this.sparkling="face_sparkling_01"}};class Re{}pT=Re,Re.characterName="Ena",Re.character=$t.Ena,Re.directoryIndex=pT.character,Re.motions=new class l5{constructor(){this.adultGlad1="w-adult-glad01",this.adultPoseTrouble="w-adult-posetrouble02",this.adultTilthead1="w-adult-tilthead01",this.cuteSmug1="w-cute-smug01",this.coolShakehand1="w-cool-shakehand01"}},Re.expressions=new class a5{constructor(){this.smile1="face_smile_01",this.smile5="face_smile_05",this.smile8="face_smile_08",this.Shy2="face_shy_02"}};class Me{}y_=Me,Me.characterName="Haruka",Me.portName=`${y_.characterName} (Juicy)`,Me.character=$t.Haruka,Me.directoryIndex=y_.character,Me.motions=new class c5{constructor(){this.coolBlushed1="w-cool-blushed01",this.coolNod1="w-cool-nod01",this.adultTilthead2="w-adult-tilthead02",this.cuteFidget1="w-cute-fidget01"}},Me.expressions=new class u5{constructor(){this.smile1="face_smile_01",this.shy1="face_shy_01",this.sparkling="face_sparkling_01"}};class de{}v_=de,de.characterName="Kaito",de.portName=`${v_.characterName} (Yuyan)`,de.character=$t.Kaito,de.directoryIndex=v_.character,de.motions=new class h5{constructor(){this.adultTilthead1="m-adult-tilthead01",this.normalShakehand1="m-normal-shakehand01",this.normalSmug1="m-normal-smug01",this.coolPlan1="m-cool-plan01"}},de.expressions=new class d5{constructor(){this.smile1="face_smile_01",this.smile2="face_smile_02",this.smile3="face_smile_03"}};class Ie{}C_=Ie,Ie.characterName="Kanade",Ie.portName=`${C_.characterName} (Asra)`,Ie.character=$t.Kanade,Ie.directoryIndex=C_.character,Ie.motions=new class g5{constructor(){this.animalTiltheadNod0101="w-animal-tiltheadnod0101",this.normalNod5="w-normal-nod05",this.cuteGlad5="w-cute-glad05"}},Ie.expressions=new class f5{constructor(){this.smile1="face_smile_01",this.smile5="face_smile_05",this.normal2="face_normal_02"}};class F{}w_=F,F.characterName="Luka",F.portName=`${w_.characterName} (Arya)`,F.character=$t.Luka,F.directoryIndex=w_.character,F.motions=new class m5{constructor(){this.coolPoseNod1="w-cool-posenod01",this.adultNod3="w-adult-nod03",this.adultTilthead2="w-adult-tilthead02",this.happyForward1="w-happy-forward01",this.happyShakehand1="w-happy-shakehand01"}},F.expressions=new class p5{constructor(){this.smile1="face_smile_01",this.darkSmile1="face_darksmile_01",this.sparkling="face_sparkling_01",this.sad2="face_sad_02"}};class ge{}mT=ge,ge.characterName="Mafuyu",ge.character=$t.Mafuyu,ge.directoryIndex=mT.character,ge.motions=new class y5{constructor(){this.coolPoseNod3="w-cool-posenod03",this.adultNod1="w-adult-nod01",this.happyPoseNode3="w-happy-posenod03",this.cutePoseTilthead4="w-cute-posetilthead04",this.cuteShakehead2="w-cute-shakehead02",this.cuteShakehead3="w-cute-shakehead03",this.cuteShakehand1="w-cool-shakehand01"}},ge.expressions=new class _5{constructor(){this.normal1="face_normal_01",this.smile1="face_smile_01",this.smile3="face_smile_03",this.smile4="face_smile_04",this.smile5="face_smile_05",this.darkSmile2="face_darksmile_02",this.shy2="face_shy_02"}};class K{}D_=K,K.characterName="Shizuku",K.portName=`${D_.characterName} (Jikan)`,K.character=$t.Shizuku,K.directoryIndex=D_.character,K.motions=new class C5{constructor(){this.happyTilthead1="w-happy-tilthead01",this.coolTilthead2="w-cool-tilthead02",this.adultNod3="w-adult-nod03",this.adultBlushed3="w-adult-blushed03"}},K.expressions=new class v5{constructor(){this.smile1="face_smile_01",this.smile2="face_smile_02",this.smile5="face_smile_05",this.sparkling1="face_sparkling_01"}};class N{}E_=N,N.characterName="Touya",N.portName=`${E_.characterName} (Sky)`,N.character=$t.Touya,N.directoryIndex=E_.character,N.motions=new class D5{constructor(){this.adultTilthead1="m-adult-tilthead01",this.adultTilthead0304="m-adultnormal-tilthead0304",this.coolTilthead1="m-cool-tilthead01",this.coolTrouble1="m-cool-trouble01",this.coolThink2="m-cool-think02"}},N.expressions=new class w5{constructor(){this.smile1="face_smile_01",this.smile3="face_smile_03",this.normal1="face_normal_01",this.sad2="face_sad_02"}};class rt{}b_=rt,rt.characterName="Tsukasa",rt.portName=`${b_.characterName} (Bene)`,rt.character=$t.Tsukasa,rt.directoryIndex=b_.character,rt.motions=new class b5{constructor(){this.adultTilthead2="m-adult-tilthead02",this.lookup1="m-tsukasa-lookup01",this.adultTilthead1="m-adult-tilthead01"}},rt.expressions=new class E5{constructor(){this.smile2="face_smile_02",this.smile6="face_smile_06",this.sad1="face_sad_01"}};class Qe{constructor({title:e,isImage:n=!0,isEmbed:r=!1,isPortrait:i,link:s}){this._modalTitle=e,this._isImage=n&&!r,this._isEmbed=r,this._isPortrait=i,this._link=s}get title(){return this._modalTitle}get isImage(){return this._isImage}get isEmbed(){return this._isEmbed}get isPortrait(){return this._isPortrait}get link(){return this._link}buildEmbed(e,n=!0){const r=document.createElement("iframe");return r.src=this.link,n&&(r.style.display="none"),e.append(r),r}buildImage(e,n=!0){const r=document.createElement("img");return r.src=this.link,n&&(r.style.display="none"),e.append(r),r}}let _T=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:K.portName,dialog:"Happy birthday Akarin!! Sana ay mabuhay ka pa nang matagal and enjoy your life to the fullest!\n       alam kong super bait mo kaya you deserve all the good things in life and",changeModels:[K.character],modelMotion:[new b({character:K.character,motion:K.motions.happyTilthead1,expression:K.expressions.smile1}),new b({character:K.character,motion:K.motions.coolTilthead2,expression:K.expressions.smile1,triggeredText:"alam kong"})]})),this.dialogs.push(new R({page:2,characterName:K.portName,dialog:"hope that never a bad day approach you though it's impossible but I hope the world will be always gentle to you.",modelMotion:[new b({character:K.character,motion:K.motions.adultNod3,expression:K.expressions.smile5})]})),this.dialogs.push(new R({page:3,characterName:K.portName,dialog:" Enjoy your day and always take care of yourself <3 I love you! And always know you have me\n        and Port Caf\xe9 always. *Shows you a picture of both of you together and a cover song*",modelMotion:[new b({character:K.character,motion:K.motions.adultBlushed3,expression:K.expressions.sparkling1})],modalContent:[new Qe({title:"Jikan",isPortrait:!1,link:"assets/img/greetings/jikan/genshin.png"}),new Qe({title:"Jikan",isPortrait:!1,isEmbed:!0,link:"https://www.youtube.com/embed/Fn-Y7Pl61Uw"})]}))}}return t.greetingId="jikan",t})(),yT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:Me.portName,dialog:"Happy Birthday Akari. *Shows you a birthday card and\n        an art*",changeModels:[Me.character],modelMotion:[new b({character:Me.character,motion:Me.motions.cuteFidget1,expression:Me.expressions.shy1})],modalContent:[new Qe({title:"Juicy",isPortrait:!0,link:"assets/img/greetings/juicy/greeting.png"}),new Qe({title:"Juicy",isPortrait:!1,link:"assets/img/greetings/juicy/art.png"})]}))}}return t.greetingId="juicy",t})(),vT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:nt.portName,dialog:"Happy Birthday Akarin! *Shows you a picture message*",changeModels:[nt.character],modelMotion:[new b({character:nt.character,motion:nt.motions.adultTilthead0304,expression:nt.expressions.smile1})],modalContent:[new Qe({title:"Doru",isPortrait:!1,link:"assets/img/greetings/doru/greeting.jpg"})]}))}}return t.greetingId="doru",t})(),CT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:He.portName,dialog:"Hallo ate Koharu my project sekai buddy!! Happy happy birthday!!!\n        I wuv u!!! Sana ay mag enjoy k sa iyong kaarawan!!!! *Shows you a drawing*",changeModels:[He.character],modelMotion:[new b({character:He.character,motion:He.motions.coolNodTilthead0102,expression:He.expressions.smile5})],modalContent:[new Qe({title:"Sham",isPortrait:!0,link:"assets/img/greetings/sham/art.png"})]}))}}return t.greetingId="sham",t})(),wT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:N.portName,dialog:"Happy Birthday Akari! Thanks for being such a good friend.\n        Palagi kang nandyan para makinig sa mga problema ko at palagi mo akong sinasamahan sa mga laro. ",changeModels:[N.character],modelMotion:[new b({character:N.character,motion:N.motions.coolTilthead1,expression:N.expressions.normal1}),new b({character:N.character,motion:N.motions.adultTilthead0304,expression:N.expressions.smile1,triggeredText:"Palagi kang"})]})),this.dialogs.push(new R({page:2,characterName:N.portName,dialog:"Thank you kasi palagi mong sinasabayan mga trip ko at mga plans ko katulad nung sa party natin sa Port.\n        Wish ko na sana mas alagaan mo na sarili mo.",modelMotion:[new b({character:N.character,motion:N.motions.coolThink2,expression:N.expressions.smile3})]})),this.dialogs.push(new R({page:3,characterName:N.portName,dialog:"Nakakabahala kayo palagi sa Port pag may nagkakasakit dahil sa kakapuyat niyo or dahil\n        hindi kayo kumakain nang maayos. Wag masyadong matigas ang ulo!",modelMotion:[new b({character:N.character,motion:N.motions.coolTrouble1,expression:N.expressions.sad2})]})),this.dialogs.push(new R({page:4,characterName:N.portName,dialog:"Enjoy your day! More birthdays and more games to come. God Bless! Lablab! *Shows you a video*",modelMotion:[new b({character:N.character,motion:N.motions.adultTilthead1,expression:N.expressions.smile1})],modalContent:[new Qe({title:"Sky",isPortrait:!1,isEmbed:!0,link:"https://www.youtube.com/embed/EK1tzFAiBuc"})]}))}}return t.greetingId="sky",t})(),DT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:rt.portName,dialog:'"Happy birthday AKARIN!!! Hope na makuha mo lahat ng mga gusto mo sa buhay pati si SUI-CHAN XDDDD!\n        and MBTC! Greet muna ngayon ha! bawi ako pag di na busy" - Pogi pero Gwapo (Bene)',changeModels:[rt.character],modelMotion:[new b({character:rt.character,motion:rt.motions.lookup1,expression:rt.expressions.smile6})]}))}}return t.greetingId="bene",t})(),ET=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:Ie.portName,dialog:"Happy birthday, Akarin! Sana nagustuhan mo yung skin na ginawa ko sa OC mo hehe \u{1f642} nag-improvise nako,\n      shoulder bust lang yon eh :PepeLaugh:",changeModels:[Ie.character],modelMotion:[new b({character:Ie.character,motion:Ie.motions.normalNod5,expression:Ie.expressions.normal2})]})),this.dialogs.push(new R({page:2,characterName:Ie.portName,dialog:"I hope you enjoy your day to the fullest, and more birthdays to come!",modelMotion:[new b({character:Ie.character,motion:Ie.motions.cuteGlad5,expression:Ie.expressions.smile5})],modalContent:[new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc.png"}),new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc2.png"}),new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc3.png"}),new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc4.png"})]}))}}return t.greetingId="asra",t})(),bT=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:F.portName,dialog:"Are you enjoying your day so far? Know this, superstar\n        A wonderful day still awaits you Right now is a grand moment for you\n        I wish you a great day and happy birthday",changeModels:[F.character],modelMotion:[new b({character:F.character,motion:F.motions.adultTilthead2,expression:F.expressions.smile1})]}))}}return t.greetingId="arya",t})(),ST=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:de.portName,dialog:"Happy Birthday Akariiiiiiiiin. Sana maging happy ang\n        araw mo today at wag ka pa stress sa work. Abusuhin ang VL\n        if ma pwede gashaahs chz",changeModels:[de.character],modelMotion:[new b({character:de.character,motion:de.motions.normalSmug1,expression:de.expressions.smile1}),new b({character:de.character,motion:de.motions.adultTilthead1,expression:de.expressions.smile3,triggeredText:"Abusuhin"})]}))}}return t.greetingId="yuyan",t})();class MT{static getGreeting(e){const n=this._greetings.filter(r=>r.greetingId==e);return n.length>0?n[0]:null}}function M5(t,e){if(1&t){const n=mr();H(0,"app-modal",7),De("onClose",function(){return Bn(n),jn(xt().modalOnClose())}),te()}2&t&&fe("modalContents",xt().dialog.getModalContents())}MT._greetings=[new class S5{constructor(){this.dialogs=[],this.greetingId="intro",this._initDialog()}getDialog(e){return this.dialogs.filter(n=>n.page==e)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:"Everyone",dialog:"Happy Birthday Akari!!!",changeModels:[Re.character,F.character,ge.character],modelMotion:[new b({index:0,character:Re.character,motion:Re.motions.adultGlad1,expression:Re.expressions.smile1}),new b({index:1,character:F.character,motion:F.motions.coolPoseNod1,expression:F.expressions.smile1}),new b({index:2,character:ge.character,motion:ge.motions.coolPoseNod3,expression:ge.expressions.smile1})]})),this.dialogs.push(new R({page:2,characterName:Re.characterName,dialog:"It's our first time celebrating Akari's birthday together.",modelMotion:[new b({index:0,character:Re.character,motion:Re.motions.adultTilthead1,expression:Re.expressions.smile5}),new b({index:1,character:F.character,motion:F.motions.adultNod3,expression:F.expressions.sparkling}),new b({index:2,character:ge.character,motion:ge.motions.adultNod1,expression:ge.expressions.smile3})]})),this.dialogs.push(new R({page:3,characterName:F.characterName,dialog:"Yeah, It's kind of sad that we didn't met Akari back then.",modelMotion:[new b({index:1,character:F.character,motion:F.motions.adultTilthead2,expression:F.expressions.sad2})]})),this.dialogs.push(new R({page:4,characterName:ge.characterName,dialog:"By the way, Honami told me the other day that she was about to cry when she didn't get my card. Fufu",modelMotion:[new b({index:0,character:Re.character,motion:Re.motions.cuteSmug1,expression:Re.expressions.smile8}),new b({index:1,character:F.character,motion:F.motions.happyForward1,expression:F.expressions.darkSmile1}),new b({index:2,character:ge.character,motion:ge.motions.happyPoseNode3,expression:ge.expressions.darkSmile2})]})),this.dialogs.push(new R({page:5,characterName:ge.characterName,dialog:"I hope you will get my card on your birthday. Why don't you\n        try to pull right now Akari? Hehehe",modelMotion:[new b({index:2,character:ge.character,motion:ge.motions.cutePoseTilthead4,expression:ge.expressions.smile4}),new b({index:2,character:ge.character,motion:ge.motions.cuteShakehead3,expression:ge.expressions.smile5,triggeredText:"pull"})]})),this.dialogs.push(new R({page:6,characterName:F.characterName,dialog:"Oh. Everyone is here!",modelMotion:[new b({index:0,character:Re.character,motion:Re.motions.coolShakehand1,expression:Re.expressions.smile1}),new b({index:1,character:F.character,motion:F.motions.happyShakehand1,expression:F.expressions.sparkling}),new b({index:2,character:ge.character,motion:ge.motions.cuteShakehand1,expression:ge.expressions.shy2})]})),this.dialogs.push(new R({page:7,characterName:"Everyone",dialog:"Happy Birthday Akari!!",changeModels:[Me.character,He.character,ie.character],modelMotion:[new b({index:0,character:Me.character,motion:Me.motions.coolBlushed1,expression:Me.expressions.sparkling}),new b({index:1,character:He.character,motion:He.motions.happyForward2,expression:He.expressions.sparkling}),new b({index:2,character:ie.character,motion:ie.motions.happyGlad1,expression:ie.expressions.sparkling})]})),this.dialogs.push(new R({page:8,characterName:"Everyone",dialog:"Happy Birthday Akari!!",changeModels:[nt.character,N.character,rt.character],modelMotion:[new b({index:0,character:nt.character,motion:nt.motions.adultTilthead0304,expression:nt.expressions.smile1}),new b({index:1,character:N.character,motion:N.motions.adultTilthead1,expression:N.expressions.smile1}),new b({index:2,character:rt.character,motion:rt.motions.adultTilthead2,expression:rt.expressions.smile2})]})),this.dialogs.push(new R({page:9,characterName:"Everyone",dialog:"Happy Birthday Akari!!",changeModels:[Ie.character,de.character,K.character],modelMotion:[new b({index:0,character:Ie.character,motion:Ie.motions.animalTiltheadNod0101,expression:Ie.expressions.smile1}),new b({index:1,character:de.character,motion:de.motions.adultTilthead1,expression:de.expressions.smile2}),new b({index:2,character:K.character,motion:K.motions.happyTilthead1,expression:K.expressions.smile1})]})),this.dialogs.push(new R({page:10,characterName:F.characterName,dialog:"Since everyone is here, why don't we read our greetings to\n        Akari? then, I will start first.",changeModels:[F.character],modelMotion:[new b({index:0,character:F.character,motion:F.motions.adultNod3,expression:F.expressions.smile1})]})),this.dialogs.push(new R({page:11,characterName:F.portName,dialog:'"Are you enjoying your day so far? Know this, superstar\n        A wonderful day still awaits you Right now is a grand moment for you\n        I wish you a great day and happy birthday" - Arya',modelMotion:[new b({character:F.character,motion:F.motions.adultTilthead2,expression:F.expressions.smile1})]})),this.dialogs.push(new R({page:12,characterName:F.characterName,dialog:"I'm done reading mine. Who's next?",modelMotion:[new b({character:F.character,motion:F.motions.coolPoseNod1,expression:F.expressions.smile1})]})),this.dialogs.push(new R({page:13,characterName:de.characterName,dialog:"Me.",changeModels:[de.character],modelMotion:[new b({character:de.character,motion:de.motions.normalShakehand1,expression:de.expressions.smile3})]})),this.dialogs.push(new R({page:14,characterName:de.portName,dialog:'"Happy Birthday Akariiiiiiiiin. Sana maging happy ang\n        araw mo today at wag ka pa stress sa work. Abusuhin ang VL\n        if ma pwede gashaahs chz" - Yuyan',modelMotion:[new b({character:de.character,motion:de.motions.normalSmug1,expression:de.expressions.smile1}),new b({character:de.character,motion:de.motions.adultTilthead1,expression:de.expressions.smile3,triggeredText:"Abusuhin"})]})),this.dialogs.push(new R({page:15,characterName:de.characterName,dialog:"That's all.",modelMotion:[new b({character:de.character,motion:de.motions.adultTilthead1,expression:de.expressions.smile1})]})),this.dialogs.push(new R({page:16,characterName:Me.characterName,dialog:"Then I'm next.",changeModels:[Me.character],modelMotion:[new b({character:Me.character,motion:Me.motions.coolBlushed1,expression:Me.expressions.smile1})]})),this.dialogs.push(new R({page:17,characterName:Me.portName,dialog:"Happy Birthday Akari. *Shows you a birthday card and\n        a drawing*",modelMotion:[new b({character:Me.character,motion:Me.motions.cuteFidget1,expression:Me.expressions.shy1})],modalContent:[new Qe({title:"Juicy",isPortrait:!0,link:"assets/img/greetings/juicy/greeting.png"}),new Qe({title:"Juicy",isPortrait:!1,link:"assets/img/greetings/juicy/art.png"})]})),this.dialogs.push(new R({page:18,characterName:Me.characterName,dialog:"I'm done.",modelMotion:[new b({character:Me.character,motion:Me.motions.coolNod1,expression:Me.expressions.smile1})]})),this.dialogs.push(new R({page:19,characterName:He.portName,dialog:'I\'m next. "Hallo ate Koharu my project sekai buddy!! Happy happy birthday!!!\n        I wuv u!!! Sana ay mag enjoy k sa iyong kaarawan!!!!" - Sham. *Shows you a drawing*',changeModels:[He.character],modelMotion:[new b({character:He.character,motion:He.motions.coolNodTilthead0102,expression:He.expressions.smile5})],modalContent:[new Qe({title:"Sham",isPortrait:!0,link:"assets/img/greetings/sham/art.png"})]})),this.dialogs.push(new R({page:20,characterName:He.characterName,dialog:"I'm done.",modelMotion:[new b({character:He.character,motion:He.motions.happyForward2,expression:He.expressions.smile5})]})),this.dialogs.push(new R({page:21,characterName:N.portName,dialog:"Oh It's my turn. \"Happy Birthday Akari! Thanks for being such a good friend.\n        Palagi kang nandyan para makinig sa mga problema ko at palagi mo akong sinasamahan sa mga laro. ",changeModels:[N.character],modelMotion:[new b({character:N.character,motion:N.motions.coolTilthead1,expression:N.expressions.normal1}),new b({character:N.character,motion:N.motions.adultTilthead0304,expression:N.expressions.smile1,triggeredText:"Palagi kang"})]})),this.dialogs.push(new R({page:22,characterName:N.portName,dialog:"Thank you kasi palagi mong sinasabayan mga trip ko at mga plans ko katulad nung sa party natin sa Port.\n        Wish ko na sana mas alagaan mo na sarili mo.",modelMotion:[new b({character:N.character,motion:N.motions.coolThink2,expression:N.expressions.smile3})]})),this.dialogs.push(new R({page:23,characterName:N.portName,dialog:"Nakakabahala kayo palagi sa Port pag may nagkakasakit dahil sa kakapuyat niyo or dahil\n        hindi kayo kumakain nang maayos. Wag masyadong matigas ang ulo!",modelMotion:[new b({character:N.character,motion:N.motions.coolTrouble1,expression:N.expressions.sad2})]})),this.dialogs.push(new R({page:24,characterName:N.portName,dialog:'Enjoy your day! More birthdays and more games to come. God Bless! Lablab!" - From your Anghel Friend.\n        *Shows you a video from Sky*',modelMotion:[new b({character:N.character,motion:N.motions.adultTilthead1,expression:N.expressions.smile1})],modalContent:[new Qe({title:"Sky",isPortrait:!1,isEmbed:!0,link:"https://www.youtube.com/embed/EK1tzFAiBuc"})]})),this.dialogs.push(new R({page:25,characterName:N.characterName,dialog:"That's all.",modelMotion:[new b({character:N.character,motion:N.motions.coolTilthead1,expression:N.expressions.smile3})]})),this.dialogs.push(new R({page:26,characterName:K.portName,dialog:'My turn. "Happy birthday Akarin!! Sana ay mabuhay ka pa nang matagal and enjoy your life to the fullest!\n       alam kong super bait mo kaya you deserve all the good things in life and',changeModels:[K.character],modelMotion:[new b({character:K.character,motion:K.motions.happyTilthead1,expression:K.expressions.smile1}),new b({character:K.character,motion:K.motions.coolTilthead2,expression:K.expressions.smile1,triggeredText:"alam kong"})]})),this.dialogs.push(new R({page:27,characterName:K.portName,dialog:"hope that never a bad day approach you though it's impossible but I hope the world will be always gentle to you.",modelMotion:[new b({character:K.character,motion:K.motions.adultNod3,expression:K.expressions.smile5})]})),this.dialogs.push(new R({page:28,characterName:K.portName,dialog:' Enjoy your day and always take care of yourself <3 I love you! And always know you have me\n        and Port Caf\xe9 always." - Jikan. *Shows you a picture of both of you together and a cover song*',modelMotion:[new b({character:K.character,motion:K.motions.adultBlushed3,expression:K.expressions.sparkling1})],modalContent:[new Qe({title:"Jikan",isPortrait:!1,link:"assets/img/greetings/jikan/genshin.png"}),new Qe({title:"Jikan",isPortrait:!1,isEmbed:!0,link:"https://www.youtube.com/embed/Fn-Y7Pl61Uw"})]})),this.dialogs.push(new R({page:29,characterName:nt.portName,dialog:"Oh, It's my turn. Happy Birthday Akarin! *Shows you a picture message*",changeModels:[nt.character],modelMotion:[new b({character:nt.character,motion:nt.motions.adultTilthead0304,expression:nt.expressions.smile1})],modalContent:[new Qe({title:"Doru",isPortrait:!1,link:"assets/img/greetings/doru/greeting.jpg"})]})),this.dialogs.push(new R({page:30,characterName:rt.portName,dialog:'"Happy birthday AKARIN!!! Hope na makuha mo lahat ng mga gusto mo sa buhay pati si SUI-CHAN XDDDD!\n        and MBTC! Greet muna ngayon ha! bawi ako pag di na busy" - Pogi pero Gwapo (Bene)',changeModels:[rt.character],modelMotion:[new b({character:rt.character,motion:rt.motions.lookup1,expression:rt.expressions.smile6})]})),this.dialogs.push(new R({page:31,characterName:Ie.portName,dialog:'"Happy birthday, Akarin! Sana nagustuhan mo yung skin na ginawa ko sa OC mo hehe \u{1f642} nag-improvise nako,\n      shoulder bust lang yon eh :PepeLaugh:',changeModels:[Ie.character],modelMotion:[new b({character:Ie.character,motion:Ie.motions.normalNod5,expression:Ie.expressions.normal2})]})),this.dialogs.push(new R({page:32,characterName:Ie.portName,dialog:'I hope you enjoy your day to the fullest, and more birthdays to come!" - Endergorl sa port',modelMotion:[new b({character:Ie.character,motion:Ie.motions.cuteGlad5,expression:Ie.expressions.smile5})],modalContent:[new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc.png"}),new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc2.png"}),new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc3.png"}),new Qe({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc4.png"})]})),this.dialogs.push(new R({page:33,characterName:ie.portName,dialog:"I'm last. \"Happy Birthday Akari!!! Sana ay masaya ka sa birthday mo. Pasensya kung kulang2x features\n        ng Project Akari: Birthday Stage! HAHAHA Ito lang nakayanan ni Emma xD.",changeModels:[ie.character],modelMotion:[new b({character:ie.character,motion:ie.motions.cuteGlad1,expression:ie.expressions.smile2}),new b({character:ie.character,motion:ie.motions.cuteShy1,expression:ie.expressions.smile1,triggeredText:"Stage!"})]})),this.dialogs.push(new R({page:34,characterName:ie.portName,dialog:'Sana ay makuha mo mga gusto mo sa buhay at si Ena Hihihi. Stay Healthy ka palagi kung hindi\n        matatalo na kita sa project sekai at kukunin ko trono mo xD" - Emma',modelMotion:[new b({character:ie.character,motion:ie.motions.cutePoseNod1,expression:ie.expressions.sparkling}),new b({character:ie.character,motion:ie.motions.cuteSmug1,expression:ie.expressions.sparkling,triggeredText:"matatalo"})]})),this.dialogs.push(new R({page:35,characterName:F.characterName,dialog:"I think Honami was the last one. Happy Birthday Akari and Enjoy your day. Good Bye!",changeModels:[Re.character,F.character,ge.character],modelMotion:[new b({index:0,character:Re.character,motion:Re.motions.adultGlad1,expression:Re.expressions.smile1}),new b({index:1,character:F.character,motion:F.motions.coolPoseNod1,expression:F.expressions.smile1}),new b({index:2,character:ge.character,motion:ge.motions.coolPoseNod3,expression:ge.expressions.smile1}),new b({index:0,character:Re.character,motion:Re.motions.coolShakehand1,expression:Re.expressions.smile1,triggeredText:"Good Bye"}),new b({index:1,character:F.character,motion:F.motions.happyShakehand1,expression:F.expressions.smile1,triggeredText:"Good Bye"}),new b({index:2,character:ge.character,motion:ge.motions.cuteShakehand1,expression:ge.expressions.smile1,triggeredText:"Good Bye"})]}))}},new _T,new gT,new yT,new vT,new CT,new wT,new DT,new ET,new bT,new ST];let I5=(()=>{class t{constructor(n){this.router=n,this.isShowModal=!1,this._isDialogCompleted=!1,this._timeouts=[],this._modalTimeouts=[],this._page=1,this._hasModalShown=!1,this.onExit=new je}ngOnChanges(n){this.dialog&&this.dialog.hasChangeModels&&n.modelLoaded.currentValue==this.dialog.changeModelLength&&this.dialog.runMotion()}ngOnInit(){this.dialog=this.greeting.getDialog(this._page++),this.startDialog()}_showModal(n){this.isShowModal=n}startDialog(){for(;this._timeouts.length;)clearTimeout(this._timeouts.pop());for(;this._modalTimeouts.length;)clearTimeout(this._modalTimeouts.pop());this._hasModalShown=!this.dialog.hasModalContents,this._isDialogCompleted&&(this._isDialogCompleted=!1),this.dialog.hasChangeModels||this.dialog.runMotion();for(let n=0;n<this.dialog.length;n++)this._timeouts.push(setTimeout(()=>{this.dialog.currentDialog+=this.dialog.getDialogChar(n),this.dialog.dialogOnChange(),this.dialog.length-1==n&&(this._modalTimeouts.push(setTimeout(()=>{this.dialog.hasModalContents&&this._showModal(!0)},1300)),this._isDialogCompleted=!0)},20*n))}dialogOnClick(){if(this._isDialogCompleted)this._hasModalShown&&(this.greeting.dialogs.length!=this._page-1?(this.dialog=this.greeting.getDialog(this._page++),this.dialog.updateModels(),this.dialog&&this.startDialog()):(this.dialog.currentDialog="",this.onExit.emit(),td.isIntroSkipped()||td.toggleIntro(),setTimeout(()=>{this.router.navigate(["/characters"])},500)));else{for(;this._timeouts.length;)clearTimeout(this._timeouts.pop());const n=this.dialog.motionLength;n>1&&this.dialog.runMotion(n-1),this._isDialogCompleted=!0,this.dialog.currentDialog=this.dialog.fullDialog,this._modalTimeouts.push(setTimeout(()=>{this.dialog.hasModalContents&&this._showModal(!0)},1300))}}modalOnClose(){this._showModal(!1),this._hasModalShown=!0}}return t.\u0275fac=function(n){return new(n||t)(E(jt))},t.\u0275cmp=On({type:t,selectors:[["app-dialog-box"]],inputs:{greeting:"greeting",modelLoaded:"modelLoaded"},outputs:{onExit:"onExit"},features:[Yt],decls:9,vars:3,consts:[[1,"dialog-container","fade-in"],[1,"dialog-title"],[1,"dialog-title-box"],[1,"dialog-title-content"],[1,"dialog-body",3,"click"],[1,"dialog-body-content"],[3,"modalContents","onClose",4,"ngIf"],[3,"modalContents","onClose"]],template:function(n,r){1&n&&(H(0,"div",0)(1,"div",1),Te(2,"div",2),H(3,"div",3),Xt(4),te()(),H(5,"div",4),De("click",function(){return r.dialogOnClick()}),H(6,"div",5),Xt(7),te()()(),vt(8,M5,1,1,"app-modal",6)),2&n&&(ve(4),Ws(" ",r.dialog.characterName," "),ve(3),Ws(" ",r.dialog.currentDialog," "),ve(1),fe("ngIf",r.isShowModal))},dependencies:[ki,ZS],styles:['[_nghost-%COMP%]{position:fixed;bottom:10%;left:10%;height:200px;width:80%;z-index:3}div[_ngcontent-%COMP%]{box-sizing:unset!important}.dialog-container[_ngcontent-%COMP%]{position:relative;width:100%}.dialog-title[_ngcontent-%COMP%]{position:relative;padding:10px;top:-38px;left:6%;height:50px;width:30%;z-index:4;border-radius:200px;background-color:#67658a;border:3px solid #c5cbe1}.dialog-title-box[_ngcontent-%COMP%]{position:absolute;height:20px;width:20px;background-color:#00f7d6;transform:rotate(44deg);top:34%;left:7%}.dialog-title-box[_ngcontent-%COMP%]:after{position:absolute;top:-15px;left:-4px;font-size:30px;font-weight:700;color:#676688;margin-left:10px;content:"."}.dialog-title-content[_ngcontent-%COMP%]{position:absolute;font-size:30px;font-weight:400;color:#fff;top:24%;left:16%}.dialog-body[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:0;left:0;background-color:#fff;height:200px;width:100%;border-radius:500px;border:3px solid rgb(184,184,184)}.dialog-body-content[_ngcontent-%COMP%]{cursor:pointer;position:relative;font-size:30px;font-weight:400;color:#fff;top:24%;padding:0 8%;color:#67658a}.fade-in[_ngcontent-%COMP%]{animation:fadeIn 1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}']}),t})();function x5(t,e){if(1&t){const n=mr();H(0,"app-dialog-box",5),De("onExit",function(){return Bn(n),jn(xt().onExit())}),te()}if(2&t){const n=xt();fe("greeting",n.greeting)("modelLoaded",n.modelLoadedCount)}}function T5(t,e){if(1&t){const n=mr();H(0,"app-assets-loader",6),De("onCompleted",function(){return Bn(n),jn(xt().onAssetsLoaded())}),te()}2&t&&fe("loadGreetings",!0)}function A5(t,e){1&t&&Te(0,"app-loading-screen")}let P5=(()=>{class t{constructor(n){this.routh=n,this.showDialogBox=!1,this.isModelLoaded=!1,this.modelLoadedCount=0,this._isDialogShown=!1,this.isIntro=!1}ngOnInit(){this.routh.queryParams.subscribe(n=>{this.isIntro="intro"==n.greetedby,this.isIntro||this.onAssetsLoaded()})}ngOnDestroy(){Se.releaseInstance()}onExit(){this.isModelLoaded=!1}onAssetsLoaded(){this.routh.queryParams.subscribe(n=>{this._initlAppDelegate(),this.greeting=MT.getGreeting(n.greetedby),this.greeting.getDialog(1).updateModels()})}_initlAppDelegate(){const n=Se.getInstance();n.eventListener(r=>{switch(r){case Yr.ModelLoaded:this._isDialogShown||(this.isModelLoaded=!0,setTimeout(()=>{this.showDialogBox=!0,this._isDialogShown=!0,this.greeting.getDialog(1).runMotion()},200)),++this.modelLoadedCount,console.log("Model Loaded");break;case Yr.MotionCompleted:console.log("Motion Completed");break;case Yr.ModelReleased:this.modelLoadedCount=0,console.log("Model Released")}}),0!=n.initialize()&&n.run()}}return t.\u0275fac=function(n){return new(n||t)(E(ji))},t.\u0275cmp=On({type:t,selectors:[["app-greetings"]],decls:5,vars:3,consts:[["src","assets/img/background/classroom.jpg","alt","",1,"background"],["id","l2d-canvas"],[3,"greeting","modelLoaded","onExit",4,"ngIf"],[3,"loadGreetings","onCompleted",4,"ngIf"],[4,"ngIf"],[3,"greeting","modelLoaded","onExit"],[3,"loadGreetings","onCompleted"]],template:function(n,r){1&n&&(Te(0,"img",0)(1,"div",1),vt(2,x5,1,2,"app-dialog-box",2),vt(3,T5,1,1,"app-assets-loader",3),vt(4,A5,1,0,"app-loading-screen",4)),2&n&&(ve(2),fe("ngIf",r.showDialogBox),ve(1),fe("ngIf",!r.isModelLoaded&&r.isIntro),ve(1),fe("ngIf",!r.isIntro&&!r.isModelLoaded))},dependencies:[ki,I5,mI,Ad],styles:[".background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;z-index:0}#l2d-canvas[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;z-index:1}#l2d-canvas[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();class Sr{constructor({group:e,greetingId:n,portName:r,imgUrl:i}){this._group=e,this._greetingId=n,this._portName=r,this._imgUrl=i}get group(){return this._group}get greetingId(){return this._greetingId}get portName(){return this._portName}get imgUrl(){return this._imgUrl}}var Be=(()=>(function(t){t[t.virtualSinger=0]="virtualSinger",t[t.leoNeed=1]="leoNeed",t[t.moreMoreJump=2]="moreMoreJump",t[t.vividSquad=3]="vividSquad",t[t.wxS=4]="wxS",t[t.n25=5]="n25"}(Be||(Be={})),Be))();class Xo{constructor({groupName:e,imgUrl:n,bgImgUrl:r,groupKey:i,members:s}){this._groupName=e,this._groupImgUrl=n,this._groupBGImgUrl=r,this._groupKey=i,this._members=s}get name(){return this._groupName}get imgUrl(){return this._groupImgUrl}get bgImgUrl(){return this._groupBGImgUrl}get key(){return this._groupKey}get members(){return this._members}getClass(e){return this.key==e?"group-logo-img active":"group-logo-img"}}class zt{static getGroup(e){switch(e){case Be.virtualSinger:return this.virtualSinger;case Be.leoNeed:return this.leoNeed;case Be.moreMoreJump:return this.moreMoreJump;case Be.vividSquad:return this.vividSquad;case Be.wxS:return this.wonderlandxS;case Be.n25:return this.nightCordAt25;default:return null}}}function N5(t,e){if(1&t){const n=mr();H(0,"div",11)(1,"img",12),De("click",function(){const s=Bn(n).$implicit;return jn(xt(2).logoOnClick(s))}),te()()}if(2&t){const n=e.$implicit,r=xt(2);ve(1),rc("alt","",n.name," Logo"),fe("ngClass",n.getClass(r.selectedGroup.key))("src",n.imgUrl,Is)}}zt.virtualSinger=new Xo({groupName:"Virtual Singer",imgUrl:"assets/img/group-logo/VirtualSinger.png",bgImgUrl:"assets/img/background/virtual-singer.png",groupKey:Be.virtualSinger,members:[new Sr({group:Be.virtualSinger,greetingId:bT.greetingId,portName:"Arya",imgUrl:"assets/img/characters/Arya.png"}),new Sr({group:Be.virtualSinger,greetingId:ST.greetingId,portName:"Yuyan",imgUrl:"assets/img/characters/Yuyan.png"})]}),zt.leoNeed=new Xo({groupName:"Virtual Singer",imgUrl:"assets/img/group-logo/LeoNeed.png",bgImgUrl:"assets/img/background/leo-need.png",groupKey:Be.leoNeed,members:[new Sr({group:Be.leoNeed,greetingId:gT.greetingId,portName:"Emma-Kun",imgUrl:"assets/img/characters/EmmaKun.png"})]}),zt.moreMoreJump=new Xo({groupName:"More More Jump",imgUrl:"assets/img/group-logo/MoreMoreJump.png",bgImgUrl:"assets/img/background/more-more-jump.png",groupKey:Be.moreMoreJump,members:[new Sr({group:Be.moreMoreJump,greetingId:yT.greetingId,portName:"Juicy",imgUrl:"assets/img/characters/Juicy.png"}),new Sr({group:Be.moreMoreJump,greetingId:_T.greetingId,portName:"Jikan",imgUrl:"assets/img/characters/Jikan2.png"})]}),zt.vividSquad=new Xo({groupName:"Vivid Bad Squad",imgUrl:"assets/img/group-logo/VividSquad.png",bgImgUrl:"assets/img/background/vivid.png",groupKey:Be.vividSquad,members:[new Sr({group:Be.vividSquad,greetingId:vT.greetingId,portName:"Doru",imgUrl:"assets/img/characters/Doru.png"}),new Sr({group:Be.vividSquad,greetingId:CT.greetingId,portName:"Sham",imgUrl:"assets/img/characters/Sham.png"}),new Sr({group:Be.vividSquad,greetingId:wT.greetingId,portName:"Sky",imgUrl:"assets/img/characters/Sky.png"})]}),zt.wonderlandxS=new Xo({groupName:"Wonderlands x Showtime",imgUrl:"assets/img/group-logo/WxS.png",bgImgUrl:"assets/img/background/WxS.png",groupKey:Be.wxS,members:[new Sr({group:Be.wxS,greetingId:DT.greetingId,portName:"Bene",imgUrl:"assets/img/characters/Bene.png"})]}),zt.nightCordAt25=new Xo({groupName:"Nightcord at 25:00",imgUrl:"assets/img/group-logo/N25.png",bgImgUrl:"assets/img/background/n25.png",groupKey:Be.n25,members:[new Sr({group:Be.n25,greetingId:ET.greetingId,portName:"Asra",imgUrl:"assets/img/characters/Asra.png"})]}),zt.groups=[zt.virtualSinger,zt.leoNeed,zt.moreMoreJump,zt.vividSquad,zt.wonderlandxS,zt.nightCordAt25];const R5=function(){return["/greetings"]},O5=function(t){return{greetedby:t}};function F5(t,e){if(1&t&&(H(0,"li",13),Te(1,"img",14),te()),2&t){const n=e.$implicit;fe("routerLink",function $w(t,e,n){const r=Ot()+t,i=D();return i[r]===X?gr(i,r,n?e.call(n):e()):function xa(t,e){return t[e]}(i,r)}(4,R5))("queryParams",Va(5,O5,n.greetingId)),ve(1),fe("src",n.imgUrl,Is)("alt",n.portName)}}function k5(t,e){if(1&t&&(H(0,"div",2),Te(1,"div",3),H(2,"div",4)(3,"div",5),Xt(4," Characters "),te()(),H(5,"div",6)(6,"div",7),vt(7,N5,2,3,"div",8),te()(),H(8,"div",9)(9,"ul"),vt(10,F5,2,7,"li",10),te()()()),2&t){const n=xt();(function Q0(t,e,n){gn(Ls(D(),t,e,n))})("background-image: url('",n.selectedGroup.bgImgUrl,"'), linear-gradient(rgba(0, 0, 0, 0.5),rgba(0,0,0,0.5))"),ve(7),fe("ngForOf",n.groups),ve(3),fe("ngForOf",n.selectedGroup.members)}}function L5(t,e){if(1&t){const n=mr();H(0,"app-assets-loader",15),De("onCompleted",function(){return Bn(n),jn(xt().onAssetsLoaded())}),te()}2&t&&fe("loadCharacters",!0)}const V5=[{path:"",component:Bz},{path:"assets",component:Ad},{path:"greetings",component:P5},{path:"characters",component:(()=>{class t{constructor(){this.groups=zt.groups,this.isAssetsLoaded=!1}ngOnInit(){this.selectedGroup=zt.getGroup(Be.virtualSinger)}logoOnClick(n){this.selectedGroup=n}onAssetsLoaded(){this.isAssetsLoaded=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-characters"]],decls:2,vars:2,consts:[["class","characters-body",3,"style",4,"ngIf"],[3,"loadCharacters","onCompleted",4,"ngIf"],[1,"characters-body"],[1,"overlay"],[1,"header"],[1,"header-title"],[1,"group-logo"],[1,"row","align-items-center"],["class","col animate__animated animate__fadeInRight",4,"ngFor","ngForOf"],[1,"group-body"],["class","animate__animated animate__zoomIn",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"col","animate__animated","animate__fadeInRight"],[3,"ngClass","src","alt","click"],[1,"animate__animated","animate__zoomIn",3,"routerLink","queryParams"],[1,"group-character",3,"src","alt"],[3,"loadCharacters","onCompleted"]],template:function(n,r){1&n&&(vt(0,k5,11,5,"div",0),vt(1,L5,1,1,"app-assets-loader",1)),2&n&&(fe("ngIf",r.isAssetsLoaded),ve(1),fe("ngIf",!r.isAssetsLoaded))},dependencies:[lE,cE,ki,ed,Ad],styles:[".characters-body[_ngcontent-%COMP%]{height:100vh;width:100vw;background-repeat:no-repeat;background-size:cover;background-position:center;background-blend-mode:overlay}.header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,#00ffdd 0%,rgba(255,255,255,0) 120%);height:80px;width:100%;display:flex;justify-self:center;align-items:center}.header-title[_ngcontent-%COMP%]{position:absolute;left:44%;font-size:35px;font-weight:700;color:#446}.group-logo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;padding:15px}.group-logo-img[_ngcontent-%COMP%]{cursor:pointer;width:150px;opacity:.3}.group-logo-img.active[_ngcontent-%COMP%]{opacity:1}.group-body[_ngcontent-%COMP%]{padding:20px;height:70%;display:flex;justify-content:center;align-items:center}.group-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}.group-body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;padding:20px 10px}.group-character[_ngcontent-%COMP%]{cursor:pointer;height:402px;border-radius:10px;width:200px;box-shadow:0 0 10px #0000004d;border:2px solid white}"]}),t})()}];let B5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({imports:[$b.forRoot(V5),$b]}),t})(),j5=(()=>{class t{constructor(){this.title="project-akari"}onbeforeinstallprompt(n){n.preventDefault(),this.promptEvent=n}installPWA(){this.promptEvent.prompt()}shouldInstall(){return!this.isRunningStandalone()&&this.promptEvent}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-root"]],hostBindings:function(n,r){1&n&&De("beforeinstallprompt",function(s){return r.onbeforeinstallprompt(s)},!1,_v)},decls:1,vars:0,template:function(n,r){1&n&&Te(0,"router-outlet")},dependencies:[Ap]}),t})();const U5=["addListener","removeListener"],H5=["addEventListener","removeEventListener"],$5=["on","off"];function qd(t,e,n,r){if(ce(n)&&(r=n,n=void 0),r)return qd(t,e,n).pipe(fp(r));const[i,s]=function W5(t){return ce(t.addEventListener)&&ce(t.removeEventListener)}(t)?H5.map(o=>a=>t[o](e,a,n)):function G5(t){return ce(t.addListener)&&ce(t.removeListener)}(t)?U5.map(IT(t,e)):function z5(t){return ce(t.on)&&ce(t.off)}(t)?$5.map(IT(t,e)):[];if(!i&&nh(t))return ht(o=>qd(o,e,n))(Nn(t));if(!i)throw new TypeError("Invalid event target");return new $e(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function IT(t,e){return n=>r=>t[n](e,r)}const vi=new $e(ou),Y5={connector:()=>new nn};function xT(t,e=Y5){const{connector:n}=e;return ct((r,i)=>{const s=n();it(t(function q5(t){return new $e(e=>t.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}class Q5 extends tn{constructor(e,n){super()}schedule(e,n=0){return this}}const Yd={setInterval(t,e,...n){const{delegate:r}=Yd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},TT={now:()=>(TT.delegate||Date).now(),delegate:void 0};class Jl{constructor(e,n=Jl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Jl.now=TT.now;const AT=new class J5 extends Jl{constructor(e,n=Jl.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class Z5 extends Q5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Yd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Yd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ls(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),eW=AT;function PT(t,e){return e?n=>Qa(e.pipe(rn(1),function tW(){return ct((t,e)=>{t.subscribe(dt(e,ou))})}()),n.pipe(PT(t))):ht((n,r)=>t(n,r).pipe(rn(1),HE(n)))}const eu="Service workers are disabled or not supported by this browser";class Xd{constructor(e){if(this.serviceWorker=e,e){const r=qd(e,"controllerchange").pipe(pe(()=>e.controller)),s=Qa(Vc(()=>$(e.controller)),r);this.worker=s.pipe(Mn(c=>!!c)),this.registration=this.worker.pipe(Kn(()=>e.getRegistration()));const u=qd(e,"message").pipe(pe(c=>c.data)).pipe(Mn(c=>c&&c.type)).pipe(function K5(t){return t?e=>xT(t)(e):e=>function X5(t,e){const n=ce(t)?t:()=>t;return ce(e)?xT(e,{connector:n}):r=>new pp(r,n)}(new nn)(e)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function sW(t){return Vc(()=>to(new Error(t)))}(eu)}postMessage(e,n){return this.worker.pipe(rn(1),wt(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Mn(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(rn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Mn(n=>n.nonce===e),rn(1),pe(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let oW=(()=>{class t{constructor(n){if(this.sw=n,this.subscriptionChanges=new nn,!n.isEnabled)return this.messages=vi,this.notificationClicks=vi,void(this.subscription=vi);this.messages=this.sw.eventsOfType("PUSH").pipe(pe(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(pe(i=>i.data)),this.pushManager=this.sw.registration.pipe(pe(i=>i.pushManager));const r=this.pushManager.pipe(Kn(i=>i.getSubscription()));this.subscription=ih(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(n){if(!this.sw.isEnabled)return Promise.reject(new Error(eu));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Kn(o=>o.subscribe(r)),rn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(rn(1),Kn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(eu))}decodeBase64(n){return atob(n)}}return t.\u0275fac=function(n){return new(n||t)(A(Xd))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),aW=(()=>{class t{constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=vi,this.available=vi,this.activated=vi,void(this.unrecoverable=vi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Mn(r=>"VERSION_READY"===r.type),pe(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(eu));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(eu));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}return t.\u0275fac=function(n){return new(n||t)(A(Xd))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class S_{}const NT=new q("NGSW_REGISTER_SCRIPT");function lW(t,e,n,r){return()=>{if(!mE(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[a,...l]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=$(null);break;case"registerWithDelay":s=RT(+l[0]||0);break;case"registerWhenStable":s=l[0]?ih(OT(t),RT(+l[0])):OT(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(Ze).runOutsideAngular(()=>s.pipe(rn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function RT(t){return $(null).pipe(function iW(t,e=AT){const n=function rW(t=0,e,n=eW){let r=-1;return null!=e&&(Y_(e)?n=e:r=e),new $e(i=>{let s=function nW(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return PT(()=>n)}(t))}function OT(t){return t.get($a).isStable.pipe(Mn(n=>n))}function uW(t,e){return new Xd(mE(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let cW=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[{provide:NT,useValue:n},{provide:S_,useValue:r},{provide:Xd,useFactory:uW,deps:[S_,_c]},{provide:pc,useFactory:lW,deps:[Lt,NT,S_,_c],multi:!0}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=vn({providers:[oW,aW]}),t})();let dW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t,bootstrap:[j5]}),t.\u0275inj=vn({providers:[],imports:[zB,B5,DH,cW.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),t})();(function xL(){VD=!1})(),GB().bootstrapModule(dW).catch(t=>console.error(t))}},ce=>{ce(ce.s=290)}]);